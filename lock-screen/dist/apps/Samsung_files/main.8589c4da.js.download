!function(e){function t(t){for(var r,o,i=t[0],s=t[1],u=t[2],l=0,f=[];l<i.length;l++)o=i[l],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(d&&d(t);f.length;)f.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,i=1;i<n.length;i++){var s=n[i];0!==a[s]&&(r=!1)}r&&(c.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={31:0},c=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=a[e]=[t,r]}));t.push(n[2]=r);var c,i=document.createElement("script");i.charset="utf-8",i.timeout=120,o.nc&&i.setAttribute("nonce",o.nc),i.src=function(e){return o.p+"static/js/"+({0:"default~CallFrame~pages0~pages1",1:"default~bs~mk~sq",2:"default~CallFrame~CobrowseFrame",3:"default~IncomingFrame~OutgoingFrame",4:"default~pages0~pages1",5:"AzureFileUpload",6:"CallFrame",7:"CobrowseFrame",8:"IncomingFrame",9:"OutgoingFrame",10:"ar",11:"bs",12:"cs",13:"da",14:"de",15:"en",16:"es",17:"et",18:"fi",19:"fr",20:"ga",21:"he",22:"hr",23:"hu",24:"id",25:"infoCard",26:"it",27:"ja",28:"ko",29:"lt",30:"lv",32:"mk",33:"ml",34:"nb",35:"nl",36:"pages0",37:"pages1",38:"pl",39:"pt",40:"reactPlayerDailyMotion",41:"reactPlayerFacebook",42:"reactPlayerFilePlayer",43:"reactPlayerMixcloud",44:"reactPlayerPreview",45:"reactPlayerSoundCloud",46:"reactPlayerStreamable",47:"reactPlayerTwitch",48:"reactPlayerVidyard",49:"reactPlayerVimeo",50:"reactPlayerWistia",51:"reactPlayerYouTube",52:"ro",53:"sk",54:"sl",55:"sq",56:"sr",57:"sv",58:"th",59:"tr",61:"vi",62:"zh",63:"zh-HK",64:"zh-TW"}[e]||e)+"."+{0:"61a4dc68",1:"dc12f191",2:"d6b60a02",3:"93c1708f",4:"c68c6eb8",5:"221a70d4",6:"d18fc871",7:"90c014a2",8:"c87e1f98",9:"35a487cf",10:"3fd38af8",11:"7705fc2c",12:"d168209f",13:"b2d40835",14:"68ed2862",15:"fe32b337",16:"a50d8e8f",17:"c934b652",18:"474eb08a",19:"fdd97db1",20:"fc678b48",21:"e979bf57",22:"18b6fd95",23:"dbbb650a",24:"89e94088",25:"9408ebed",26:"5a36092e",27:"4ef1f6f0",28:"ea3ec862",29:"20b4a085",30:"834daac2",32:"40a44964",33:"62a82615",34:"845aa149",35:"e1c21902",36:"1af7bff6",37:"8e087f48",38:"bdc17e71",39:"63ffb256",40:"ba3a0aee",41:"fd6f5ef6",42:"8ef941dc",43:"2b48556e",44:"4834f64a",45:"c5976cc4",46:"5d7e57b9",47:"e4183b8a",48:"2d0306ba",49:"bc84ed6e",50:"1ac587e6",51:"afd05a03",52:"c2a4ccbd",53:"9c052dfb",54:"d5873903",55:"dfea2543",56:"0f89f3a4",57:"8ed948e9",58:"939e8d9a",59:"f958d45c",61:"8d7dbb38",62:"2b669436",63:"3c968c5b",64:"760fffca",65:"b8bfd169"}[e]+".chunk.js"}(e);var s=new Error;c=function(t){i.onerror=i.onload=null,clearTimeout(u);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+r+": "+c+")",s.name="ChunkLoadError",s.type=r,s.request=c,n[1](s)}a[e]=void 0}};var u=setTimeout((function(){c({type:"timeout",target:i})}),12e4);i.onerror=i.onload=c,document.head.appendChild(i)}return Promise.all(t)},o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="https://live-chat-static.sprinklr.com/chat/SuDc0ELUt/",o.oe=function(e){throw console.error(e),e};var i=this["webpackJsonp@sprinklr/chat-web-client"]=this["webpackJsonp@sprinklr/chat-web-client"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var d=s;c.push([721,60]),n()}({102:function(e,t,n){"use strict";var r=n(16),a=n(44),c={makeMessage:function(e){var t=e.conversationId,n=e.userId,c=e.creationTime;return(new r.a).setConversationId(t).setSender(n).setId("".concat(a.f,"_").concat(n)).setCreationTime(c).build()}},o=n(220),i=n.n(o),s=n(148),u=n.n(s),d=n(58),l=n(393),f=n(166),b=n(4),p=n(9),O=n.n(p),v=n(306),h=n(11),g={TEXT:h.b.TEXT_POST_BACK,LOCATION:h.b.LOCATION_POST_BACK},j=function(e){return{messageId:e.messageId,buttonId:e.quickReply.id,payload:e.quickReply.payload,section:"QUICK_REPLY"}},m=Object(b.a)({},v.b.TEXT,Object(b.a)({},h.b.TEXT_POST_BACK,(function(e){return{text:e.quickReply.title}})));var x,y,I=n(12),w=n(31),C=n(71),T=n(70),E=n(10),k=n(133),S=Object(E.a)("messageId"),_=Object(E.a)("section"),A=Object(E.a)("buttonId"),N=Object(E.a)("payload"),R=function(e){Object(C.a)(n,e);var t=Object(T.a)(n);function n(e){var r;return Object(I.a)(this,n),(r=t.call(this,e)).setIsTemplateType(!0),r}return Object(w.a)(n,[{key:"setMessageId",value:function(e){return this.set(S,e)}},{key:"setSection",value:function(e){return this.set(_,e)}},{key:"setButtonId",value:function(e){return this.set(A,e)}},{key:"setPayload",value:function(e){return this.set(N,e)}}]),n}(k.a),P=Object(E.a)("filledForm"),L=Object(E.a)("filledFormSummary"),D=function(e){Object(C.a)(n,e);var t=Object(T.a)(n);function n(e){var r;return Object(I.a)(this,n),(r=t.call(this,e)).setType("CONTACT_DETAILS_POST_BACK"),r}return Object(w.a)(n,[{key:"setFilledForm",value:function(e){return this.set(P,e)}},{key:"setFilledFormSummary",value:function(e){return this.set(L,e)}}]),n}(R),M=Object(E.a)("filledForm"),B=function(e){Object(C.a)(n,e);var t=Object(T.a)(n);function n(e){var r;return Object(I.a)(this,n),(r=t.call(this,e)).setType(h.b.FORM_POST_BACK),r}return Object(w.a)(n,[{key:"setFilledForm",value:function(e){return this.set(M,e)}}]),n}(R),U=Object(E.a)("secureFormId"),F=Object(E.a)("maskedData"),G=function(e){Object(C.a)(n,e);var t=Object(T.a)(n);function n(e){var r;return Object(I.a)(this,n),(r=t.call(this,e)).setType(h.b.SECURE_FORM_POST_BACK),r}return Object(w.a)(n,[{key:"setSecureFormId",value:function(e){return this.set(U,e)}},{key:"setMaskedData",value:function(e){return this.set(F,e)}}]),n}(R),z=Object(E.a)("selectedSlot"),V=Object(E.a)("slots"),W=Object(E.a)("selectedDate"),H=function(e){Object(C.a)(n,e);var t=Object(T.a)(n);function n(e){var r;return Object(I.a)(this,n),(r=t.call(this,e)).setType(h.b.APPOINTMENT_POST_BACK),r}return Object(w.a)(n,[{key:"setSelectedSlot",value:function(e){return this.set(z,e)}},{key:"setSlots",value:function(e){return this.set(V,e)}},{key:"setSelectedDate",value:function(e){return this.set(W,e)}}]),n}(R),K=Object(E.a)("text"),Y=function(e){Object(C.a)(n,e);var t=Object(T.a)(n);function n(e){var r;return Object(I.a)(this,n),(r=t.call(this,e)).setType(h.b.TEXT_POST_BACK),r}return Object(w.a)(n,[{key:"setText",value:function(e){return this.set(K,e)}}]),n}(R),$=function(e){Object(C.a)(n,e);var t=Object(T.a)(n);function n(e){var r;return Object(I.a)(this,n),(r=t.call(this,e)).setType(h.b.SURVEY_POST_BACK),r}return n}(R),X=Object(E.a)("text"),q=function(e){Object(C.a)(n,e);var t=Object(T.a)(n);function n(e,r){var a;return Object(I.a)(this,n),(a=t.call(this,r)).setType(e),a}return Object(w.a)(n,[{key:"setText",value:function(e){return this.set(X,e),this}}]),n}(R),J=Object(E.a)("feedbackRating"),Q=Object(E.a)("feedbackComment"),Z=Object(E.a)("feedbackType"),ee=function(e){Object(C.a)(n,e);var t=Object(T.a)(n);function n(e){var r;return Object(I.a)(this,n),(r=t.call(this,e)).setType(h.b.FEEDBACK_POST_BACK),r}return Object(w.a)(n,[{key:"setFeebackValues",value:function(e){return this.set(J,e)}},{key:"setFeedbackComment",value:function(e){return this.set(Q,e)}},{key:"setFeedbackType",value:function(e){return this.set(Z,e)}}]),n}(R),te=n(61),ne=n.n(te),re=n(92),ae=n.n(re),ce=n(88),oe=n.n(ce),ie=n(416),se={TEXT:"TEXT",CHECKBOX_GROUP:"CHECKBOX_GROUP",PICKLIST:"PICKLIST",CHECKBOX:"CHECKBOX"},ue=(x={},Object(b.a)(x,se.CHECKBOX_GROUP,(function(e,t){var n=O()(e,"picklistValues");return ne()(t,(function(e,t){var r=Object(ie.a)(O()(ae()(n,(function(e){return e.value===t})),"label"));return e.concat("\u2022  ".concat(r,"\n"))}),"")})),Object(b.a)(x,se.PICKLIST,(function(e,t){var n=O()(e,"picklistValues");return O()(ae()(n,(function(e){return e.value===t})),"label")})),x),de=[se.CHECKBOX],le=function(e,t){return t.reduce((function(t,n){var r=Object(ie.a)(n.name),a=e[n.id];if(a&&r&&!oe()(de,n.type)){var c=ue[n.type],o=c?c(n,a):a;return t.concat("".concat(r,"\n").concat(o,"\n\n"))}return t}),"").trimEnd()},fe=function(e,t){return(new R).setType(e).setButtonId(t.buttonId).setMessageId(t.messageId).setSection(t.section).setPayload(t.payload).build()},be=function(e){return function(t){return{attachment:new q(e,fe(e,t)).build(),text:t.text}}},pe=(y={},Object(b.a)(y,h.b.CONTACT_DETAILS_POST_BACK,(function(e){var t=e.formValues,n=e.formFields,r=e.showSubmittedContent,a=e.submit;return{attachment:new D(fe(h.b.CONTACT_DETAILS_POST_BACK,e)).setFilledForm({formId:e.formId,plainFieldValues:t}).build(),text:r?O()(a,"title"):le(t,n)}})),Object(b.a)(y,h.b.FORM_POST_BACK,(function(e){var t=e.formValues,n=e.formFields,r=e.showSubmittedContent,a=e.submit;return{attachment:new B(fe(h.b.FORM_POST_BACK,e)).setFilledForm({formId:e.formId,plainFieldValues:t}).build(),text:r?O()(a,"title"):le(t,n)}})),Object(b.a)(y,h.b.SECURE_FORM_POST_BACK,(function(e){var t=e.formData,n=e.formId;return{attachment:new G(fe(h.b.SECURE_FORM_POST_BACK,e)).setMaskedData(t).setSecureFormId(n).build()}})),Object(b.a)(y,h.b.APPOINTMENT_POST_BACK,(function(e){var t=e.selectedDate,n=e.slots,r=e.selectedSlot,a=e.slotDisplayText;return{attachment:new H(fe(h.b.APPOINTMENT_POST_BACK,e)).setSelectedSlot(r).setSlots(n).setSelectedDate(t.getTime()).build(),text:a}})),Object(b.a)(y,h.b.TEXT_POST_BACK,(function(e){return{attachment:new Y(fe(h.b.TEXT_POST_BACK,e)).setText(e.text).build(),text:e.text}})),Object(b.a)(y,h.b.ACCEPT_CO_BROWSE,be(h.b.ACCEPT_CO_BROWSE)),Object(b.a)(y,h.b.DENY_CO_BROWSE,be(h.b.DENY_CO_BROWSE)),Object(b.a)(y,h.b.FEEDBACK_POST_BACK,(function(e){var t=e.feedbackRating,n=e.feedbackComment,r=e.feedbackType;return{attachment:new ee(fe(h.b.FEEDBACK_POST_BACK,e)).setFeebackValues(t).setFeedbackComment(n).setFeedbackType(r).build()}})),Object(b.a)(y,h.b.SURVEY_POST_BACK,(function(e){return{attachment:new $(fe(h.b.SURVEY_POST_BACK,e)).build()}})),y);function Oe(e){var t=pe[e.type];if(t)return t(e.params)}var ve=n(202),he=n.n(ve),ge=n(74),je=n.n(ge),me=n(221),xe=n.n(me),ye=n(15),Ie=n.n(ye),we=n(62),Ce=n.n(we),Te=n(144),Ee=n(78),ke=function(e){return e.type===Ee.a.TEXT_POST_BACK?Object.assign({},e,{type:Te.a.POST_BACK,postBackHandlerType:Ee.a.TEXT_POST_BACK,id:u()()}):e.type===Ee.a.EXTERNAL?Object.assign({},e,{params:e.id,id:u()()}):Object.assign({},e,{id:u()()})},Se=function(e){return{formTitle:e.formTitle,formId:u()(),fields:e.fields.map((function(e){return Object.assign({id:u()()},e,{defaultValue:JSON.stringify(e.defaultValue)})}))}},_e=n(114),Ae=n(153),Ne={EXTERNAL_DATA:"EXTERNAL_DATA"},Re=n(46),Pe=n.n(Re),Le=n(201),De=n.n(Le),Me=n(25),Be=n.n(Me),Ue=n(35),Fe=n(105),Ge=n.n(Fe),ze={id:{type:"string",presence:!0},type:{presence:!0,inclusion:[v.a]}},Ve={title:{presence:!0,type:"string"},imageUrl:{type:"string"}},We={disableManualResponse:{type:"boolean"},quickReplies:{array:{each:function(e){var t,n,r=[],a=Pe()(e,ze,{format:"flat"});return a&&r.push.apply(r,Object(Ue.a)(Ge()(a))),e&&e.type===v.a&&(t=Ve),t&&(n=Pe()(e,t,{format:"flat"})),n&&r.push.apply(r,Object(Ue.a)(Ge()(n))),r.length?r:void 0}}}},He={quickReplies:{custom:{validator:function(e,t,n){if(Pe.a.isDefined(e))return Pe.a.isDefined(e)&&!Pe.a.isDefined(n.text)?"must have valid text field in message":Pe()(e,We)}}}},Ke={type:{presence:!0,inclusion:[h.b.CONTACT_DETAILS_FORM,h.b.PROGRESS_BAR,h.b.FORM,h.b.CARD]},disableManualResponse:{type:"boolean"}},Ye={id:{presence:!0,type:"string"},title:{presence:!0,type:"string"},subtitle:{type:"string"},imageUrl:{type:"string"},type:{presence:!0,inclusion:Object.values(Te.a)}},$e=Object.assign({},Ye,{postBackHandlerType:{presence:!0,inclusion:[h.b.TEXT_POST_BACK,h.b.LOCATION_POST_BACK,h.b.CONTACT_DETAILS_POST_BACK,h.b.FEEDBACK_POST_BACK]}}),Xe={submitted:{type:"boolean"},postSubmitTitle:{type:"string"},postSubmitSubtitle:{type:"string"},postSubmitImageUrl:{type:"string"}},qe=[se.CHECKBOX_GROUP],Je={formId:{type:"string"},formTitle:{type:"string"},fields:{array:{each:{id:{presence:!0,type:"string"},name:{presence:!0,type:"string"},type:{presence:!0,inclusion:["TEXT","NUMBER","DATE","CHECKBOX_GROUP","PICKLIST"]},mandatory:{type:"boolean"},defaultValue:{custom:{validator:function(e,t,n){var r=oe()(qe,n.type);if(!(!r&&Pe.a.isString(e)||r&&!Pe.a.single(e,{array:{each:{presence:!0,type:"string"}}})))return"must be string or array"}}},picklistValues:{array:{each:{label:{presence:!0,type:"string"},value:{presence:!0,type:"string"}}}}}}}},Qe=Object.assign({},Xe,{title:{presence:!0,type:"string"},form:{constraints:Je},submit:{constraints:Object.assign({},$e,{postBackHandlerType:{presence:!0,is:h.b.CONTACT_DETAILS_POST_BACK}})}}),Ze={title:{presence:!0,type:"string"},previewImageUrl:{url:!0},reSubmittable:{type:"boolean"},buttons:{array:{each:{type:{presence:!0,inclusion:[Ee.a.OPEN_URL,Ee.a.TEXT_POST_BACK,Ee.a.EXTERNAL]},title:{presence:!0,type:"string"},id:{custom:{validator:function(e,t,n){if(!Pe.a.isString(e)&&n.type===Ee.a.EXTERNAL)return"is not present"}}},url:{custom:{validator:function(e,t,n){if(n.type===Ee.a.OPEN_URL)return Pe.a.single(e,{url:!0,presence:!0})}}}}}}},et={title:{presence:!0,type:"string"},description:{type:"string"},enableCancel:{type:"boolean"},enableRetry:{type:"boolean"},actionId:{custom:{validator:function(e,t,n){if(!Pe.a.isString(e)&&(n.enableCancel||n.enableRetry))return"is not present"}}},progress:{custom:{validator:function(e,t,n){return n.status!==_e.a.STARTED||Pe.a.isDefined(e)?Pe.a.single(e,{numericality:{greaterThanOrEqualTo:0,lessThanOrEqualTo:100}}):"is not present"}}},status:{presence:!0,inclusion:[_e.a.INIT,_e.a.STARTED,_e.a.COMPLETED,_e.a.ABORTED,_e.a.ERROR,_e.a.PAUSE]}},tt=Object.assign({},Xe,{form:{constraints:Je},submit:{constraints:Ye}}),nt={attachment:{custom:{validator:function(e){if(Pe.a.isDefined(e)){var t,n,r=[],a=Pe()(e,Ke,{format:"flat"});return a&&r.push.apply(r,Object(Ue.a)(Ge()(a))),e&&e.type===h.b.CONTACT_DETAILS_FORM&&(t=Qe),e&&e.type===h.b.FORM&&(t=tt),e&&e.type===h.b.PROGRESS_BAR&&(t=et),e&&e.type===h.b.CARD&&(t=Ze),t&&(n=Pe()(e,t,{format:"flat"})),n&&r.push.apply(r,Object(Ue.a)(Ge()(n))),r.length?r:void 0}}}}},rt={messageType:{inclusion:[Ae.b,Ae.c,Ae.a]}},at=Object.assign({},rt,{disableManualResponse:{type:"boolean"}},{text:{type:"string"}},{events:{array:{each:{type:{presence:!0,type:"string"}}}}},He,nt);Pe.a.validators.is=function(e,t){if(e!==t)return"is not equal to ".concat(t)},Pe.a.validators.array=function(e,t,n,r){if(Pe.a.isDefined(e)){if(!Pe.a.isArray(e))return"is not an array";var a=t.each,c=e.reduce((function(e,t,c){var o;return(o=Pe.a.isObject(t)?De()(a)?a(t,n,r):Pe()(t,a,{format:"flat"}):Pe.a.single(t,a,{format:"flat"}))&&e.push("#".concat(c,": ").concat(o.join(", "))),e}),[]);return Ie()(c)?void 0:c}},Pe.a.validators.constraints=function(e,t,n,r){if(Pe.a.isDefined(e)){var a=Ie()(t)?void 0:t;return Pe()(e,a)}},Pe.a.validators.custom=function(e,t,n,r){if(Pe.a.isDefined(e)){var a=Ie()(t)?void 0:t.validator;if(De()(a)){var c=a(e,n,r);if(c)return t.message?t.message(c,e,n):c||"is invalid"}}},Pe.a.validators.type.types.function=Re.isFunction,Pe.a.validators.type.messages.function="is not a function";var ct,ot=function(e){return!function(e){return Pe()(e,at)}(e)},it=(ct={},Object(b.a)(ct,h.b.CONTACT_DETAILS_FORM,(function(e){return Object.assign({},e,{templateType:!0,form:Se(e.form),submit:ke(e.submit)})})),Object(b.a)(ct,h.b.FORM,(function(e){return Object.assign({},e,{form:Se(e.form),submit:ke(e.submit)})})),Object(b.a)(ct,h.b.PROGRESS_BAR,(function(e){return Object.assign({},je()(e,"actionId"),{progress:(t=e.progress,n=e.status,n===_e.a.INIT?0:n===_e.a.COMPLETED?100:t),action:e.actionId});var t,n})),Object(b.a)(ct,h.b.CARD,(function(e){return Object.assign({},e,{buttons:(t=e.buttons,t.map(ke))});var t})),ct),st=function(e){var t=e.attachment;if(!t||!t.type)return je()(e,["attachment"]);var n=it[t.type];return n?Object.assign({},e,{attachment:n(t)}):e},ut=function(e){var t=Ce()(d.a.getEvents(e));return Ie()(t)?e:Object.assign({},je()(e,"event"),{events:[{type:Ne.EXTERNAL_DATA,filledForm:{formId:O()(t,"type"),plainFieldValues:Object.assign({eventType:O()(t,"type")},je()(t,"type"))}}]})},dt=function(e){return Object.assign({},e,{messageType:Ie()(Ce()(d.a.getEvents(e)))?Ae.b:Ae.a})},lt=function(e){var t,n,r,a,c;if(a=e.externalMessageId,!Pe.a.single(a,{presence:!0,type:"string"})&&ot(e.messagePayload)&&(r=e.messageId,!Pe.a.single(r,{type:"string"}))&&(n=e.conversationId,!Pe.a.single(n,{presence:!0,type:"string"}))&&(t=e.messageContext,!Pe.a.single(t,{custom:{validator:function(e){if(Pe.a.isObject(e)){var t=[];return Be()(e,(function(e){var n=Pe.a.single(e,{array:{each:{presence:!0,type:"string"}}});n&&t.push(n)})),Ie()(t)?void 0:t}return"is not a object"}}})))return Object.assign({},xe()(e,["conversationId","messageId","sender"]),{additionalContext:e.messageContext,messagePayload:(c=e.messagePayload,he()(dt,ut,st)(c))})};function ft(e){var t=e.attachment,n=e.messageType,r=e.text,a=e.textEntities;return(new d.a).setMessageText(r||"").setTextEntities(a||[]).setAttachment(t).setMessageType(n||Ae.b).build()}function bt(e,t,n,c,o){return(new r.a).setId(c||"".concat(a.f,"_").concat(i()())).setConversationId(t).setMessagePayload(e).setSender(n).setClientMessageId(u()()).setAdditionalContext(o).build()}var pt={makeTextMessage:function(e){var t=e.text,n=e.conversationId,r=e.sender;return bt(ft({text:t}),n,r)},makeImageAttachmentMessage:function(e){var t=e.attachmentProperties,n=e.conversationId,r=e.sender;return bt(ft({attachment:Object(f.b)(t)}),n,r)},makeVideoAttachmentMessage:function(e){var t=e.attachmentProperties,n=e.conversationId,r=e.sender;return bt(ft({attachment:Object(f.d)(t)}),n,r)},makeDocumentAttachmentMessage:function(e){var t=e.attachmentProperties,n=e.conversationId,r=e.sender;return bt(ft({attachment:Object(f.a)(t)}),n,r)},makeTemplatePostbackAttachmentMessage:function(e){var t=e.postback,n=e.conversationId,r=e.sender,a=Object(l.b)(t);if(a)return bt(ft(Object.assign({},Oe(a),{messageType:Ae.c})),n,r)},makeQuickReplyPostbackAttachmentMessage:function(e){var t=e.postback,n=e.conversationId,r=e.sender,a=function(e){var t=e.quickReply.type,n=O()(g,t),r=O()(m,"[".concat(t,"][").concat(n,"]"));if(r)return{type:n,params:Object.assign({},j(e),r(e))}}(t);if(a)return bt(ft(Object.assign({},Oe(a),{messageType:Ae.c})),n,r)},makeDynamicMessage:function(e){var t=lt(e);if(t)return bt(t.messagePayload,t.conversationId,t.sender,t.messageId,t.additionalContext)}},Ot={makeMessage:function(e){var t=e.messageId,n=e.messagePayload,a=e.creationTime,c=e.conversationId,o=e.sender,i=e.clientMessageId;if(n&&!d.a.isEmpty(n))return(new r.a).setId(t).setMessagePayload(n).setConversationId(c).setCreationTime(a||+new Date).setSender(o).setClientMessageId(i).build()}},vt={makeIncoming:function(){return c},makeOutgoing:function(){return pt},makeSent:function(){return Ot}};t.a=vt},106:function(e,t,n){"use strict";n.d(t,"o",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"g",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"l",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"k",(function(){return l})),n.d(t,"b",(function(){return f})),n.d(t,"j",(function(){return b})),n.d(t,"h",(function(){return p})),n.d(t,"f",(function(){return O})),n.d(t,"m",(function(){return v})),n.d(t,"n",(function(){return h})),n.d(t,"i",(function(){return g}));var r=n(51);function a(){return{type:r.l,payload:{}}}function c(e){var t=e.messageId,n=e.conversationId,a=e.agentId;return{type:r.h,payload:{messageId:t,conversationId:n,agentId:a}}}function o(){return{type:r.m,payload:{}}}function i(e){return{type:r.f,payload:{messageId:e.messageId,endedByAgent:e.endedByAgent,markCompletedSession:e.markCompletedSession}}}function s(){return{type:r.g,payload:{}}}function u(){return{type:r.d,payload:{}}}function d(e){return{type:r.b,payload:e}}function l(){return{type:r.e,payload:{}}}function f(){return{type:r.c,payload:{}}}function b(e){return{type:r.a,payload:e}}function p(e){return{type:r.n,payload:e}}function O(e){return{type:r.o,payload:e}}function v(e){return{type:r.j,payload:e}}function h(e){return{type:r.k,payload:e}}var g=function(e){return{type:r.i,payload:e}}},108:function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"f",(function(){return l})),n.d(t,"a",(function(){return f}));var r=n(693),a=n.n(r),c=n(26),o=n(109);function i(){return window.navigator.userAgent}function s(){var e=Object(o.a)();return Object(o.b)(e)?e.document.referrer:""}function u(){var e=Object(o.a)();return Object(o.b)(e)?e.location.href:Object(c.b)().document.referrer}function d(){var e=Object(o.a)();return Object(o.b)(e)?e.document.title:""}function l(){return a.a.determine().name()}function f(){return{pageTitle:d(),pageUrl:u(),pageReferrer:s(),userAgent:i(),locale:Object(c.a)().locale,timeZone:l()}}},109:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return s}));var r=n(20),a=function(){return window.parent.parent!==window.parent},c=function(){return a()?window.parent.parent:window.parent},o=function(e){var t=null;try{t=e.document}catch(n){console.log({error:n})}return null!==t},i=function(){return Object(r.E)()&&a()},s=function(){return Object(r.F)()&&a()}},11:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r={IMAGE:"IMAGE",VIDEO:"VIDEO",AUDIO:"AUDIO",LINK:"LINK",DOCUMENT:"DOCUMENT",TEXT:"TEXT",FORM:"FORM",CONTACT_DETAILS_FORM:"CONTACT_DETAILS_FORM",FEEDBACK_FORM:"FEEDBACK_FORM",CARD:"CARD",CO_BROWSE_INVITE:"CO_BROWSE_INVITE",CAROUSEL:"CAROUSEL",PROGRESS_BAR:"PROGRESS_BAR",SECURE_FORM:"SECURE_FORM",QUICK_SELECT_CARD:"QUICK_SELECT_CARD",DISCLAIMER_CARD:"DISCLAIMER_CARD",APPOINTMENT:"APPOINTMENT",FAQ:"FAQ",CO_BROWSE:"CO_BROWSE",VIDEO_CHAT:"VIDEO_CHAT",SURVEY:"SURVEY",TEXT_POST_BACK:"TEXT_POST_BACK",START_VIDEO_CALL:"START_VIDEO_CALL",START_AUDIO_CALL:"START_AUDIO_CALL",ACCEPT_CO_BROWSE:"ACCEPT_CO_BROWSE",DENY_CO_BROWSE:"DENY_CO_BROWSE",LOCATION_POST_BACK:"LOCATION_POST_BACK",CONTACT_DETAILS_POST_BACK:"CONTACT_DETAILS_POST_BACK",FORM_POST_BACK:"FORM_POST_BACK",FEEDBACK_POST_BACK:"FEEDBACK_POST_BACK",SECURE_FORM_POST_BACK:"SECURE_FORM_POST_BACK",APPOINTMENT_POST_BACK:"APPOINTMENT_POST_BACK",SURVEY_POST_BACK:"SURVEY_POST_BACK"},a=[r.IMAGE,r.VIDEO,r.AUDIO,r.DOCUMENT,r.LINK];t.b=r},110:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(12),a=n(6),c=n(10),o=function e(){Object(r.a)(this,e)};o.getId=Object(a.a)(Object(c.a)("userId")),o.getName=function(e){return function(e,t,n){if(e)return e;var r=n?" ".concat(n):"";return"".concat(t||"").concat(r)}(Object(a.a)(Object(c.a)("fullName"))(e),Object(a.a)(Object(c.a)("firstName"))(e),Object(a.a)(Object(c.a)("lastName"))(e))},o.getFirstName=Object(a.a)(Object(c.a)("firstName")),o.getLastName=Object(a.a)(Object(c.a)("lastName")),o.getProfileImageUrl=Object(a.a)(Object(c.a)("profileImageUrl")),o.getEmail=Object(a.a)(Object(c.a)("email")),o.getPhoneNo=Object(a.a)(Object(c.a)("phoneNo"))},1112:function(e,t){},1118:function(e,t){},112:function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));var r=n(410),a=n(15),c=n.n(a),o=n(63),i=n(108),s=new r.a({getSessionToken:function(){return Promise.resolve(void 0)},getUserId:function(){return""},getCurrentPage:i.b,getCurrentPageTitle:function(){return encodeURIComponent(Object(i.c)())}}),u=function(e){var t=e.appId,n=e.userId;if(!c()(s)){var r={};t&&(r.getSessionToken=function(){return Object(o.a)(t)}),n&&(r.getUserId=function(){return n}),c()(r)||s.updateHeaders(r)}};t.a=s},114:function(e,t,n){"use strict";t.a={INIT:0,STARTED:1,COMPLETED:2,ABORTED:3,ERROR:4,PAUSE:5}},1146:function(e,t){},1148:function(e,t){},115:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"h",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return f})),n.d(t,"c",(function(){return b})),n.d(t,"g",(function(){return p}));var r=n(5),a=n(179),c="left",o="right",i=function(e){var t=Object(r.e)("chatConversation.body.backgroundUrl")(e),n=Object(r.e)("chatConversation.body.backgroundColor")(e);return{backgroundColor:"".concat(n,";"),background:t?"repeat center/160px url(".concat(t,");"):""}},s=function(e,t,n){return function(r){var a=r.isPhone;return"".concat(e,": ").concat(a?n:t,";")}},u="@media (hover: none), (pointer: coarse)",d="\n  outline: none;\n  box-shadow: 0 0 0px 3px rgba(28, 108, 253, 0.42);\n",l="\n  outline: none;\n  box-shadow: none;\n",f="\n  outline: none;\n  box-shadow: 0 0 0px 3px rgba(255, 255, 255, 0.6);\n",b=function(e,t){return function(n){return n.direction===a.b.LTR?e:t}},p=function(e){return function(t){return e===c?t.direction===a.b.LTR?c:o:e===o?t.direction===a.b.LTR?o:c:e}}},117:function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"h",(function(){return s})),n.d(t,"i",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return f})),n.d(t,"q",(function(){return b})),n.d(t,"n",(function(){return p})),n.d(t,"y",(function(){return O})),n.d(t,"x",(function(){return v})),n.d(t,"t",(function(){return h})),n.d(t,"r",(function(){return g})),n.d(t,"s",(function(){return j})),n.d(t,"u",(function(){return m})),n.d(t,"v",(function(){return x})),n.d(t,"m",(function(){return y})),n.d(t,"l",(function(){return I})),n.d(t,"B",(function(){return w})),n.d(t,"z",(function(){return C})),n.d(t,"A",(function(){return T})),n.d(t,"C",(function(){return E})),n.d(t,"w",(function(){return k})),n.d(t,"j",(function(){return S})),n.d(t,"b",(function(){return _})),n.d(t,"a",(function(){return A})),n.d(t,"o",(function(){return N})),n.d(t,"c",(function(){return R})),n.d(t,"p",(function(){return P})),n.d(t,"k",(function(){return L}));var r=n(7),a=n(86),c=n(150),o=n(16),i=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{payload:{shouldFetchNumberOfOpenConversation:e},type:r.f}},s=function(e,t){var n=t.cursor,a=t.size;return function(t){return{payload:{conversationId:e,cursor:n,size:a||20},type:r.l,promise:t}}},u=function(e,t,n){return function(a){return{payload:{conversationId:e,query:t,faqAttachment:n},type:r.z,promise:a}}},d=function(e){var t=e.conversationId,n=e.includeAll;return function(e){return{payload:{conversationId:t,includeAll:n},type:r.i,promise:e}}},l=function(e){var t=e.conversationId,n=e.includeAll;return function(e){return{payload:{conversationId:t,includeAll:n},type:r.h,promise:e}}},f=function(e){return{type:r.j,payload:e}},b=function(e){return function(t){return{payload:{conversationId:e},type:r.o,promise:t}}},p=function(e){return{type:r.F,payload:{chatMessage:e,conversationId:o.a.getConversationId(e)}}},O=function(e){var t=e.text,n=e.conversationId,a=e.sender;return{type:r.V,payload:{text:t,conversationId:n,sender:a}}},v=function(e){var t=e.postback,n=e.conversationId,a=e.sender;return function(e){return{type:r.U,payload:{postback:t,conversationId:n,sender:a},promise:e}}},h=function(e){return{type:r.y,payload:e}},g=function(e){var t=e.action,n=e.conversationId,r=Object(c.a)(t.actionId,t.attachment);return h({type:a.a,payload:{contextId:n,actionId:r.params,actionPayload:t.values}})},j=function(e){var t=e.action,n=e.conversationId,r=Object(c.a)(t.actionId,t.attachment);return h({type:a.b,payload:{contextId:n,actionId:r.params,actionPayload:t.values}})},m=function(e){var t=e.id,n=e.conversationId,r=e.messageId;return h({type:a.e,payload:{id:t,contextId:n,sprMsgId:r}})},x=function(e){var t=e.id,n=e.conversationId,r=e.messageId;return h({type:a.g,payload:{id:t,contextId:n,sprMsgId:r}})},y=function(e){var t=e.attachment,n=e.actionId;return function(e){var a=Object(c.a)(n,t);return{type:r.N,payload:{url:a.url},promise:e}}},I=function(e){var t=e.surveyUrl,n=e.shouldReplace,a=e.conversationId;return{type:r.Q,payload:{surveyUrl:t,shouldReplace:n,conversationId:a}}},w=function(){return{type:r.S,payload:{}}},C=function(){return{type:r.P,payload:{}}},T=function(){return{type:r.T,payload:{}}},E=function(e){var t=e.actionParams,n=e.conversationId,a=e.sender,o=e.appContext;return function(e){return{type:r.c,payload:{actionParams:Object.assign({},t,{actionTypes:Object(c.b)(t)}),conversationId:n,sender:a,appContext:o},promise:e}}},k=function(e){var t=e.postback,n=e.conversationId,a=e.sender;return{type:r.O,payload:{postback:t,conversationId:n,sender:a}}},S=function(e,t){return function(n){return{type:r.I,payload:{conversationId:e,appContext:t},promise:n}}},_=function(e){return{type:r.u,payload:{conversationId:e}}},A=function(e,t,n){return{type:r.r,payload:{conversationId:t,caseId:e,context:n}}},N=function(e,t){return{type:r.B,payload:{chatMessage:e,conversationId:o.a.getConversationId(e),alternateUserIds:t}}},R=function(e,t){return function(n){return{type:r.p,payload:{conversationId:e,disclaimerStatus:t},promise:n}}},P=function(e,t){return{type:r.C,payload:{chatMessageId:t,conversationId:e}}};function L(e,t){return{type:r.L,payload:{conversationId:e,lastReadMessageId:t}}}},122:function(e,t,n){"use strict";n.d(t,"h",(function(){return h})),n.d(t,"e",(function(){return g})),n.d(t,"b",(function(){return j})),n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return x})),n.d(t,"d",(function(){return y})),n.d(t,"i",(function(){return I})),n.d(t,"a",(function(){return w})),n.d(t,"c",(function(){return C}));var r=n(39),a=n(321),c=n(15),o=n.n(c),i=n(244),s=n.n(i),u=n(16),d=n(133),l=n(44),f=n(11),b=n(58),p=n(393),O=new RegExp(l.f),v=new Set([f.b.CONTACT_DETAILS_FORM,f.b.FEEDBACK_FORM,f.b.CARD,f.b.CO_BROWSE_INVITE,f.b.CAROUSEL,f.b.FORM,f.b.PROGRESS_BAR,f.b.SECURE_FORM,f.b.SECURE_FORM_POST_BACK,f.b.QUICK_SELECT_CARD,f.b.APPOINTMENT,f.b.VIDEO_CHAT,f.b.CO_BROWSE,f.b.SURVEY]),h=function(e){return!O.test(e.id)},g=function(e){return u.a.getMessagePayload(e)&&!!u.a.getMessagePayload(e).events},j=function(e){return s()(e,(function(e){return!g(e)}))},m=Object(r.a)(a.a,u.a.getMessagePayload),x=Object(r.a)(a.a,u.a.getCreationTime),y=function(e){return!d.a.isTemplateType(e)||v.has(e.type)};function I(e){if(!e)return!1;var t=b.a.getAttachment(u.a.getMessagePayload(e));return!t||!d.a.isTemplateType(t)||!p.a.has(d.a.getType(t))}function w(e){if(b.a.shouldDisableManualResponse(u.a.getMessagePayload(e)))return!1;var t=b.a.getAttachment(u.a.getMessagePayload(e));if(!(!t||!d.a.isTemplateType(t)||!t.disableManualResponse))return!1;var n=b.a.getQuickReplies(u.a.getMessagePayload(e));return o()(n)||!n.disableManualResponse}var C=function(e){return s()(e,(function(e){return!m(e)&&!x(e)}))}},1223:function(e,t){},1224:function(e,t){},123:function(e,t,n){"use strict";n.d(t,"d",(function(){return I})),n.d(t,"c",(function(){return w})),n.d(t,"b",(function(){return C})),n.d(t,"a",(function(){return T}));var r=n(4),a=n(13),c=n(207),o=n(53),i=n(5),s=n(198),u=n.n(s),d=n(364),l=n.n(d),f=n(124),b=n.n(f),p=n(152),O=n.n(p),v=n(61),h=n.n(v),g=n(91),j=n.n(g),m=n(56),x=n.n(m),y=[":hover",":focus",":disabled",":selected",":error"],I=function(e,t){return t?Object(o.l)(1-l()(b()(e)?1:e),t):t},w=function(e){return u()(O()(e,"p")[0])};function C(e){var t,n,r;return Object(o.h)(e).lightness<.62?(t=Object(o.k)(.3,e),n=e,r=Object(o.j)(.2,e)):(t=e,n=Object(o.a)(.1,e),r=Object(o.a)(.2,e)),[t,n,r]}function T(e){return h()(e,(function(e,t,n){return Object(a.a)(Object(a.a)({},e),{},Object(r.a)({},n,j()(t)&&!x()(t)?T(function(e){var t=e[":hover"],n=e[":focus"],r=e[":disabled"],a=e[":selected"],o=e[":error"],s=Object(c.a)(e,y),u=s.borderColor,d=s.borderWidth,l=s.borderBottomColor,f=s.borderBottomWidth,b=s.borderTopColor,p=s.borderTopWidth,O=s.borderLeftColor,v=s.borderLeftWidth,h=s.borderRightColor,g=s.borderRightWidth;return t&&(s["&:hover"]=t,s["&:focus"]=t),n&&(s["&:focus"]=n),r&&(s["&:disabled"]=r),a&&(s['&[data-selected="true"]']=a),(u||d)&&(s.border="".concat(Object(i.b)(d||"1px")," solid ").concat(u||"")),(l||f)&&(s.borderBottom="".concat(Object(i.b)(f||"1px")," solid ").concat(l||u||"")),(b||p)&&(s.borderTop="".concat(Object(i.b)(p||"1px")," solid ").concat(b||u||"")),(O||v)&&(s.borderLeft="".concat(Object(i.b)(v||"1px")," solid ").concat(O||u||"")),(h||g)&&(s.borderRight="".concat(Object(i.b)(g||"1px")," solid ").concat(h||u||"")),o&&(s['&[data-error="true"]']=o),s}(t)):t))}),{})}},1239:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(19),o=n(13),i=(n(722),n(776),n(35)),s=n(4),u=n(15),d=n.n(u),l=n(143),f=n(33),b=n(207),p=n(194),O=n.n(p),v=n(74),h=n.n(v),g=n(25),j=n.n(g),m=n(9),x=n.n(m),y=n(87),I=n.n(y),w=n(304),C=n(112),T=n(27),E=n(12),k=n(10),S=n(6),_=n(1242),A=Object(k.a)("isSSOAuthorized"),N=Object(k.a)("authToken"),R=Object(k.a)("oneTimeToken"),P=function e(){Object(E.a)(this,e)};P.isSSOAuthorized=Object(S.a)(A),P.getAuthToken=Object(S.a)(N),P.hasIsSSOAuthorized=function(e){return e&&Object(_.a)("isSSOAuthorized",e)},P.getOneTimeToken=Object(S.a)(R);var L=n(81),D=n(80),M=n(65),B=n(269),U=n(63),F=n(89),G=n(20),z=n(108),V=function(e){var t=screen.width/2,n=screen.height/2,r=t-t/2,a=n-n/2;return window.open(e,"_blank","height=".concat(n,",width=").concat(t,",top=").concat(a,",left=").concat(r))},W=n(264),H=n(26),K=function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r,c,o,i,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ssoId,r=t.conversationId,c=t.messageId,o=Object(H.a)(),i=o.appId,e.t0={key:"idpId",value:n},e.next=6,Object(U.a)(i);case 6:return e.t1=e.sent,e.t2={key:"x-chat-token",value:e.t1},s=[e.t0,e.t2],r&&s.push({key:"conversationId",value:r}),c&&s.push({key:"messageId",value:c}),e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y="".concat("https://prod-video-chat-chat.sprinklr.com","/api"),$=function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r,c,o,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ssoId,r=t.conversationId,c=t.messageId,e.next=3,K({ssoId:n,conversationId:r,messageId:c});case 3:return o=e.sent,i=Object(W.b)(o),e.abrupt("return","".concat(Y,"/livechat/authenticate/begin?").concat(i));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(e){return P.isSSOAuthorized(T.a.getUserSettings(Object(H.a)()))&&!!M.a.getAutoLoginSSOId(D.a.getCustomizationConfig(e))},q=function(){var e=window.document.createElement("iframe");e.id="subscriberIframe",e.src="".concat("https://live-chat-static.sprinklr.com","/api/livechat/authenticate/listener.html?appId=").concat(Object(H.a)().appId),e.style.visibility="hidden",window.document.body.appendChild(e)},J=function(){var e=document.getElementById("subscriberIframe");e&&document.body.removeChild(e)},Q=function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r,o,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ssoId,r=t.conversationId,o=t.messageId,e.t0=V,e.next=4,$({ssoId:n,conversationId:r,messageId:o});case 4:return e.t1=e.sent,i=(0,e.t0)(e.t1),q(),e.abrupt("return",new Promise((function(e,t){var n;n=setInterval((function(){i&&i.closed&&(o(),t())}),1500);var r=function(){var n=Object(c.a)(a.a.mark((function n(r){var c,i;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r.origin.match(/(sprinklr\.com)/g)){n.next=15;break}return n.prev=1,c=JSON.parse(r.data),i=c.params,n.next=5,Object(U.i)(Object(H.a)().appId,i.authToken);case 5:e(i),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(1),t(),console.error(n.t0);case 12:return n.prev=12,o(),n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[1,8,12,15]])})));return function(e){return n.apply(this,arguments)}}(),o=function(){clearInterval(n),window.removeEventListener("message",r)};window.addEventListener("message",r)})).finally((function(){i&&i.close(),J()})));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=n(171),ee={AVAILABLE_AGENTS:"AVAILABLE_AGENTS",BUSINESS_HOURS:"BUSINESS_HOURS",AGENT_OUT_OF_CAPACITY:"AGENT_OUT_OF_CAPACITY"},te=n(96),ne=["id","hash"],re=function(e){Object(C.b)({userId:e.chatUser.userId})},ae=function(e){if(e)try{return JSON.parse(atob(e.split(".")[1]))}catch(t){console.error("Unable to parse user token when isSSOAuthorized",e)}return te.a},ce=function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r,c,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=T.a.getAppId(t),r=T.a.getUserSettings(t),c=P.getAuthToken(r),!P.hasIsSSOAuthorized(r)){e.next=10;break}return e.t0=ae,e.next=5,Object(U.a)(n);case 5:if(e.t1=e.sent,o=(0,e.t0)(e.t1),!Object(Z.a)(o.chatUserId)){e.next=10;break}return e.next=10,Object(U.f)(n);case 10:if(!c){e.next=15;break}return e.next=13,Object(U.f)(n);case 13:return e.next=15,Object(U.i)(n,c);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function oe(e){return ie.apply(this,arguments)}function ie(){return(ie=Object(c.a)(a.a.mark((function e(t){var n,r,c,o,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(U.c)(t);case 3:n=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.warn(e.t0);case 9:return e.prev=9,e.next=12,Object(U.b)(t,F.a);case 12:r=e.sent,e.next=18;break;case 15:e.prev=15,e.t1=e.catch(9),console.warn(e.t1);case 18:return e.prev=18,e.next=21,Object(U.b)(t,F.b);case 21:c=e.sent,e.next=27;break;case 24:e.prev=24,e.t2=e.catch(18),console.warn(e.t2);case 27:return i=(i=c||n)===(o=r||c||n)?void 0:i,e.abrupt("return",{primaryToken:o,secondaryToken:i});case 31:case"end":return e.stop()}}),e,null,[[0,6],[9,15],[18,24]])})))).apply(this,arguments)}function se(e){return ue.apply(this,arguments)}function ue(){return(ue=Object(c.a)(a.a.mark((function e(t){var n,r,c,i,s,u,l,f,p,O,v,g,j,m;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=T.a.getAppId(t),r=T.a.getUserSettings(t),c=h()(T.a.getUserSettings(t),["authToken","isSSOAuthorized","oneTimeToken"]),i=T.a.getUserContext(t),!!!T.a.getSessionOrigin(Object(H.a)())){e.next=12;break}return e.next=5,oe(n);case 5:l=e.sent,f=l.primaryToken,p=l.secondaryToken,s=f,u=p,e.next=15;break;case 12:return e.next=14,Object(U.c)(n);case 14:s=e.sent;case 15:return O={appId:n,oneTimeToken:x()(r,"oneTimeToken"),chatSessionToken:s,secondaryChatToken:u,page:Object(z.b)(),pageTitle:Object(z.c)(),referralPage:Object(z.d)(),timezone:Object(z.f)(),userAgent:Object(z.e)(),locale:T.a.getLocale(t),meetingId:T.a.getMeetingId(t),otp:T.a.getOtp(t)},d()(c)||(g=(v=c).id,j=v.hash,m=Object(b.a)(v,ne),Object.assign(O,{chatUser:Object(o.a)({userId:g},m),chatUserSignature:j})),d()(i)||Object.assign(O,{customContext:i}),e.abrupt("return",O);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var de=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(w.c)(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(U.g)(t,F.d);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.warn(e.t0);case 8:return e.prev=8,e.next=11,Object(U.g)(t,F.b);case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(8),console.warn(e.t1);case 16:case"end":return e.stop()}}),e,null,[[0,5],[8,13]])})));return function(t){return e.apply(this,arguments)}}(),fe=function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=w.a,e.next=3,se(t);case 3:return e.t1=e.sent,e.next=6,(0,e.t0)(e.t1);case 6:if(n=e.sent,!!!T.a.getSessionOrigin(Object(H.a)())){e.next=11;break}return e.next=11,le(T.a.getAppId(t));case 11:return e.next=13,Object(U.i)(T.a.getAppId(t),n.chatSessionToken);case 13:if(n.userPreferences){e.next=18;break}return e.next=16,Object(U.e)(n.chatUser.userId);case 16:return r=e.sent,e.abrupt("return",Object(o.a)(Object(o.a)({},n),{},{userPreferences:r}));case 18:return e.abrupt("return",n);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r,c,o,i,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.allSettled([de(t),fe(t)]);case 2:if(n=e.sent,r=Object(f.a)(n,2),c=r[0],o=r[1],i=c.value,!Object(G.F)()&&X(i)){e.next=9;break}return e.abrupt("return",[c,o]);case 9:return e.prev=9,e.next=12,Q({ssoId:M.a.getAutoLoginSSOId(D.a.getCustomizationConfig(i))});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),console.error(e.t0);case 17:return e.next=19,fe(t);case 19:return s=e.sent,e.abrupt("return",[c,{value:s}]);case 21:case"end":return e.stop()}}),e,null,[[9,14]])})));return function(t){return e.apply(this,arguments)}}(),pe=function(e,t){var n=M.a.getInvisibilityCriteriaOfTrigger(D.a.getCustomizationConfig(e))||x()(D.a.getVisibilityConfigFilter(e),"filters"),r={canInitialize:!0,error:[]};if(!d()(n)){var a,c=function(e){r.canInitialize=!1,r.error.push(e)},o=L.a.getNoOfAgentsAvailable(t),i=L.a.getNumberOfPendingCases(t),u=(a={},Object(s.a)(a,ee.AVAILABLE_AGENTS,I()(o)?Number.MAX_VALUE:o),Object(s.a)(a,ee.AGENT_OUT_OF_CAPACITY,I()(i)?Number.MIN_VALUE:i),Object(s.a)(a,ee.BUSINESS_HOURS,L.a.getTimeToAvailability(t)),a);j()(n,(function(e){B.a.createFilterAction(e).matches(O()(c,e.field),te.a,u)}))}return r},Oe=n(21),ve=n(2),he=n.n(ve),ge=n(231),je=n.n(ge),me=n(93),xe=n(3),ye=n(59),Ie=n(408),we=n(379),Ce=n(395),Te=n(209),Ee=n(50),ke=n(79),Se=n(75),_e=n(31),Ae=n(71),Ne=n(70),Re=n(203),Pe=n(17),Le=n(167);var De=Object(Pe.a)("div",{target:"ejhhbev0"})({name:"jbngkd",styles:"display:flex;flex-direction:column;height:100%;width:100%;position:relative;"}),Me=Object(xe.css)("@media screen and (min-width:",Le.b+1,"px) and (min-height:",Le.a+1,"px){border-radius:8px;}"),Be={name:"1ih49i4",styles:"opacity:0;z-index:1;overflow:hidden;"},Ue={name:"h3fsyk",styles:"opacity:1;transition:opacity 0.16s ease-in;overflow:hidden;"},Fe=Object(xe.css)(".","page-fade","-enter{",Be,";}.","page-fade","-enter.","page-fade","-enter-active{",Ue,";}.","page-fade","-exit{",Ue,";}.","page-fade","-exit.","page-fade","-exit-active{",Be,";}"),Ge=n(1243),ze=n(1260),Ve=n(1261),We=n(98),He=n.n(We),Ke=n(5),Ye=n(330),$e=Object(Pe.a)("div",{target:"egs66bu0"})("font-size:",Object(Ke.d)("xs"),";margin:0 auto;position:absolute;top:20%;z-index:",Ye.a.SNACK_BAR,";"),Xe=Object(Pe.a)("div",{target:"egs66bu1"})("background:",Object(Ke.e)("snackBar.backgroundColor"),";color:",Object(Ke.a)("white"),";max-width:70%;border-radius:",Object(Ke.e)("snackBar.borderRadius"),"px;padding:",Object(Ke.f)("snackBar.padding"),";"),qe=Object(xe.css)(".","snackbar","-enter{transform:translateY(-20%);transition:transform 250ms ease-in;}.","snackbar","-enter-active{transform:translateY(0);}.","snackbar","-exit{transform:translateY(0);transition:transform 250ms ease-out;}.","snackbar","-exit-active{transform:translateY(-20%);}"),Je=n(504),Qe=function(){var e,t=Object(Je.a)(),n=t.notification,r=t.setNotification,a=Object(ve.useRef)(),c=Object(ve.useMemo)((function(){return x()(n,"timeout")||2e3}),[n]);return Object(ve.useEffect)((function(){n&&(window.clearTimeout(a.current),a.current=window.setTimeout((function(){r(void 0)}),c))}),[n,c]),Object(xe.jsx)(he.a.Fragment,null,Object(xe.jsx)(xe.Global,{styles:qe}),Object(xe.jsx)(Re.CSSTransition,{classNames:"snackbar",in:Boolean(n),timeout:{enter:250,exit:250},mountOnEnter:!0,unmountOnExit:!0,appear:!0},Object(xe.jsx)($e,{className:"center-x-y full-width"},n?Object(xe.jsx)(Xe,{className:"text-wrap"},(e=n.message,He()(e)?e:Object(xe.jsx)(ke.b,e))):null)))};var Ze=Object(Pe.a)("div",{target:"e1ippspd0"})({name:"1enwibq",styles:"position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden;"});var et=function(e){var t=Object(G.t)(),r=Object(ve.useState)(),a=Object(f.a)(r,2),c=a[0],o=a[1];return Object(ve.useEffect)((function(){n(644)("./".concat(t.toLowerCase(),"/pages")).then((function(e){o(e)}))}),[]),Object(xe.jsx)(Ze,{className:e.className},c?e.children(c):null)},tt=function(e){var t=e.children,n=e.locationKey;return Object(xe.jsx)(Re.TransitionGroup,null,Object(xe.jsx)(Re.CSSTransition,{key:n,classNames:"page-fade",timeout:300},t))},nt=function(e){Object(Ae.a)(n,e);var t=Object(Ne.a)(n);function n(){return Object(E.a)(this,n),t.apply(this,arguments)}return Object(_e.a)(n,[{key:"renderRoutes",value:function(){return Object(xe.jsx)(Ge.a,{render:function(e){var t=e.location;return Object(xe.jsx)(tt,{locationKey:t.pathname},Object(xe.jsx)(et,{css:Me},(function(e){var n=e.HomePage,r=e.NewConversationPage,a=e.ExistingConversationPage,c=e.NotFoundErrorPage,o=e.LastConversationPage,i=e.ConversationsListPage,s=e.SurveyPage,u=e.Error401Page;return Object(xe.jsx)(ze.a,{location:t},Object(xe.jsx)(Ge.a,{exact:!0,path:"/home",component:n}),Object(xe.jsx)(Ge.a,{exact:!0,path:"/survey/:surveyUrl",component:s}),Object(xe.jsx)(Ge.a,{path:"/conversation",render:function(e){var t=e.match;return Object(xe.jsx)(ze.a,null,Object(xe.jsx)(Ge.a,{exact:!0,path:"".concat(t.path,"/all"),component:i}),Object(xe.jsx)(Ge.a,{exact:!0,path:"".concat(t.path,"/new/:transientConversationId?"),component:r}),Object(xe.jsx)(Ge.a,{exact:!0,path:"".concat(t.path,"/last"),component:o}),Object(xe.jsx)(Ge.a,{exact:!0,path:"".concat(t.path,"/:conversationId/survey/:surveyUrl"),component:s}),Object(xe.jsx)(Ge.a,{path:"".concat(t.path,"/:conversationId"),component:a}),Object(xe.jsx)(Ge.a,{render:function(){return Object(xe.jsx)("div",null,"Not Found")}}))}}),Object(xe.jsx)(Ge.a,{exact:!0,path:"/401",component:u}),Object(xe.jsx)(Ge.a,{component:c}))})))}})}},{key:"render",value:function(){return Object(xe.jsx)(he.a.Fragment,null,Object(xe.jsx)(Qe,null),Object(xe.jsx)(xe.Global,{styles:Fe}),Object(xe.jsx)(Ve.a,{history:this.props.history},Object(xe.jsx)(De,null,this.renderRoutes())))}}]),n}(he.a.Component),rt=n(1263),at=n(44),ct=Object(xe.css)("padding-top:env(safe-area-inset-top);@media screen and (min-width:",Le.b+1,"px) and (min-height:",Le.a+1,"px){border-radius:8px;}"),ot=function(e){return Object(xe.jsx)(he.a.Fragment,null,Object(xe.jsx)(Ve.a,{history:e.history},Object(xe.jsx)(Ge.a,{render:function(e){var t=e.location;return Object(xe.jsx)(et,{css:ct},(function(e){var n=e.NewConversationPage,r=e.SurveyPage,a=e.ExistingConversationPage,c=e.NotFoundErrorPage,o=e.LastConversationPage,i=e.Error401Page;return Object(xe.jsx)(ze.a,{location:t},Object(xe.jsx)(Ge.a,{exact:!0,path:"/home"},Object(xe.jsx)(rt.a,{to:"/conversation/new"})),Object(xe.jsx)(Ge.a,{exact:!0,path:"/survey/:surveyUrl",component:r}),Object(xe.jsx)(Ge.a,{path:"/conversation",render:function(e){var t=e.conversationLocation,i=e.match;return Object(xe.jsx)(ze.a,{location:t},Object(xe.jsx)(Ge.a,{exact:!0,path:"".concat(i.path,"/new/:transientConversationId?"),render:function(e){return Object(xe.jsx)(n,Object(Ee.a)({key:e.match.params.transientConversationId||at.e},e))}}),Object(xe.jsx)(Ge.a,{exact:!0,path:"".concat(i.path,"/last"),component:o}),Object(xe.jsx)(Ge.a,{exact:!0,path:"".concat(i.path,"/:conversationId/survey/:surveyUrl"),component:r}),Object(xe.jsx)(Ge.a,{path:"".concat(i.path,"/:conversationId"),render:function(e){return Object(xe.jsx)(a,Object(Ee.a)({key:e.match.params.conversationId},e))}}),Object(xe.jsx)(Ge.a,{component:c}))}}),Object(xe.jsx)(Ge.a,{exact:!0,path:"/401",component:i}),Object(xe.jsx)(Ge.a,{component:c}))}))}})),Object(xe.jsx)(Qe,null))},it=n(183),st=n.n(it),ut=n(125),dt=n(53),lt=n(142);var ft,bt=Object(Pe.a)("div",{target:"e12lx3wm0"})("position:fixed;top:0;left:0;z-index:",(function(e){return Object(Ke.e)("frame.zIndex")(e)}),";transform:translatez(",(function(e){return Object(Ke.e)("frame.translateZ")(e)}),"px) !important;height:100%;width:100%;"),pt=Object(Pe.a)(lt.a,{target:"e12lx3wm1"})({name:"774i4t",styles:"height:100%;width:100%;border-width:0px;"}),Ot=function(e){return Object(xe.css)(".frame-content{width:100%;height:100%;}.frame-root{height:100%;width:100%;}body{background-color:",Object(dt.l)(.2,Object(Ke.a)("charcoal")(e)),";}")},vt=n(116),ht=n.n(vt),gt=Object(Pe.a)("img",{target:"e1mzhjhh0"})("max-height:70%;max-width:70%;",(function(e){return e.isPhone&&"max-height: 100%; max-width: 100%;"}),";"),jt=Object(Pe.a)("div",{target:"e1mzhjhh1"})("height:70%;width:70%;display:flex;justify-content:center;align-items:center;",(function(e){return e.isPhone&&"height: 100%; width: 100%;"}),";"),mt=n(99),xt=he.a.memo((function(e){var t=Object(mt.a)();return Object(xe.jsx)(gt,{src:e.item.url,onClick:e.onClick,isPhone:t})})),yt=n(494),It=he.a.memo((function(e){var t=Object(mt.a)();return Object(xe.jsx)(jt,{isPhone:t},Object(xe.jsx)(yt.b,{url:e.item.url,onClick:e.onClick,autoPlay:!0}))})),wt=n(495),Ct=Object(ke.f)({dismiss:{id:"dismiss",defaultMessage:"Dismiss"}}),Tt=he.a.memo((function(e){var t=Object(mt.a)(),n=Object(ve.useMemo)((function(){return function(e){return Object(xe.css)("max-width:400px;",e&&"max-width: 100%;",";")}(t)}),[t]);return Object(xe.jsx)(wt.a,Object(Ee.a)({},e.item,{containerStyles:n,onCancel:e.clearItemToPreview,cancelLabel:Ct.dismiss}))})),Et=n(266),kt=(ft={},Object(s.a)(ft,Et.a.IMAGE,xt),Object(s.a)(ft,Et.a.VIDEO,It),Object(s.a)(ft,Et.a.DIALOGUE,Tt),ft);var St=function(e){return Object(mt.a)()?e.children:null},_t=n(487),At=n(135);var Nt=Object(Pe.a)("div",{target:"e10zpmv50"})("height:100%;width:100%;",(function(e){return e.isPhone&&"background: ".concat(Object(Ke.a)("charcoal")(e),";")}),";"),Rt=Object(Pe.a)(At.b,{target:"e10zpmv51"})("height:20px;width:20px;position:absolute;top:40px;right:40px;fill:",Object(Ke.a)("white"),";",(function(e){return e.isPhone&&"top: 20px; right: 20px; height: 14px; width: 14px;"}),";padding:env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);"),Pt=Object(Pe.a)("div",{target:"e10zpmv52"})({name:"11d1n26",styles:"top:0px;height:20%;width:100%;position:absolute;background:linear-gradient(-180deg,rgba(0,0,0,0.75) 0%,rgba(0,0,0,0) 100%);"}),Lt=n(157),Dt=he.a.memo((function(e){var t=e.itemToPreview,n=e.setItemToPreview,r=kt[t.type],a=Object(Se.b)(),c=Object(mt.a)(),o=Object(ve.useCallback)((function(e){e.stopPropagation&&e.stopPropagation()}),[]),i=t.type===Et.a.DIALOGUE,s=Object(ve.useCallback)((function(){n(void 0)}),[n]);return Object(xe.jsx)(_t.a,{component:"div",className:"full-height full-width",onClick:i||c?ht.a:s},Object(xe.jsx)(Nt,{className:"center-x-y",isPhone:c},Object(xe.jsx)(r,{item:t,theme:a,onClick:o,clearItemToPreview:s})),Object(xe.jsx)(St,null,Object(xe.jsx)(Pt,null)),!i&&Object(xe.jsx)(Rt,{name:At.a.CLOSE,alt:Lt.a,className:"scp",isPhone:c,onClick:s}))})),Mt=n(506),Bt=n(139),Ut=function(e){var t=Object(Mt.a)(),n=Object(f.a)(t,2),r=n[0],a=n[1],c=Object(ut.a)(Bt.e),o=Object(Se.b)();return st()((function(){c({isMediaOpen:!!r})}),[r,c]),r?Object(xe.jsx)(he.a.Fragment,null,Object(xe.jsx)(bt,{className:"spr-chat__modal-box spr-live-chat-frame"},Object(xe.jsx)(pt,{name:"spr-chat__modal-frame"},Object(xe.jsx)(xe.Global,{styles:Ot({theme:o})}),Object(xe.jsx)(Dt,{itemToPreview:r,setItemToPreview:a})))):null},Ft=n(406),Gt=n(373),zt=n(109);var Vt=Object(Pe.a)(lt.a,{target:"e1ogxy6u0"})({name:"1l2nfdo",styles:"border:0 none;height:100%;width:100%;"}),Wt=Object(Pe.a)("div",{target:"e1ogxy6u1"})("height:100%;width:100%;display:flex;align-items:center;justify-content:center;background-image:",Object(Ke.e)("page.gradients"),";background-color:",Object(Ke.e)("page.backgroundColor"),";"),Ht=Object(Pe.a)("div",{target:"e1ogxy6u2"})("height:calc(100% - ",(function(e){return 2*Object(Ke.e)("page.minPadding",0)(e)}),"px);width:calc(100% - ",(function(e){return 2*Object(Ke.e)("page.minPadding",0)(e)}),"px);margin:",Object(Ke.e)("page.minPadding",0),"px;border-radius:",(function(e){return Object(Ke.e)("page.minPadding")(e)?"8px":"0px"}),";box-shadow:0 2px 15px 0 rgba(0,0,0,0.2);overflow:hidden;",(function(e){return!e.isPhone&&!Object(zt.c)()&&"max-width: ".concat(Le.b,"px;\n    max-height: 95%;")}),";"),Kt={name:"2b9rdz",styles:".frame-content{width:100%;height:100%;}.frame-root{height:100%;width:100%;}"},Yt=n(246),$t=n(181),Xt=n(163),qt=function(e){var t=Object(mt.a)(),n=Object(Yt.a)();return Object(ve.useEffect)((function(){return n({action:$t.a.CONVERSATION_WINDOW_OPENED}),function(){n({action:$t.a.CONVERSATION_WINDOW_CLOSED})}}),[]),Object(xe.jsx)(Wt,null,Object(xe.jsx)(Ht,{ref:e.pageBoxRef,className:"spr",isPhone:t},Object(G.w)()?Object(xe.jsx)(ot,{history:e.history}):Object(xe.jsx)(nt,{history:e.history})))},Jt=Object(ke.g)((function(e){var t=Object(ve.useRef)(),n=Object(Se.b)(),r=e.intl.formatMessage;return Object(xe.jsx)(he.a.Fragment,null,Object(xe.jsx)(Ft.a,{theme:n}),Object(xe.jsx)(Vt,{"aria-label":r(Xt.a.liveChatBox),name:"spr-chat__page-frame"},Object(xe.jsx)(xe.Global,{styles:Kt}),Object(xe.jsx)(qt,Object(Ee.a)({},e,{pageBoxRef:t}))),Object(xe.jsx)(Ut,null),Object(xe.jsx)(Gt.b,{parentFrameRef:t}))})),Qt=n(493),Zt=n(38),en=n.n(Zt),tn=n(403),nn=n.n(tn),rn=n(704),an=n.n(rn),cn=n(248),on=n(219),sn=n(41),un=function e(t,n,r){var a=r.appContext,c=r.appHandshakeDetails,i=nn()(t);return j()(n,(function(n,r){if("filters"===r){if(!d()(n)){var u=function(e){i=Object(o.a)(Object(o.a)({},i),e)};en()(n,(function(e){var t=B.a.createFilterAction(e.filter),n=function(e,t){var n,r=L.a.getNoOfAgentsAvailable(t),a=L.a.getNumberOfPendingCases(t);return n={},Object(s.a)(n,sn.a.DEVICE_TYPE,e.device),Object(s.a)(n,sn.a.USER_AGENT,e.userAgent),Object(s.a)(n,sn.a.CURRENT_URL,e.pageUrl),Object(s.a)(n,sn.a.PAGE_REFERRER,e.pageReferrer),Object(s.a)(n,sn.a.AVAILABLE_AGENTS,I()(r)?Number.MAX_VALUE:r),Object(s.a)(n,sn.a.AGENT_OUT_OF_CAPACITY,I()(a)?Number.MIN_VALUE:a),Object(s.a)(n,sn.a.BUSINESS_HOURS,L.a.getTimeToAvailability(t)),n}(a,c);t.matches(O()(u,e.value),te.a,n)}))}}else{var l=e(x()(t,r),n,{appContext:a,appHandshakeDetails:c});an()(i,r,l)}})),i},dn=function(e){var t=Object(cn.a)(),n=Object(on.a)(),r=un(x()(e,"styles"),x()(e,"styleFilters"),{appContext:t,appHandshakeDetails:n});return Object(o.a)(Object(o.a)({},e),{},{styles:r})},ln=function(e){var t=dn(e.theme);return Object(xe.jsx)(Se.a,{theme:t},e.children)},fn=n(118),bn=n(649),pn=n(327);var On=function(e){var t=Object(Ke.e)("trigger.yPadding")({theme:e});return 0===t?20:t},vn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.leftOffset,n=void 0===t?0:t,r=e.rightOffset,a=void 0===r?0:r;return function(e){var t=e.theme,r=Object(Ke.e)("trigger.align","right")({theme:t}),c=0===Object(Ke.e)("trigger.xPadding")({theme:t})?20:Object(Ke.e)("trigger.xPadding")({theme:t}),o="left"===r?n:a;return"".concat(r,": ").concat(c+o,"px")}},hn=function(e){return.13*Object(Ke.e)("trigger.overlayIconButton.button.height")(e)},gn=function(e){return On(e.theme)+Object(Ke.e)("trigger.size")(e)-.5*Object(Ke.e)("trigger.overlayIconButton.button.height")(e)-(.146*Object(Ke.e)("trigger.size")(e)-hn(e))},jn=function(e){return-.5*Object(Ke.e)("trigger.overlayIconButton.button.height")(e)+(.146*Object(Ke.e)("trigger.size")(e)-hn(e))},mn=Object(Pe.a)("div",{target:"e1hh16yv0"})("width:",(function(e){return Object(Ke.e)("trigger.overlayIconButton.button.width")(e)}),"px;height:",(function(e){return Object(Ke.e)("trigger.overlayIconButton.button.height")(e)}),"px;border-radius:50%;background-color:",Object(Ke.e)("trigger.removeIcon.backgroundColor"),";bottom:",(function(e){return gn(e)}),"px;",(function(e){return vn({leftOffset:jn(e),rightOffset:jn(e)})(e)}),";position:fixed;z-index:",(function(e){return Object(Ke.e)("frame.zIndex")(e)}),";transform:translatez(",(function(e){return Object(Ke.e)("frame.translateZ")(e)}),"px);cursor:pointer;display:flex;align-items:center;justify-content:center;visibility:hidden;"),xn=Object(Pe.a)("div",{target:"e1hh16yv1"})({name:"l1tuuh",styles:"width:100%;height:100%;display:flex;align-items:center;justify-content:center;"}),yn=Object(Pe.a)(pn.a,{target:"e1hh16yv2"})("width:",(function(e){return Object(Ke.e)("trigger.overlayIconButton.icon.width")(e)}),"px;height:",(function(e){return Object(Ke.e)("trigger.overlayIconButton.icon.height")(e)}),"px;fill:",Object(Ke.e)("trigger.removeIcon.fill"),";"),In="\n  ".concat(mn," {\n    visibility: visible;\n  }\n  & ~ .notification-container {\n    visibility: hidden;\n  }\n"),wn=Object(Pe.a)("div",{target:"e1hh16yv3"})((function(e){return e.enableTriggerHideIcon&&"\n    &:hover {\n      ".concat(e.applyRemoveIconStyles&&In,";\n    }\n  ")}),";"),Cn=Object(Pe.a)("div",{target:"e1hh16yv4"})("background:transparent;overflow:hidden;box-shadow:",Object(Ke.e)("trigger.boxShadow"),";border-radius:",(function(e){return Object(Ke.e)("trigger.size")(e)/2}),"px;bottom:",(function(e){return On(e.theme)}),"px;height:",Object(Ke.e)("trigger.size"),"px;position:fixed;",vn(),";transition:",(function(e){return e.enableTransition?"width 0.08s":"none"}),";visibility:",(function(e){return e.showTrigger?"visible":"hidden"}),";width:",(function(e){var t=e.showLabel,n=e.labelWidth,r=e.showTrigger,a=e.theme;return t?r?"".concat(n+26+8+48,"px"):"100%":"".concat(Object(Ke.e)("trigger.size")({theme:a}),"px")}),";z-index:",(function(e){return Object(Ke.e)("frame.zIndex")(e)}),";transform:translatez(",(function(e){return Object(Ke.e)("frame.translateZ")(e)}),"px);"),Tn=Object(Pe.a)(lt.a,{target:"e1hh16yv5"})("border-radius:",(function(e){return Object(Ke.e)("trigger.size")(e)/2}),"px;border:0 none;height:100%;width:100%;"),En=function(e,t){var n=!(Object(Ke.e)("trigger.icon.url")({theme:e})&&t.isMinimized);return Object(xe.css)("body{",n&&"background-color: ".concat(Object(Ke.e)("trigger.backgroundColor")({theme:e})),";}")},kn=n(378),Sn=n(324),_n=n(685),An=n(97),Nn=n(37),Rn=function(e){return Object(An.e)(Object(Nn.b)(e))},Pn=n(488),Ln=n(193),Dn=function(e){Object(Ae.a)(n,e);var t=Object(Ne.a)(n);function n(){var e;Object(E.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).innerLabelRef=he.a.createRef(),e.state={label:e.props.triggerLabel,showTrigger:!1,enableTransition:!1,innerLabelWidth:0,isTriggerLoaded:!1,applyRemoveIconStyles:!0},e.getTriggerIconName=Object(Ke.e)("trigger.icon.type"),e.getCloseIconName=Object(Ke.e)("trigger.closeIcon.type"),e.handleIFrameDidMount=function(){e.state.isTriggerLoaded&&e.setState({showTrigger:!0,innerLabelWidth:e.getLabelWidth()})},e.handleOnLoadTrigger=function(t){e.setState({showTrigger:t,innerLabelWidth:e.getLabelWidth(),isTriggerLoaded:t})},e.toggleRemoveIconVisibility=function(t){e.setState({applyRemoveIconStyles:t})},e.handleTriggerClick=function(){var t=e.props.isMinimized;e.props.toggleChatBox(!t)},e.handleTriggerCloseIconClick=function(){e.props.hideChatTrigger()},e}return Object(_e.a)(n,[{key:"getLabelWidth",value:function(){var e=this.innerLabelRef.current;return e?Math.ceil(e.getBoundingClientRect().width):0}},{key:"componentDidUpdate",value:function(e,t){var n=this,r=!t.showTrigger&&this.state.showTrigger,a=!Object(mt.b)(this.props.viewport),c=e.isChatTriggerHidden||!t.showTrigger,o=this.props.isChatTriggerHidden||!this.state.showTrigger;c&&!o&&this.props.onEvent({action:Ln.a.TRIGGER_VISIBLE}),r&&a?window.requestAnimationFrame((function(){window.requestAnimationFrame((function(){n.setState({enableTransition:!0})}))})):e.viewport!==this.props.viewport&&this.setState({enableTransition:!1},(function(){return n.setState({enableTransition:a})}));var i=a?this.props.triggerLabel:"";t.label!==i&&this.setState({label:i})}},{key:"render",value:function(){var e=this,t=this.state,n=this.props,r=n.isMinimized,a=n.isChatTriggerHidden,c=n.customization,o=n.proactivePrompts,i=this.props.intl.formatMessage,s=M.a.canTriggerBeManuallyRemoved(c)&&r&&d()(o);return a?null:Object(xe.jsx)(wn,{enableTriggerHideIcon:s,applyRemoveIconStyles:t.applyRemoveIconStyles},Object(xe.jsx)(Cn,{showTrigger:t.showTrigger,showLabel:r&&!!t.label,labelWidth:t.innerLabelWidth,enableTransition:t.enableTransition,theme:n.theme,className:"spr-chat__trigger-box spr-live-chat-frame"},Object(xe.jsx)(et,null,(function(a){var c=a.ChatTriggerPage;return Object(xe.jsx)(Tn,{"aria-label":i(Xt.a.liveChat),name:"spr-chat__trigger-frame",contentDidMount:e.handleIFrameDidMount},Object(xe.jsx)(xe.Global,{styles:En(n.theme,{isMinimized:r})}),Object(xe.jsx)(c,Object(Ee.a)({},n.appState,{triggerIconName:e.getTriggerIconName(n),closeIconName:e.getCloseIconName(n),label:t.label,innerLabelRef:e.innerLabelRef,onClick:e.handleTriggerClick,onLoad:e.handleOnLoadTrigger,toggleRemoveIconVisibility:e.toggleRemoveIconVisibility})))}))),s&&Object(xe.jsx)(mn,{onClick:this.handleTriggerCloseIconClick},Object(xe.jsx)(xn,null,Object(xe.jsx)(yn,{alt:Lt.a,name:At.a.CLOSE}))))}}]),n}(he.a.Component),Mn=Object(fn.d)((function(e){return function(t){var n=Object(Sn.a)(),r=D.a.getNoDisplayConfigFilter(n),a=Object(_n.a)(r,{defaultValue:!1,logOnSuccess:!0}),c=a.hasPassed,o=a.changeSource,i=Object(ut.a)(Bt.h),s=Object(ye.d)(Rn);return Object(ve.useEffect)((function(){d()(r)||!s&&o!==sn.a.CURRENT_URL||i({value:c})}),[r,s,c,o,i]),Object(xe.jsx)(e,t)}}),Te.a,Se.c,Object(ye.b)((function(e){return{appState:Object(Nn.b)(e),isMinimized:Object(An.e)(Object(Nn.b)(e)),isChatTriggerHidden:Object(An.d)(Object(Nn.b)(e)),proactivePrompts:Object(Nn.d)(e)}}),{toggleChatBox:Bt.g,hideChatTrigger:Bt.c}),kn.b,bn.a,ke.g,(function(e){return function(t){return Object(xe.jsx)(Pn.a,{src:M.a.getTriggerConfig(t.customization)||Object(Ke.e)("trigger")(t),messageId:"label"},(function(n){return Object(xe.jsx)(e,Object(Ee.a)({},t,{triggerLabel:n}))}))}}))(Dn),Bn=n(267),Un=n.n(Bn),Fn=n(123);var Gn=function(e){return On(e)+Object(Ke.e)("trigger.size")({theme:e})+20},zn=Object(Pe.a)("div",{target:"emlrnqp0"})("bottom:",(function(e){return e.alignWithChatTrigger?On(e.theme):Gn(e.theme)}),"px;max-width:",Object(Ke.e)("frame.width"),"px;min-width:200px;position:fixed;",vn(),";z-index:",(function(e){return Object(Ke.e)("frame.zIndex")(e)}),";padding:",(function(e){return Object(Ke.f)("frame.margin")(e)}),";box-sizing:border-box;",(function(e){return function(e){var t=Object(Fn.c)(Object(Ke.e)("frame.marginTop")({theme:e})),n=Object(Fn.c)(Object(Ke.e)("frame.marginBottom")({theme:e})),r=Object(Fn.c)(Object(Ke.e)("frame.marginLeft")({theme:e})),a=Object(Fn.c)(Object(Ke.e)("frame.marginRight")({theme:e}));return Un()([t,n,r,a],(function(e){return e>0}))}(e.theme)&&"background-color: ".concat(Object(Fn.d)(Object(Ke.e)("frame.overlay.opacity")(e),Object(Ke.e)("frame.overlay.backgroundColour")(e)),";")}),";transform:translatez(",(function(e){return Object(Ke.e)("frame.translateZ")(e)}),"px);height:calc(100% - ",(function(e){return Gn(e.theme)}),"px - ",20,"px);width:100%;max-height:",(function(e){return Object(Ke.e)("frame.height")(e)}),";",(function(e){return e.isPhone&&" height: 100%;\n    width: 100vw;\n    bottom: 0;\n    right: 0;\n    left: 0;\n    max-height: 100vh;\n    max-width: 100vw;\n    min-width: 100vw;\n  "}),";"),Vn=Object(Pe.a)("div",{target:"emlrnqp1"})("height:100%;width:100%;position:relative;overflow:hidden;box-shadow:0 2px 15px 0 rgba(0,0,0,0.2);border-radius:",(function(e){return Object(Ke.e)("frame.borderRadius")(e)}),";",(function(e){var t=Object(Fn.c)(Object(Ke.e)("frame.marginTop")(e))>0?Object(Ke.e)("frame.borderRadius")(e):0,n=Object(Fn.c)(Object(Ke.e)("frame.marginBottom")(e))>0?Object(Ke.e)("frame.borderRadius")(e):0;return e.isPhone&&"\n    border-top-left-radius: ".concat(t,";\n    border-top-right-radius: ").concat(t,";\n    border-bottom-left-radius: ").concat(n,";\n    border-bottom-right-radius: ").concat(n,";\n    box-shadow: none;")}),";"),Wn=Object(Pe.a)(lt.a,{target:"emlrnqp2"})({name:"1l2nfdo",styles:"border:0 none;height:100%;width:100%;"}),Hn=Object(xe.css)(".","spr-chat-box-anim","-enter{opacity:0;transform:translateY(20px);}.","spr-chat-box-anim","-enter.","spr-chat-box-anim","-enter-active{opacity:1;transform:translateY(0);transition:opacity 0.16s linear,transform 0.08s linear;}.","spr-chat-box-anim","-exit{opacity:1;transform:translateY(0);}.","spr-chat-box-anim","-exit.","spr-chat-box-anim","-exit-active{opacity:0;transform:translateY(20px);transition:opacity 0.16s linear,transform 0.08s linear;}"),Kn={name:"2b9rdz",styles:".frame-content{width:100%;height:100%;}.frame-root{height:100%;width:100%;}"},Yn=n(136),$n=function(e){return Object(An.e)(Object(Nn.b)(e))},Xn=Object(ke.g)((function(e){var t=Object(ye.d)($n),n=e.intl.formatMessage,r=Object(Yn.a)(),a=M.a.isTriggerHiddenWhenMaximised(r),c=Object(Yt.a)(),o=Object(mt.a)();return st()((function(){var e=t?Ln.a.CONVERSATION_WINDOW_CLOSED:Ln.a.CONVERSATION_WINDOW_OPENED;c({action:e})}),[t]),Object(xe.jsx)(he.a.Fragment,null,Object(xe.jsx)(xe.Global,{styles:Hn}),Object(xe.jsx)(Re.CSSTransition,{in:!t,classNames:"spr-chat-box-anim",timeout:{enter:500,exit:500},mountOnEnter:!0,unmountOnExit:!0,appear:!0},Object(xe.jsx)(zn,{className:"spr-chat__box spr-live-chat-frame",ref:e.frameRef,isPhone:o,alignWithChatTrigger:!!a},Object(xe.jsx)(Vn,{isPhone:o},Object(xe.jsx)(Wn,{"aria-label":n(Xt.a.liveChatBox),name:"spr-chat__box-frame",isPhone:o},Object(xe.jsx)(xe.Global,{styles:Kn}),Object(G.w)()?Object(xe.jsx)(ot,{history:e.history}):Object(xe.jsx)(nt,{history:e.history}))))))})),qn=he.a.forwardRef((function(e,t){return Object(xe.jsx)(Xn,Object(Ee.a)({},e,{frameRef:t}))})),Jn=n(62),Qn=n.n(Jn),Zn=n(491),er=n(263),tr=Object(Pe.a)("div",{target:"ed55mpd0"})("width:100%;",(function(e){return"row"===Object(Ke.e)("proactivePrompt.direction")(e)&&"position: absolute; bottom: 0;"}),";padding:",Object(Ke.f)("proactivePrompt.padding"),";display:flex;flex-direction:column;color:",Object(Ke.a)("charcoal"),";"),nr=Object(Pe.a)(er.a,{target:"ed55mpd1"})("position:absolute;border-radius:50%;flex-shrink:0;background-color:",Object(Ke.e)("proactivePrompt.removeIconButton.button.backgroundColor"),";height:",Object(Ke.e)("proactivePrompt.removeIconButton.button.height"),"px;width:",Object(Ke.e)("proactivePrompt.removeIconButton.button.width"),"px;"),rr=function(e){return Object(xe.css)("height:",Object(Ke.e)("proactivePrompt.removeIconButton.icon.height")({theme:e}),"px;width:",Object(Ke.e)("proactivePrompt.removeIconButton.icon.width")({theme:e}),"px;fill:",Object(Ke.a)("white")({theme:e}),";")},ar=n(115),cr=function(e){return Object(Ke.e)("proactivePrompt.removeIconButton.button.width")({theme:e})/2+2},or=Object(Pe.a)("div",{target:"e1a4zrzl0"})((function(e){return e.isActionable&&"cursor: pointer;"}),";position:relative;margin:0 0 16px;background-color:",Object(Ke.a)("white"),";",(function(e){return e.messageStyles}),";"),ir=Object(Pe.a)("div",{target:"e1a4zrzl1"})("flex-grow:1;",(function(e){return e.renderRemoveIcon&&Object(ar.c)("padding-right: ".concat(cr(e.theme),"px"),"padding-left: ".concat(cr(e.theme),"px"))(e)}),";"),sr=Object(Pe.a)(nr,{target:"e1a4zrzl2"})("top:",Object(Ke.e)("proactivePrompt.removeIconButton.marginTop"),"px;",(function(e){return"".concat(Object(ar.c)("right: ".concat(Object(Ke.e)("proactivePrompt.removeIconButton.marginRight")(e),"px"),"left: ".concat(Object(Ke.e)("proactivePrompt.removeIconButton.marginLeft")(e),"px"))(e))}),";"),ur=n(152),dr=n.n(ur);var lr=function(e){if(!e)return te.a;var t=en()(dr()(e," "),Fn.c),n=Object(f.a)(t,4),r=n[0],a=n[1],c=n[2],o=n[3];return{top:Math.abs(o-a+c),bottom:o+a+c,left:Math.abs(o-r+c),right:o+r+c}},fr=Object(Pe.a)("div",{target:"e1f359l40"})("z-index:",(function(e){return Object(Ke.e)("frame.zIndex")(e)}),";transform:translatez(",(function(e){return Object(Ke.e)("frame.translateZ")(e)}),"px);position:fixed;width:500px;height:500px;bottom:0px;","".concat(Object(Ke.e)("trigger.align","right"),": 0px"),";content:'';pointer-events:none;background:radial-gradient( ","at ".concat(Object(Ke.e)("trigger.align","right")," bottom"),",rgba(29,39,54,0.1) 0%,rgba(29,39,54,0) 72% );"),br=function(e){var t=e.theme,n=e.visiblePrompt;return"row"===Object(Ke.e)("proactivePrompt.direction")({theme:t})?On(t)-function(e,t){if(d()(t))return te.a;var n=t,r=n.buttons,a=n.additional;return r&&r.length>0?lr(Object(Ke.e)("proactivePrompt.button.boxShadow")({theme:e})):a&&!a.hideReplyBox?lr(Object(Ke.e)("proactivePrompt.replyBox.boxShadow")({theme:e})):lr(Object(Ke.e)("proactivePrompt.message.boxShadow")({theme:e}))}(t,n).bottom:On(t)+Object(Ke.e)("trigger.size")({theme:t})},pr=Object(Pe.a)("div",{target:"e1f359l41"})("background:transparent;bottom:",(function(e){return br(e)}),"px;",(function(e){return function(e){var t=Object(Ke.e)("trigger.size")({theme:e});return"row"===Object(Ke.e)("proactivePrompt.direction")({theme:e})?vn({leftOffset:t,rightOffset:t})({theme:e}):vn()({theme:e})}(e.theme)}),";max-width:",(function(e){return e.iframeWidth+Object(Ke.e)("proactivePrompt.paddingLeft")(e)+Object(Ke.e)("proactivePrompt.paddingRight")(e)}),"px;position:fixed;max-height:80%;width:100%;height:",(function(e){return e.iframeHeight}),"px;z-index:",(function(e){return Object(Ke.e)("frame.zIndex")(e)}),";transform:translatez(",(function(e){return Object(Ke.e)("frame.translateZ")(e)}),"px);visibility:",(function(e){return e.isVisible?"visible":"hidden"}),";"),Or=Object(Pe.a)(lt.a,{target:"e1f359l42"})({name:"1l2nfdo",styles:"border:0 none;height:100%;width:100%;"}),vr={name:"1egabj8",styles:".frame-content{width:100%;height:100%;}.frame-root{height:100%;width:100%;}body{background-color:transparent;}"};var hr=Object(Pe.a)("div",{target:"e106gict0"})("background-color:",Object(Ke.a)("white"),";"),gr=Object(Pe.a)("div",{target:"e106gict1"})("height:",Object(Ke.e)("proactivePrompt.removeIconButton.button.height"),"px;margin:",Object(Ke.f)("proactivePrompt.removeIconButton.margin"),";"),jr=Object(Pe.a)("div",{target:"e106gict2"})({name:"79elbk",styles:"position:relative;"}),mr=Object(Pe.a)(nr,{target:"e106gict3"})("top:0px;",(function(e){return"right"===Object(Ke.e)("trigger.align","right")(e)?"right: ".concat(Object(Ke.e)("proactivePrompt.removeIconButton.marginRight")(e),"px"):"left: ".concat(Object(Ke.e)("proactivePrompt.removeIconButton.marginLeft")(e),"px")}),";opacity:0;",jr,":hover &{opacity:1;}",ar.h,"{opacity:1;}"),xr=Object(Pe.a)("div",{target:"e106gict4"})((function(e){return e.renderRemoveIconInside&&"padding-top: ".concat(lr(Object(Ke.e)("proactivePrompt.message.boxShadow")(e)).top,"px")}),";:last-child{",or,"{:last-child{",(function(e){return"row"===Object(Ke.e)("proactivePrompt.direction")(e)&&"margin: 0 0 ".concat(lr(Object(Ke.e)("proactivePrompt.message.boxShadow")(e)).bottom,"px")}),";}}}"),yr=n(170),Ir=n(653),wr=function(e){var t=e.message,n=e.onClick,r=e.onClose,a=e.isActionable,c=Object(Se.b)(),o=Object(yr.a)().direction,i=Object(Ke.e)("proactivePrompt.message")({theme:c}),s=Object(Yn.a)(),u=M.a.getPromptEnableIndividualMessageDismissal(s);return Object(xe.jsx)(or,{className:"text-wrap flex-row-container",messageStyles:i,onClick:n,isActionable:a},Object(xe.jsx)(ir,{direction:o,renderRemoveIcon:u},Object(xe.jsx)(Ir.a,{text:t.text||"",textEntities:t.textEntities})),u&&Object(xe.jsx)(sr,{className:"center-x-y",direction:o,onClick:function(e){e.stopPropagation(),r()},iconName:"closeIcon",Icon:Lt.a,iconCss:rr(c)}))};var Cr=Object(Pe.a)("div",{target:"evyncl50"})("background-color:",Object(Ke.a)("white"),";box-shadow:",Object(Ke.e)("proactivePrompt.replyBox.boxShadow"),";border-radius:10px;margin:0 0 ",(function(e){return"row"===Object(Ke.e)("proactivePrompt.direction")(e)?lr(Object(Ke.e)("proactivePrompt.replyBox.boxShadow")(e)).bottom:"16"}),"px;padding:14px 20px;font-size:",Object(Ke.d)("md"),";cursor:pointer;justify-content:space-between;"),Tr=Object(Pe.a)("div",{target:"evyncl51"})({name:"1nn7ex",styles:"color:#a9a9a9;"}),Er=Object(Pe.a)(At.b,{target:"evyncl52"})("fill:",Object(Ke.a)("fossil"),";height:20px;width:20px;"),kr=n(497),Sr=function(e){var t=e.onReply,n=Object(Yn.a)();return Object(xe.jsx)(Cr,{className:"flex-row-container",onClick:t},Object(xe.jsx)(Tr,null,n.conversationScreen.inputPlaceholderMessage),Object(xe.jsx)(Er,{alt:kr.a,name:At.a.ATTACHMENT}))},_r=n(43),Ar=Object(Pe.a)("div",{target:"eygqptd0"})("background-color:",Object(Ke.a)("white"),";"),Nr=Object(Pe.a)(Ar,{target:"eygqptd1"})("margin-bottom:",(function(e){return"row"===Object(Ke.e)("proactivePrompt.direction")(e)?lr(Object(Ke.e)("proactivePrompt.button.boxShadow")(e)).bottom:"10"}),"px;border-radius:",8,"px;"),Rr=Object(Pe.a)("div",{target:"eygqptd2"})("display:flex;flex-wrap:wrap;margin-bottom:",(function(e){return"row"===Object(Ke.e)("proactivePrompt.direction")(e)?lr(Object(Ke.e)("proactivePrompt.button.boxShadow")(e)).bottom:"8"}),"px;",(function(e){return"\n      flex-direction: ".concat("left"===Object(Ke.e)("trigger.align")(e)?"row":"row-reverse",";\n      justify-content: ").concat(Object(ar.c)("flex-start","flex-end")(e),";\n    ")}),""),Pr=Object(Pe.a)(_r.c,{target:"eygqptd3"})("border-radius:",8,"px;background-color:",(function(e){return Object(dt.i)(Object(Ke.a)("primary")(e),.05)}),";box-shadow:",Object(Ke.e)("proactivePrompt.button.boxShadow"),";font-weight:400;min-width:88px;padding:10px 20px;&:hover{color:",Object(Ke.a)("white"),";background-color:",Object(Ke.a)("primary"),";}"),Lr=he.a.memo((function(e){var t=e.handleClick,n=e.buttons,r=Object(Se.b)(),a=Object(yr.a)().direction,c="left"===Object(Ke.e)("trigger.align")({theme:r})?"m-r-3":"m-l-3";return Object(xe.jsx)(Rr,{onClick:t,theme:r,direction:a},en()(n,(function(e){return Object(xe.jsx)(Nr,{key:e.id,className:c},Object(xe.jsx)(Pr,{size:_r.a.LARGE,variant:_r.b.TERTIARY,"data-id":e.id},e.label))})))})),Dr="CLOSE",Mr="ENGAGED",Br="CLOSED",Ur=function(e){var t=e.id,n=e.messages,r=e.buttons,a=e.additional,c=e.onAction,o=Object(Se.b)(),i=Object(Yn.a)(),s=M.a.getPromptEnableIndividualMessageDismissal(i),u=(a||te.a).hideReplyBox,d=r&&r.length>0,l=!d,f=function(e){var n=e.target.dataset.id;n&&c({type:Mr,buttonId:n,promptId:t})},b=function(){c({type:Mr,promptId:t})},p=function(){l&&c({type:Mr,promptId:t})},O=function(){c({type:Br,promptId:t})};return Object(xe.jsx)(jr,{className:"spr"},!s&&Object(xe.jsx)(gr,{className:"spr"},Object(xe.jsx)(hr,null,Object(xe.jsx)(mr,{iconName:"closeIcon",Icon:Lt.a,iconCss:rr(o),onClick:O,theme:o}))),Object(xe.jsx)(xr,{renderRemoveIconInside:s},en()(n,(function(e,t){return Object(xe.jsx)(wr,{key:"message_".concat(t),message:e,onClose:O,onClick:p,isActionable:l})}))),d?Object(xe.jsx)(Lr,{handleClick:f,buttons:r}):u?null:Object(xe.jsx)(Sr,{onReply:b}))},Fr=function(e){var t=e.type,n=e.promptId;return{type:"@chatPrompt/PROMPT_ACTION_TRIGGER",payload:{type:t,buttonId:e.buttonId,promptId:n}}},Gr=he.a.forwardRef((function(e,t){var n=Object(ye.d)(Nn.d),r=Object(ut.a)(Fr);return Object(xe.jsx)(tr,{ref:t},function(){var e=Qn()(n);return I()(e)?null:Object(xe.jsx)(Ur,{key:e.id,id:e.id,messages:e.messages,buttons:e.buttons,onAction:r,additional:e.additional})}())})),zr=n(23),Vr=n(22),Wr=function(e){return Object(An.e)(Object(Nn.b)(e))},Hr=function(e){return Object(An.d)(Object(Nn.b)(e))},Kr=function(e){return Object(Vr.b)(Object(Vr.p)(Object(zr.c)(e)))},Yr=function(){var e=Object(ye.d)(Nn.d),t=Object(ye.d)(Wr),n=Object(ye.d)(Hr),r=Object(Se.b)(),a=Object(Zn.a)(),c=a.isLocked,o=a.lockReason,i=Object(ye.d)(Kr),s=Object(ve.useState)(0),u=Object(f.a)(s,2),l=u[0],b=u[1],p=Object(ve.useRef)(null),O=Qn()(e);if(d()(O)||n||!i||c)return c&&console.log("Cannot initiate prompt: ",o),null;var v=Object(Ke.e)("proactivePrompt.maxWidth")({theme:r}),h=x()(O,"additional.text.maxWidth",v),g=function(){var e=p.current,t=e?e.scrollHeight:0;b(t)};return Object(xe.jsx)(he.a.Fragment,null,Object(xe.jsx)(pr,{className:"spr-chat__proactive-box spr-live-chat-frame",iframeHeight:l,iframeWidth:h,theme:r,isVisible:t,visiblePrompt:O},Object(xe.jsx)(Or,{name:"spr-chat__proactive-frame",contentDidMount:g,contentDidUpdate:g},Object(xe.jsx)(xe.Global,{styles:vr}),Object(xe.jsx)(Gr,{ref:p}))),Object(xe.jsx)(fr,{theme:r}))},$r=n(158),Xr=n(498),qr=Object(Pe.a)("div",{target:"egvnsbi0"})("display:flex;background:transparent;border-radius:",(function(e){return Object(Ke.e)("trigger.overlayIconButton.button.height")(e)/2}),"px;bottom:",(function(e){return gn(e)}),"px;height:",Object(Ke.e)("trigger.overlayIconButton.button.height"),"px;",(function(e){return vn({leftOffset:jn(e),rightOffset:jn(e)})(e)}),";width:",Object(Ke.e)("trigger.overlayIconButton.button.width"),"px;position:fixed;transform:translatez(",(function(e){return Object(Ke.e)("frame.translateZ")(e)}),"px);"),Jr=Object(Pe.a)(lt.a,{target:"egvnsbi1"})("border:0 none;border-radius:",(function(e){return Object(Ke.e)("trigger.overlayIconButton.button.height")(e)/2}),"px;box-shadow:0 2px 32px 0 rgba(0,0,0,0.15),0 1px 6px 0 rgba(0,0,0,0.09);height:100%;width:100%;"),Qr=Object(Pe.a)(Xr.a,{target:"egvnsbi2"})("font-size:",Object(Ke.e)("trigger.overlayIconButton.fontSize"),";height:",Object(Ke.e)("trigger.overlayIconButton.button.height"),"px;width:",Object(Ke.e)("trigger.overlayIconButton.button.width"),"px;line-height:",Object(Ke.e)("trigger.overlayIconButton.button.height"),"px;"),Zr=Object(xe.css)(".","spr-chat-proactive-box-anim","-enter{opacity:0;}.","spr-chat-proactive-box-anim","-enter.","spr-chat-proactive-box-anim","-enter-active{opacity:1;transition:opacity 0.3s ease,transform 0.15s ease;}.","spr-chat-proactive-box-anim","-enter-done,.","spr-chat-proactive-box-anim","-appear{}.","spr-chat-proactive-box-anim","-exit{opacity:1;}.","spr-chat-proactive-box-anim","-exit.","spr-chat-proactive-box-anim","-exit-active{opacity:0;transition:opacity 0s ease,transform 0s ease;}"),ea=Object(Pe.a)("div",{target:"egvnsbi3"})("position:relative;z-index:",(function(e){return Object(Ke.e)("frame.zIndex")(e)}),";"),ta=n(492),na=Object($r.a)((function(e){return Object(An.e)(Object(Nn.b)(e))}),(function(e){return Object(An.d)(Object(Nn.b)(e))}),(function(e){return Object(Vr.w)(Object(Vr.p)(Object(Nn.c)(e)))}),(function(e,t,n){return{isMinimized:e,isChatTriggerHidden:t,totalUnreadCount:n}})),ra=Object(ke.g)((function(e){var t=Object(ye.d)(na),n=t.isMinimized,r=t.totalUnreadCount,a=t.isChatTriggerHidden,c=Object(Se.b)(),o=e.intl.formatMessage;return a?null:Object(xe.jsx)(he.a.Fragment,null,Object(xe.jsx)(xe.Global,{styles:Zr}),Object(xe.jsx)(Re.CSSTransition,{in:n,timeout:{enter:300,exit:0},classNames:"spr-chat-proactive-box-anim",mountOnEnter:!0,unmountOnExit:!0,appear:!0},Object(xe.jsx)(ea,{className:"notification-container"},Object(xe.jsx)(ta.a,{unreadCount:r,shouldPlay:!0}),r>0&&Object(xe.jsx)(qr,{className:"spr-chat__notification-box spr-live-chat-frame",theme:c},Object(xe.jsx)(Jr,{name:"spr-chat__notification-frame","aria-label":o(Xt.a.liveChatNotification)},Object(xe.jsx)(Qr,{className:"center-x-y",count:r}))))))})),aa=n(686),ca={get:function(){var e=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.d.getItem("spr-cobrowse-state");case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),console.warn(e.t0),e.abrupt("return",void 0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),set:function(e){return F.d.setItem("spr-cobrowse-state",e)},remove:function(){return F.d.removeItem("spr-cobrowse-state")}},oa=n(106),ia=n(332),sa=Object(ia.a)((function(){return Promise.all([n.e(2),n.e(7)]).then(n.bind(null,1883))})),ua={endCobrowseSession:oa.c,resumeCobrowseSession:oa.m,markCobrowseSessionFailed:oa.e},da=function(){var e=Object(ye.d)(Nn.f),t=Object(ut.a)(ua),n=t.endCobrowseSession,r=t.resumeCobrowseSession,o=t.markCobrowseSessionFailed,i=Object(ve.useCallback)((function(){n({messageId:e.messageId})}),[e.messageId]);return Object(ve.useEffect)((function(){(function(){var e=Object(c.a)(a.a.mark((function e(){var t,n,c,i,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ca.get();case 2:t=e.sent;try{t&&(n=JSON.parse(t),c=n.conversationId,i=n.messageId,s=n.agentId,r({state:{conversationId:c,messageId:i,agentId:s}}))}catch(a){o()}case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[r]),d()(e)?null:Object(xe.jsx)(ve.Suspense,{fallback:Object(xe.jsx)(aa.a,{sessionState:e.sessionState,onStopSession:i})},Object(xe.jsx)(sa,{cobrowseState:e}))},la=function(e){return Object(An.b)(Object(Nn.b)(e))},fa=function(e){var t=Object(ve.useRef)(null);return Object(ye.d)(la)?Object(xe.jsx)(he.a.Fragment,null,Object(xe.jsx)(Yr,null),Object(xe.jsx)(Mn,null),Object(xe.jsx)(ra,null),Object(xe.jsx)(qn,{history:e.history,ref:t}),Object(xe.jsx)(Gt.b,{parentFrameRef:t}),Object(xe.jsx)(da,null),Object(xe.jsx)(Ut,null)):null},ba=n(401),pa=n(500),Oa=n(333),va=n(501),ha=n(396),ga=n(67),ja=n(399);var ma,xa=function(e){var t=e.applicationConfig,n=e.handshakeDetails,r=e.store,a=e.theme,c=e.history,o=Object(H.b)(),i=Object(G.E)()?Jt:fa,s=Object(ve.useCallback)((function(e){return Object(ga.e)(Object(Nn.g)(r.getState()),e)}),[]);return Object(ve.useEffect)((function(){r.dispatch(Object(me.d)())}),[]),Object(xe.jsx)(xe.CacheProvider,{value:Object(ja.a)(o.document)},Object(xe.jsx)(kn.a,{window:o},Object(xe.jsx)(ye.a,{store:r},Object(xe.jsx)(we.c,null,Object(xe.jsx)(Ce.a.Provider,{value:n},Object(xe.jsx)(ln,{theme:a},Object(xe.jsx)(Te.b.Provider,{value:t},Object(xe.jsx)(Oa.a,{locale:Object(H.a)().locale},Object(xe.jsx)(Qt.b.Provider,{value:s},Object(xe.jsx)(ba.a,null,Object(xe.jsx)(ha.a,null,Object(xe.jsx)(va.b,null,Object(xe.jsx)(Ie.b,null,Object(xe.jsx)(pa.a,null,Object(xe.jsx)(i,{history:c})))))))))))))))},ya=n(103),Ia=n(690),wa=n(110),Ca=function(e,t){return"".concat(D.a.getParnterId(t),"_").concat(D.a.getAppId(t),"_").concat(wa.a.getId(L.a.getChatUser(e)),"_").concat(Date.now(),"_").concat(Math.random().toString(16).substr(2,8))},Ta=function(e,t){var n=L.a.getChatSessionToken(e),r=Ca(e,t),a=L.a.getInboxServerUrl(e),c=L.a.getUserInbox(e);return ma=new Ia.a({userName:n,clientId:r,inboxServerUrl:a,userInbox:c})},Ea=function(){return ma},ka=n(113),Sa=n.n(ka),_a=new(n(410).a)({getSessionToken:function(){return Promise.resolve(void 0)},getUserId:function(){return""},getCurrentPage:function(){return""},getCurrentPageTitle:function(){return""}}),Aa=function(e){_a.clone(e)},Na=_a,Ra=n(57),Pa=Object(ya.c)(),La=function(){function e(){Object(E.a)(this,e),this.data={}}return Object(_e.a)(e,[{key:"setReducer",value:function(e){return this.data.reducer=e,this}},{key:"setSaga",value:function(e){return this.data.saga=e,this}},{key:"setPreloadedState",value:function(e){return this.data.preloadedState=e,this}},{key:"setHTTPClient",value:function(e){return this.data.httpClient=e,this}},{key:"setApplicationConfig",value:function(e){return e&&(this.data.applicationConfig=e),this}},{key:"setHandshakeDetails",value:function(e){return e&&(this.data.handshakeDetails=e),this}},{key:"setChatSettings",value:function(e){return e&&(this.data.chatSettings=e),this}},{key:"build",value:function(){var e=this.data,t=e.applicationConfig,n=e.handshakeDetails,r=e.chatSettings,a=e.httpClient,c=e.reducer,o=e.preloadedState,s=e.saga,u=r.clientContext;Sa()(a,"HTTP Client is not configured"),Aa(a),Ta(n,t),Sa()(c,"Reducer is not configured");var d=Object(fn.e)(c,o,fn.a.apply(void 0,Object(i.a)(function(){var e=[];return e.push(Pa),e}())));s&&Pa.run(s);var l={payload:{applicationConfig:t,handshakeDetails:n,clientContext:u},type:Ra.b};return d.dispatch(l),this.data.store=d,d}},{key:"rebuild",value:function(){var e=this.data,t=e.applicationConfig,n=e.handshakeDetails,r=e.chatSettings,a=e.httpClient,c=e.store;return Sa()(a,"HTTP Client is not configured"),Aa(a),c.dispatch({type:Ra.a}),Ta(n,t),c.dispatch({type:Ra.b,payload:{applicationConfig:t,handshakeDetails:n,clientContext:r.clientContext}}),c}}]),e}(),Da=n(1),Ma=n(105),Ba=n.n(Ma);function Ua(e){var t=function(){Ea().disconnect().then((function(){console.log("MQTT Client | Disconnected")})).catch((function(e){console.error("MQTT Client | Disconnection Error",e)}))};try{Ea().connect().catch((function(e){console.error("MQTT Client | Connection Error",e)})),function(){var e=Ea();e.on("error",(function(){console.log("MQTT Client | Error")})),e.on("offline",(function(){console.log("MQTT Client | Offline")})),e.on("reconnect",(function(){console.log("MQTT Client | Reconnect")})),e.on("close",(function(){console.log("MQTT Client | Closed")}))}(),Ea().subscribe().catch((function(e){console.error("MQTT client | Subscribe Error",e)})),Ea().on("message",(function(t,n){try{var r=JSON.parse(n.toString());e(r)}catch(a){console.error(a)}}))}catch(n){console.error(n),t()}return t}var Fa=n(381),Ga=n.n(Fa),za=function e(t,n){var r,a=this;if(Object(E.a)(this,e),this.poll=function(){a.isActive&&(a.timeoutId=window.setTimeout((function(){a.handler().finally((function(){a.enableBackOff&&(a.interval=a.interval+a.baseInterval),a.poll()}))}),a.interval))},this.start=function(e){a.isActive||(a.isActive=!0,a.timeoutId=window.setTimeout((function(){a.handler().finally((function(){a.poll()}))}),e||0))},this.stop=function(){a.isActive=!1,a.timeoutId&&(window.clearTimeout(a.timeoutId),a.timeoutId=void 0),a.enableBackOff&&(a.interval=a.baseInterval)},!t)throw new Error("No poll handler defined");this.handler=(r=t,function(){return r().catch((function(){}))}),this.baseInterval=n.pollInterval,this.enableBackOff=n.enableBackOff,this.interval=n.pollInterval,this.timeoutId=void 0,this.isActive=!1},Va=n(40);function Wa(e){return Va.__awaiter(this,void 0,void 0,a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Na.post("".concat("/livechat/event","/publish"),Object.assign({type:e.type},e.payload)));case 1:case"end":return t.stop()}}),t)})))}var Ha=function(){return"A_".concat((e=Date.now(),Math.floor(e/1e3).toString(16)+"0000000000000000"));var e},Ka=Ga()((function(){var e=Ha();return{set:function(t){return e=t||e},get:function(){return e}}}));function Ya(e,t){var n=Ka();return new za((function(){return function(e){return Va.__awaiter(this,void 0,void 0,a.a.mark((function t(){var n,r,c,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e||te.a,r=n.cursor,c=n.lastActiveDiff,t.next=3,Na.post("".concat("/livechat/event","/fetch-notifications").concat(r?"?cursor=".concat(r):""),{lastActiveDiff:c},{backoff:!0});case 3:return o=t.sent,t.abrupt("return",o.data);case 5:case"end":return t.stop()}}),t)})))}({cursor:n.get(),lastActiveDiff:t.getLastActiveTimeDifference()}).then((function(t){var r=t.results,a=t.afterCursor;e(null,r),n.set(a)})).catch((function(t){e(Object(Oe.c)(t)?t:null,[])}))}),Object.assign({},t||{},{pollInterval:15e3}))}var $a=n(710),Xa=Object($a.a)(["payload","type"]),qa=Object(k.a)("conversationId"),Ja=Object(k.a)("sender"),Qa=Object(k.a)("payload"),Za=Object(k.a)("creationTime"),ec=function e(){Object(E.a)(this,e)};ec.getMessageType=Object(S.a)(Xa),ec.getConversationId=Object(S.a)(qa),ec.getSender=Object(S.a)(Ja),ec.getCreationTime=Object(S.a)(Za),ec.getPayload=function(e){return Object(S.a)(Qa)(e)};var tc,nc=n(77),rc=(tc={},Object(s.a)(tc,"NEW_MESSAGE",(function(e){return{payload:{conversationId:ec.getConversationId(e),messageId:ec.getPayload(e).messageId},type:"NEW_MESSAGE"}})),Object(s.a)(tc,"MESSAGE_UPDATED",(function(e){return{payload:{conversationId:ec.getConversationId(e),messageId:ec.getPayload(e).messageId},type:"MESSAGE_UPDATED"}})),Object(s.a)(tc,"EXTERNAL_EVENT",(function(e){return{payload:Object.assign({},h()(e.payload.externalEvent,["type","action","conversationId","payload"]),{actionType:ec.getPayload(e).externalEvent.action,externalParams:ec.getPayload(e).externalEvent.payload,contextId:ec.getConversationId(e)}),type:"EXTERNAL_EVENT"}})),Object(s.a)(tc,"UI_CONTROL",(function(e){return{type:ec.getPayload(e).event.action,payload:ec.getPayload(e).event.payload?JSON.parse(ec.getPayload(e).event.payload):{}}})),Object(s.a)(tc,"CHAT_USER_UPDATED",(function(e){return{payload:{conversationId:ec.getConversationId(e),chatUserId:ec.getPayload(e).chatUserId},type:"CHAT_USER_UPDATED"}})),Object(s.a)(tc,"CHAT_USER_START_TYPING",(function(e){return{payload:{conversationId:ec.getConversationId(e),sender:ec.getSender(e),actionTime:ec.getCreationTime(e)},type:"CHAT_USER_START_TYPING"}})),Object(s.a)(tc,"CHAT_USER_STOP_TYPING",(function(e){return{payload:{conversationId:ec.getConversationId(e),sender:ec.getSender(e),actionTime:ec.getCreationTime(e)},type:"CHAT_USER_STOP_TYPING"}})),Object(s.a)(tc,"CONVERSATION_UPDATED",(function(e){return{payload:{conversationId:ec.getConversationId(e),sender:ec.getSender(e),closed:ec.getPayload(e).closed,deleted:ec.getPayload(e).deleted},type:"CONVERSATION_UPDATED"}})),Object(s.a)(tc,"VIDEO_CALL_STARTING",(function(e){var t=ec.getPayload(e).audioOnly;return{payload:{videoConversationId:ec.getPayload(e).videoConversationId,conversationId:ec.getConversationId(e),participantInfos:ec.getPayload(e).participantInfos,type:t?nc.b.AUDIO:nc.b.VIDEO},type:"VIDEO_CALL_STARTING"}})),Object(s.a)(tc,"VIDEO_CALL_ENDED",(function(e){return{payload:{conversationId:ec.getConversationId(e),videoConversationId:ec.getPayload(e).videoConversationId},type:"VIDEO_CALL_ENDED"}})),Object(s.a)(tc,"VIDEO_CALL_TOGGLE",(function(e){return{payload:{conversationId:ec.getConversationId(e),videoCallEnabled:ec.getPayload(e).videoEnabled,audioCallEnabled:ec.getPayload(e).audioEnabled},type:"VIDEO_CALL_TOGGLE"}})),Object(s.a)(tc,"VIDEO_CALL_OFFER_ACCEPTED",(function(e){return{payload:{conversationId:ec.getConversationId(e),conversation:ec.getPayload(e).conversation,participant:ec.getPayload(e).participant},type:"VIDEO_CALL_OFFER_ACCEPTED"}})),Object(s.a)(tc,"VIDEO_CALL_DECLINED",(function(e){return{payload:{conversationId:ec.getConversationId(e)},type:"VIDEO_CALL_DECLINED"}})),Object(s.a)(tc,"CO_BROWSE_STATUS",(function(e){return{payload:{status:ec.getPayload(e).status},type:"CO_BROWSE_STATUS"}})),Object(s.a)(tc,"LIVE_CHAT_ASSIGNMENT_CHANGED",(function(e){return{payload:{conversationId:ec.getConversationId(e),unassignedFrom:ec.getPayload(e).unassignedFrom,assignedTo:ec.getPayload(e).assignedTo,assignmentTime:ec.getPayload(e).assignmentTime},type:"LIVE_CHAT_ASSIGNMENT_CHANGED"}})),Object(s.a)(tc,"ADD_TO_CART",(function(e){var t=ec.getPayload(e).action;return{payload:{params:t.params,conversationId:ec.getConversationId(e),type:t.actionType},type:"ADD_TO_CART"}})),tc);function ac(e){try{var t=ec.getMessageType(e),n=rc[t];if(n)return n(e)}catch(r){console.error(r)}}var cc=n(30),oc=a.a.mark(Cc),ic=a.a.mark(Tc),sc=a.a.mark(Ec),uc=a.a.mark(kc),dc=a.a.mark(Sc),lc=a.a.mark(_c),fc=a.a.mark(Ac),bc=a.a.mark(Nc),pc=a.a.mark(Rc),Oc=a.a.mark(Pc),vc=a.a.mark(Lc),hc=function(){var e=new Set;return{add:function(t){return e.add(t)},clear:function(){return e.clear()},has:function(t){return e.has(t)}}}(),gc=function(){var e=0,t=!0;return{getLastActiveTimeDifference:function(){return t?0:Date.now()-e},setAppActive:function(n){t=n,n||(e=Date.now())}}}(),jc=function(e,t){return function(e,t){var n;function r(){n&&n.stop()}try{(n=Ya(e,t)).start(15e3)}catch(a){r()}return r}((function(t,n){if(e(Object(me.f)(!t)),!t){var r=n.filter((function(e){return!hc.has(e.id)})).map(ac).filter(Boolean);e(r),hc.clear()}}),Object.assign({},t,{getLastActiveTimeDifference:gc.getLastActiveTimeDifference}))};function mc(){return Object(ya.d)((function(e){var t=function(e){return Ua((function(t){var n=ac(t);n&&(hc.add(t.id),e(n))}))}(e);return function(){t()}}))}function xc(){return Object(ya.d)((function(e){var t=jc(e);return function(){t()}}))}function yc(){return Object(ya.d)((function(e){var t,n=jc(e,{enableBackOff:!0});return t=window.setTimeout((function(){n()}),432e5),function(){t&&window.clearTimeout(t),n()}}))}var Ic=function(e){return e.type===cc.g},wc=function(e){return!Ic(e)};function Cc(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Da.b)(e.filter(Ic).map((function(e){return Object(Da.g)(e)})));case 2:case"end":return t.stop()}}),oc)}function Tc(e){var t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=e.filter(wc),d()(t)){n.next=4;break}return n.next=4,Object(Da.g)({type:cc.k,payload:{events:t}});case 4:case"end":return n.stop()}}),ic)}function Ec(e){var t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=Ba()(e),n.next=3,Object(Da.b)([Object(Da.c)(Cc,t),Object(Da.c)(Tc,t)]);case 3:case"end":return n.stop()}}),sc)}function kc(){var e,t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Da.c)(yc);case 3:return e=n.sent,n.next=6,Object(Da.l)(e,Ec);case 6:return t=n.sent,n.next=9,Object(Da.k)(cc.a);case 9:n.next=13;break;case 11:n.prev=11,n.t0=n.catch(0);case 13:if(n.prev=13,e&&e.close(),!t||t.isCancelled()){n.next=18;break}return n.next=18,Object(Da.d)(t);case 18:return n.finish(13);case 19:case"end":return n.stop()}}),uc,null,[[0,11,13,19]])}function Sc(){var e,t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,Object(Da.k)(cc.b);case 3:return n.next=5,Object(Da.h)([Object(Da.k)(cc.a),Object(Da.e)(18e5)]);case 5:if(e=n.sent,t=Object(f.a)(e,2),t[0],!t[1]){n.next=11;break}return n.abrupt("break",13);case 11:n.next=0;break;case 13:case"end":return n.stop()}}),dc)}function _c(){var e,t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Da.c)(xc);case 3:return e=n.sent,n.next=6,Object(Da.l)(e,Ec);case 6:return t=n.sent,n.next=9,Object(Da.c)(Sc);case 9:n.next=13;break;case 11:n.prev=11,n.t0=n.catch(0);case 13:if(n.prev=13,e&&e.close(),!t||t.isCancelled()){n.next=18;break}return n.next=18,Object(Da.d)(t);case 18:return n.finish(13);case 19:case"end":return n.stop()}}),lc,null,[[0,11,13,19]])}function Ac(){var e,t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,Object(Da.k)(cc.b);case 3:return n.next=5,Object(Da.h)([Object(Da.k)(cc.a),Object(Da.e)(108e5)]);case 5:if(e=n.sent,t=Object(f.a)(e,2),t[0],!t[1]){n.next=11;break}return n.abrupt("break",13);case 11:n.next=0;break;case 13:case"end":return n.stop()}}),fc)}function Nc(){var e,t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=1,n.next=4,Object(Da.h)([Object(Da.k)(cc.f),Object(Da.k)(cc.a)]);case 4:return n.next=6,Object(Da.c)(mc);case 6:return e=n.sent,n.next=9,Object(Da.l)(e,Ec);case 9:return t=n.sent,n.next=12,Object(Da.c)(Ac);case 12:n.next=16;break;case 14:n.prev=14,n.t0=n.catch(1);case 16:if(n.prev=16,e&&e.close(),!t||t.isCancelled()){n.next=21;break}return n.next=21,Object(Da.d)(t);case 21:return n.finish(16);case 22:n.next=0;break;case 24:case"end":return n.stop()}}),bc,null,[[1,14,16,22]])}function Rc(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.h)([Object(Da.k)(cc.f),Object(Da.k)(cc.a)]);case 2:return e.next=5,Object(Da.c)(_c);case 5:return e.next=7,Object(Da.c)(kc);case 7:e.next=2;break;case 9:case"end":return e.stop()}}),pc)}function Pc(){var e,t,n;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,Object(Da.h)([Object(Da.k)(cc.a),Object(Da.k)(cc.b)]);case 3:e=r.sent,t=Object(f.a)(e,2),n=t[0],t[1],gc.setAppActive(!!n),r.next=0;break;case 10:case"end":return r.stop()}}),Oc)}function Lc(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.b)([Object(Da.f)(Nc),Object(Da.f)(Rc),Object(Da.f)(Pc)]);case 2:case"end":return e.stop()}}),vc)}var Dc=a.a.mark(Mc);function Mc(){var e;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,Object(Da.k)(Ra.b);case 3:return t.prev=3,t.next=6,Object(Da.f)(Lc);case 6:return e=t.sent,t.next=9,Object(Da.k)(cc.m);case 9:return t.next=11,Object(Da.d)(e);case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),console.error(t.t0);case 16:t.next=0;break;case 18:case"end":return t.stop()}}),Dc,null,[[3,13]])}var Bc=n(61),Uc=n.n(Bc),Fc=n(151);function Gc(e){return Va.__awaiter(this,void 0,void 0,a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Na.post("".concat("/livechat/conversation","/chatUsers"),e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))}var zc=function(e){return Va.__awaiter(void 0,void 0,void 0,a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Na.post("".concat("/livechat/conversation","/chatUser"),e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))},Vc=a.a.mark($c),Wc=a.a.mark(Xc),Hc=a.a.mark(qc),Kc=function(e){return{userId:e,email:"",firstName:"",userType:"PARTNER",phoneNo:"",profileImageUrl:""}},Yc=function(e,t){var n={};return Uc()(t,(function(t,r){var a=r.sender;return n[a]||!!Object(ga.f)(e,a)||(n[a]=a,t.push(r)),t}),[])};function $c(e){var t,n,r,c;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=en()(e,(function(e){return e.sender})),a.next=4,Object(Da.c)(Gc,e);case 4:return n=a.sent,r=en()(n,(function(e){return wa.a.getId(e)})),c=[],j()(t,(function(e){!r.includes(e)&&Object(Z.b)(e)&&(c=[].concat(Object(i.a)(c),[Kc(e)]))})),a.next=10,Object(Da.g)({type:Fc.c,payload:{users:[].concat(Object(i.a)(n),Object(i.a)(c))}});case 10:a.next=15;break;case 12:a.prev=12,a.t0=a.catch(0),Object(Oe.f)(a.t0)?console.warn(a.t0):console.error(a.t0);case 15:case"end":return a.stop()}}),Vc,null,[[0,12]])}function Xc(e){var t,n,r;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(0!==(t=Ba()(e)).length){a.next=3;break}return a.abrupt("return");case 3:return a.next=5,Object(Da.i)(zr.g);case 5:if(n=a.sent,0!==(r=Yc(n,t)).length){a.next=9;break}return a.abrupt("return");case 9:return a.next=11,Object(Da.c)($c,r);case 11:case"end":return a.stop()}}),Wc)}function qc(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Da.c)($c,Ba()(e));case 2:case"end":return t.stop()}}),Hc)}var Jc=a.a.mark(ro),Qc=a.a.mark(co),Zc=a.a.mark(oo),eo=a.a.mark(io),to=a.a.mark(so);function no(e){return"LOCK_CONVERSATIONS"===e.type||"UNLOCK_CONVERSATIONS"===e.type}function ro(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Da.b)(e.filter(no).map((function(e){return Object(Da.g)(e)})));case 2:case"end":return t.stop()}}),Jc)}function ao(e){return"LIVE_CHAT_ASSIGNMENT_CHANGED"===e.type}function co(e){var t,n,r,c,o,i,s,u,d;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload,n=t.assignmentTime,r=t.assignedTo,c=t.unassignedFrom,o=t.conversationId,i=[],r&&i.push({conversationId:o,sender:r}),c&&i.push({conversationId:o,sender:c}),a.next=7,Object(Da.c)(Xc,i);case 7:return a.next=9,Object(Da.i)((function(e){return Object(ga.f)(Object(zr.g)(e),r)}));case 9:return s=a.sent,a.next=12,Object(Da.i)((function(e){return Object(ga.f)(Object(zr.g)(e),c)}));case 12:return u=a.sent,d={currentlyAssignedUser:s,previouslyAssignedUser:u,assignmentTime:n},a.next=16,Object(Da.g)(Object(me.c)({conversationId:o,additional:d,action:$t.a.AGENT_ASSIGNED}));case 16:a.next=21;break;case 18:a.prev=18,a.t0=a.catch(0),Object(Oe.f)(a.t0)?console.warn(a.t0):console.error(a.t0);case 21:case"end":return a.stop()}}),Qc,null,[[0,18]])}function oo(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Da.b)(e.filter(ao).map(co));case 2:case"end":return t.stop()}}),Zc)}function io(e){var t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=e.payload.events,n.next=4,Object(Da.b)([Object(Da.c)(ro,t),Object(Da.c)(oo,t)]);case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.error(n.t0);case 9:case"end":return n.stop()}}),eo,null,[[0,6]])}function so(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.l)(cc.k,io);case 2:case"end":return e.stop()}}),to)}var uo=a.a.mark(bo),lo=a.a.mark(po),fo=a.a.mark(Oo);function bo(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Da.e)(e);case 2:return t.next=4,Object(Da.g)(Object(me.g)());case 4:case"end":return t.stop()}}),uo)}function po(){var e,t,n,r,c;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(Da.a)(["LOCK_CONVERSATIONS","UNLOCK_CONVERSATIONS"]);case 2:t=a.sent;case 3:return a.prev=4,a.next=7,Object(Da.k)(t);case 7:if(n=a.sent,r=n.type,c=n.payload,!e||e.isCancelled()){a.next=13;break}return a.next=13,Object(Da.d)(e);case 13:if("LOCK_CONVERSATIONS"!==r){a.next=19;break}return a.next=16,Object(Da.f)(bo,c.waitTime);case 16:return e=a.sent,a.next=19,Object(Da.g)(Object(me.e)({waitTime:c.waitTime,reason:c.reason}));case 19:if("UNLOCK_CONVERSATIONS"!==r){a.next=22;break}return a.next=22,Object(Da.g)(Object(me.g)());case 22:a.next=27;break;case 24:a.prev=24,a.t0=a.catch(4),console.error(a.t0);case 27:a.next=3;break;case 29:case"end":return a.stop()}}),lo,null,[[4,24]])}function Oo(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.b)([Object(Da.f)(po)]);case 2:case"end":return e.stop()}}),fo)}var vo=a.a.mark(ho);function ho(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.b)([Object(Da.f)(Mc),Object(Da.f)(so),Object(Da.f)(Oo)]);case 2:case"end":return e.stop()}}),vo)}var go=n(18),jo=n.n(go),mo=n(131),xo=n.n(mo),yo=n(707),Io=n.n(yo),wo=n(92),Co=n.n(wo),To=n(224),Eo=n.n(To),ko=n(205),So=n.n(ko),_o=n(7),Ao=n(16),No=n(58),Ro=n(122),Po=n(88),Lo=n.n(Po);function Do(e){return Va.__awaiter(this,void 0,void 0,a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Na.get("".concat("/livechat/conversation","/fetch?fetchNumberOfOpenConversations=").concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))}function Mo(e,t,n){return Va.__awaiter(this,void 0,void 0,a.a.mark((function r(){var c,o,s;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c=He()(n)?"data=".concat(encodeURIComponent(n)):en()(n,(function(e,t){var n=encodeURIComponent(t),r=encodeURIComponent(e);return"".concat(n,"=").concat(r)})).join("&"),o=[].concat(Object(i.a)(Object.keys(t)),["Content-type"]),r.next=4,Na.post(e,c,{headers:Object.assign({},t,{"Content-Type":"application/x-www-form-urlencoded"}),baseURL:"",transformRequest:function(e,t){return j()(t,(function(e,n){Lo()(o,n)||delete t[n]})),e}});case 4:return s=r.sent,r.abrupt("return",s.data);case 6:case"end":return r.stop()}}),r)})))}function Bo(e){return Va.__awaiter(this,void 0,void 0,a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Na.get("".concat("/livechat/conversation","/fetch/").concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))}function Uo(e){return Va.__awaiter(this,void 0,void 0,a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Na.get("".concat("/livechat/conversation","/fetch/case/").concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))}function Fo(e,t){var n=t.size,r=t.cursor;return Va.__awaiter(this,void 0,void 0,a.a.mark((function t(){var c,o,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=[{key:"conversationId",value:e}],n&&c.push({key:"size",value:n}),r&&c.push({key:"cursor",value:r}),o=c.map((function(e){return"".concat(e.key,"=").concat(e.value)})).join("&"),t.next=6,Na.get("".concat("/livechat/conversation","/fetchMessages?").concat(o));case 6:return i=t.sent,t.abrupt("return",i.data);case 8:case"end":return t.stop()}}),t)})))}function Go(e){return Va.__awaiter(this,void 0,void 0,a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Na.post("".concat("/livechat/conversation","/closeConversation?conversationId=").concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))}function zo(){return Va.__awaiter(this,void 0,void 0,a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Na.post("".concat("/livechat/conversation","/closeAll"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))}function Vo(e){return Va.__awaiter(this,void 0,void 0,a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Na.post("".concat("/livechat/conversation","/delete?conversationId=").concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))}function Wo(){return Va.__awaiter(this,void 0,void 0,a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Na.post("".concat("/livechat/conversation","/deleteAll"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))}function Ho(e,t){return Va.__awaiter(this,void 0,void 0,a.a.mark((function n(){var r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Na.post("".concat("/livechat/conversation","/updateDisclaimer/").concat(e,"?disclaimerStatus=").concat(t));case 2:return r=n.sent,n.abrupt("return",r.data);case 4:case"end":return n.stop()}}),n)})))}function Ko(e,t){return Va.__awaiter(this,void 0,void 0,a.a.mark((function n(){var r,c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={conversationId:e,messageId:t},n.next=3,Na.get("".concat("/livechat/conversation","/fetchMessage"),{params:r});case 3:return c=n.sent,n.abrupt("return",c.data);case 5:case"end":return n.stop()}}),n)})))}function Yo(e){return Va.__awaiter(this,void 0,void 0,a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Na.post("".concat("/livechat/conversation","/send"),e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))}function $o(e){return Va.__awaiter(this,void 0,void 0,a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Na.post("/livechat/appointment/slots",{slotDefinitionId:e.slotDefinitionId,startTime:e.selectedDate.getTime(),timeZone:e.timeZone,params:e.appointmentAssetParams,messageId:e.messageId});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))}function Xo(e){return Va.__awaiter(this,void 0,void 0,a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Na.post("/livechat/appointment/reserve",{startTime:e.selectedDate.getTime(),selectedSlot:e.selectedSlot,slotDefinitionId:e.slotDefinitionId,timeZone:e.timeZone,params:e.appointmentAssetParams,messageId:e.messageId});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))}function qo(e){return Va.__awaiter(this,void 0,void 0,a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Na.post("".concat("/livechat/conversation","/new"),e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))}function Jo(e,t,n){return Va.__awaiter(this,void 0,void 0,a.a.mark((function r(){var c;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Na.post("".concat("/livechat/conversation","/suggestions"),Object.assign({conversationId:e,query:t},n));case 2:return c=r.sent,r.abrupt("return",c.data);case 4:case"end":return r.stop()}}),r)})))}function Qo(e){var t=e.context,n=e.updateLatest;Na.post("".concat("/livechat/conversation","/updateConversationDetails?updateLatest=").concat(n),t)}function Zo(e){var t=e.conversationId,n=e.context;Na.post("".concat("/livechat/conversation","/updateConversationDetails?conversationId=").concat(t),n)}function ei(e){return Na.post("".concat("/livechat/conversation","/cancelAsset/").concat(e))}function ti(e){return Va.__awaiter(this,void 0,void 0,a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Na.post("".concat("/livechat/conversation","/markSurveyOpened/").concat(e)));case 1:case"end":return t.stop()}}),t)})))}var ni=n(117),ri=a.a.mark(oi),ai=a.a.mark(si),ci=a.a.mark(ui);function oi(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(Ro.i)(e)){t.next=3;break}return t.next=3,Object(Da.g)(Object(ni.n)(e));case 3:case"end":return t.stop()}}),ri)}function ii(e){return Va.__awaiter(this,void 0,void 0,a.a.mark((function t(){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e,Object(Ro.h)(e)||(n=h()(e,"id")),t.next=4,Yo(n);case 4:return r=t.sent,t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})))}function si(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Da.c)(ii,e);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),Object(Oe.f)(t.t0)?console.warn(t.t0):console.error(t.t0),t.abrupt("return",void 0);case 10:case"end":return t.stop()}}),ai,null,[[0,6]])}function ui(e){var t,n,r,c;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.id,n=Ao.a.getConversationId(e),c=x()(No.a.getAttachment(Ao.a.getMessagePayload(e)),"messageId"),a.prev=3,a.next=6,Object(Da.c)(ii,e);case 6:r=a.sent,a.next=16;break;case 9:return a.prev=9,a.t0=a.catch(3),a.next=13,Object(Da.g)({type:_o.G,payload:{chatMessage:new Ao.a(e).setCreationTime(Date.now()).build(),conversationId:Ao.a.getConversationId(e)}});case 13:return a.next=15,Object(Da.g)({payload:{conversationId:n,transientId:t,postbackParentMessageId:c},type:_o.D});case 15:throw a.t0;case 16:if(!Object(Ro.i)(r)){a.next=19;break}return a.next=19,Object(Da.g)({payload:{chatMessage:r,conversationId:n,transientId:t},type:_o.E});case 19:case"end":return a.stop()}}),ci,null,[[3,9]])}var di=n(102),li=a.a.mark(bi),fi=a.a.mark(pi);function bi(e){var t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=di.a.makeOutgoing().makeTextMessage(e.payload),n.next=4,Object(Da.c)(oi,t);case 4:return n.next=6,Object(Da.c)(ui,t);case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),Object(Oe.f)(n.t0)?console.warn(n.t0):console.error(n.t0);case 11:case"end":return n.stop()}}),li,null,[[0,8]])}function pi(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.l)(_o.V,bi);case 2:case"end":return e.stop()}}),fi)}var Oi,vi=n(11),hi=a.a.mark(wi),gi=a.a.mark(Ci),ji=a.a.mark(Ti),mi=function(e,t){var n=No.a.getAttachment(Ao.a.getMessagePayload(e));return jo()(e,{messagePayload:{attachment:{$merge:Object.assign({},n.showSubmittedContent?{clickedButtonId:t.buttonId}:{},{submitted:!n.reSubmittable})}}})},xi=function(e,t){var n=No.a.getAttachment(Ao.a.getMessagePayload(e));return jo()(e,{messagePayload:{attachment:{$merge:Object.assign({},n.showSubmittedContent?{filledForm:t.filledForm}:{},{submitted:!0})}}})},yi=(Oi={},Object(s.a)(Oi,vi.b.CARD,mi),Object(s.a)(Oi,vi.b.CAROUSEL,mi),Object(s.a)(Oi,vi.b.CO_BROWSE_INVITE,mi),Object(s.a)(Oi,vi.b.FORM,xi),Object(s.a)(Oi,vi.b.CONTACT_DETAILS_FORM,xi),Object(s.a)(Oi,vi.b.SECURE_FORM,xi),Object(s.a)(Oi,vi.b.APPOINTMENT,(function(e,t){return jo()(e,{messagePayload:{attachment:{$merge:{selectedDate:t.selectedDate,selectedSlot:t.selectedSlot,submitted:!0}}}})})),Object(s.a)(Oi,vi.b.SURVEY,(function(e,t){return jo()(e,{messagePayload:{attachment:{$merge:{opened:!!t.opened,submitted:!!t.submitted}}}})})),Oi),Ii=function(e,t){if(!e)return{};switch(No.a.getAttachment(Ao.a.getMessagePayload(e)).type){case vi.b.CAROUSEL:case vi.b.CO_BROWSE_INVITE:case vi.b.CARD:return{buttonId:No.a.getAttachment(Ao.a.getMessagePayload(t)).buttonId};case vi.b.SURVEY:return{submitted:!No.a.getAttachment(Ao.a.getMessagePayload(t)).reSubmittable,opened:!0};case vi.b.SECURE_FORM:case vi.b.FORM:case vi.b.CONTACT_DETAILS_FORM:return{filledForm:No.a.getAttachment(Ao.a.getMessagePayload(t)).filledForm};case vi.b.APPOINTMENT:return{selectedDate:No.a.getAttachment(Ao.a.getMessagePayload(t)).selectedDate,selectedSlot:No.a.getAttachment(Ao.a.getMessagePayload(t)).selectedSlot};default:return{}}};function wi(e){var t,n,r,c,o;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.chatMessage,n=e.conversationId,r=e.params,t){a.next=3;break}return a.abrupt("return",null);case 3:if(!(c=yi[No.a.getAttachment(Ao.a.getMessagePayload(t)).type])){a.next=9;break}return o=c(t,r),a.next=8,Object(Da.g)({type:_o.G,payload:{chatMessage:o,conversationId:n}});case 8:return a.abrupt("return",o);case 9:return a.abrupt("return",null);case 10:case"end":return a.stop()}}),hi)}function Ci(e){var t,n,r,c,o,i,s;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,n=t.postback.messageId,r=t.conversationId,a.next=3,Object(Da.i)(zr.c);case 3:return o=a.sent,i=Object(Vr.j)(Object(Vr.l)(o,r),n),a.prev=5,s=di.a.makeOutgoing().makeTemplatePostbackAttachmentMessage(e.payload),a.next=9,Object(Da.c)(wi,{chatMessage:i,conversationId:r,params:Ii(i,s)});case 9:if(c=a.sent,!s){a.next=16;break}return a.next=13,Object(Da.c)(oi,s);case 13:return a.next=15,Object(Da.c)(ui,s);case 15:e.promise.resolve();case 16:a.next=25;break;case 18:if(a.prev=18,a.t0=a.catch(5),!c){a.next=23;break}return a.next=23,Object(Da.g)({type:_o.G,payload:{chatMessage:i,conversationId:r}});case 23:e.promise.reject(),console.error(a.t0);case 25:case"end":return a.stop()}}),gi,null,[[5,18]])}function Ti(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.l)(_o.U,Ci);case 2:case"end":return e.stop()}}),ji)}var Ei=a.a.mark(Si),ki=a.a.mark(_i);function Si(e){var t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!(t=di.a.makeOutgoing().makeQuickReplyPostbackAttachmentMessage(e.payload))){n.next=7;break}return n.next=5,Object(Da.c)(oi,t);case 5:return n.next=7,Object(Da.c)(ui,t);case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),Object(Oe.f)(n.t0)?console.warn(n.t0):console.error(n.t0);case 12:case"end":return n.stop()}}),Ei,null,[[0,9]])}function _i(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.l)(_o.O,Si);case 2:case"end":return e.stop()}}),ki)}var Ai=function(e){var t=e.messageId,n=e.markCompletedSession;return Va.__awaiter(void 0,void 0,void 0,a.a.mark((function e(){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Na.post("".concat("/co-browse/conversation","/").concat(n?"completed":"cancelled","?messageId=").concat(t));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))},Ni=function(e){var t=e.messageId,n=e.actionPayload;return Va.__awaiter(void 0,void 0,void 0,a.a.mark((function e(){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Na.post("".concat("/co-browse/conversation","/push?messageId=").concat(t),{type:"CO_BROWSE",payload:n});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))},Ri=function(e){var t=e.messageId,n=e.payload;return Va.__awaiter(void 0,void 0,void 0,a.a.mark((function e(){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Na.post("".concat("/co-browse/conversation","/push/status?messageId=").concat(t),n);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))},Pi=function(e){var t=e.messageId,n=e.otp,r=e.additionalInfo;return Va.__awaiter(void 0,void 0,void 0,a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ri({messageId:t,payload:{status:"SUCCESS",otp:n,additionalInfo:r}}));case 1:case"end":return e.stop()}}),e)})))},Li=function(e){var t=e.messageId;return Va.__awaiter(void 0,void 0,void 0,a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ri({messageId:t,payload:{status:"FAILED"}}));case 1:case"end":return e.stop()}}),e)})))},Di=function(e){var t=e.messageId;return Va.__awaiter(void 0,void 0,void 0,a.a.mark((function e(){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Na.get("".concat("/co-browse/conversation","/session/live?messageId=").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))},Mi=n(51),Bi=a.a.mark(ns),Ui=a.a.mark(rs),Fi=a.a.mark(as),Gi=a.a.mark(cs),zi=a.a.mark(os),Vi=a.a.mark(is),Wi=a.a.mark(ss),Hi=a.a.mark(us),Ki=a.a.mark(ds),Yi=a.a.mark(ls),$i=a.a.mark(fs),Xi=a.a.mark(bs),qi=a.a.mark(ps),Ji=a.a.mark(Os),Qi=a.a.mark(vs),Zi=a.a.mark(hs),es=a.a.mark(gs),ts=a.a.mark(js);function ns(e){var t,n;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(Da.i)(zr.f);case 3:return t=r.sent,n=t.messageId,r.next=7,Object(Da.c)(Ni,{messageId:n,actionPayload:e.payload});case 7:r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),Object(Oe.f)(r.t0)?console.warn(r.t0):console.error(r.t0);case 12:case"end":return r.stop()}}),Bi,null,[[0,9]])}function rs(e){var t,n,r,c,o,i,s;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload,n=t.otp,r=t.additionalInfo,a.next=4,Object(Da.i)(zr.f);case 4:return c=a.sent,o=c.messageId,i=c.conversationId,s=c.agentId,a.next=10,Object(Da.c)(Pi,{messageId:o,otp:n,additionalInfo:r});case 10:return a.next=12,Object(Da.g)(Object(oa.i)({state:{messageId:o,conversationId:i,agentId:s}}));case 12:a.next=18;break;case 14:return a.prev=14,a.t0=a.catch(0),a.next=18,Object(Da.g)(Object(oa.e)());case 18:case"end":return a.stop()}}),Ui,null,[[0,14]])}function as(e){var t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=e.payload.messageId,n.next=4,Object(Da.g)(Object(oa.e)());case 4:return n.next=6,Object(Da.c)(Li,{messageId:t});case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),Object(Oe.f)(n.t0)?console.warn(n.t0):console.error(n.t0);case 11:case"end":return n.stop()}}),Fi,null,[[0,8]])}function cs(e){var t,n,r,c,o;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.messageId,a.next=3,Object(Da.h)([Object(Da.k)((function(e){var n=e.type,r=e.payload;return n===_o.E&&x()(r,"chatMessage.messagePayload.attachment.messageId")===t})),Object(Da.k)((function(e){var n=e.type,r=e.payload;return n===_o.D&&x()(r,"postbackParentMessageId")===t})),Object(Da.k)(Mi.f),Object(Da.k)(Mi.g)]);case 3:if(n=a.sent,r=Object(f.a)(n,2),c=r[0],o=r[1],!c){a.next=10;break}return a.next=10,Object(Da.g)(Object(oa.o)());case 10:if(!o){a.next=13;break}return a.next=13,Object(Da.g)(Object(oa.e)());case 13:case"end":return a.stop()}}),Gi)}function os(e){var t,n,r,c;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,t=e.payload,n=t.messageId,r=t.endedByAgent,c=t.markCompletedSession,!r&&n){a.next=4;break}return a.abrupt("return");case 4:return a.next=6,Object(Da.c)(Ai,{messageId:n,markCompletedSession:c});case 6:return a.abrupt("return");case 9:a.prev=9,a.t0=a.catch(0),Object(Oe.f)(a.t0)?console.warn(a.t0):console.error(a.t0);case 12:case"end":return a.stop()}}),zi,null,[[0,9]])}function is(e){var t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=e.payload.shouldNotifyAgent,n.prev=1,!t){n.next=5;break}return n.next=5,Object(Da.g)(Object(oa.j)({type:"REMOTE_CONTROL",payload:{status:"ACCEPT"}}));case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),Object(Oe.f)(n.t0)?console.warn(n.t0):console.error(n.t0);case 10:case"end":return n.stop()}}),Vi,null,[[1,7]])}function ss(e){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Da.g)(Object(oa.j)({type:"REMOTE_CONTROL",payload:{status:"REJECT"}}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(Oe.f)(e.t0)?console.warn(e.t0):console.error(e.t0);case 8:case"end":return e.stop()}}),Wi,null,[[0,5]])}function us(e){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Da.g)(Object(oa.j)({type:"REMOTE_CONTROL",payload:{status:"STOP"}}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(Oe.f)(e.t0)?console.warn(e.t0):console.error(e.t0);case 8:case"end":return e.stop()}}),Hi,null,[[0,5]])}function ds(e){var t,n,r,c,o,i;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload.state,n=t.messageId,r=t.conversationId,c=t.agentId,a.prev=1,a.next=4,Object(Da.b)([Object(Da.c)(Di,{messageId:n}),Object(Da.c)(Xc,{sender:c,conversationId:r})]);case 4:if(o=a.sent,i=Object(f.a)(o,1),!i[0]){a.next=12;break}return a.next=10,Object(Da.g)(Object(oa.n)({state:{conversationId:r,messageId:n,agentId:c}}));case 10:a.next=14;break;case 12:return a.next=14,Object(Da.g)(Object(oa.e)());case 14:a.next=21;break;case 16:return a.prev=16,a.t0=a.catch(1),a.next=20,Object(Da.g)(Object(oa.f)({messageId:n}));case 20:Object(Oe.f)(a.t0)?console.warn(a.t0):console.error(a.t0);case 21:case"end":return a.stop()}}),Ki,null,[[1,16]])}function ls(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.l)(Mi.f,os);case 2:case"end":return e.stop()}}),Yi)}function fs(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.l)(Mi.n,rs);case 2:case"end":return e.stop()}}),$i)}function bs(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.l)(Mi.o,as);case 2:case"end":return e.stop()}}),Xi)}function ps(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.l)(Mi.b,is);case 2:case"end":return e.stop()}}),qi)}function Os(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.l)(Mi.e,ss);case 2:case"end":return e.stop()}}),Ji)}function vs(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.l)(Mi.c,us);case 2:case"end":return e.stop()}}),Qi)}function hs(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.l)(Mi.a,ns);case 2:case"end":return e.stop()}}),Zi)}function gs(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.l)(Mi.j,ds);case 2:case"end":return e.stop()}}),es)}function js(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.b)([Object(Da.f)(fs),Object(Da.f)(bs),Object(Da.f)(ls),Object(Da.f)(ps),Object(Da.f)(Os),Object(Da.f)(vs),Object(Da.f)(hs),Object(Da.f)(gs)]);case 2:case"end":return e.stop()}}),ts)}var ms=n(371),xs=a.a.mark(ys);function ys(e){var t,n,r;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(0!==(t=e?Ba()(e):ms.a).length){a.next=3;break}return a.abrupt("return");case 3:return n=Ao.a.getConversationId(t[0]),r=en()(t,(function(e){return{sender:Ao.a.getSender(e),conversationId:n}})),a.next=7,Object(Da.c)(Xc,r);case 7:case"end":return a.stop()}}),xs)}var Is=n(404),ws=n(405),Cs=n(153),Ts=n(681),Es=function(e,t){var n=wa.a.getId(t),r=No.a.getAttachment(Ao.a.getMessagePayload(e)),a=Object(Ts.a)(r,{user:t}),c=Un()(Is.a.getFields(ws.a.getForm(r)),(function(e){var t=e.id;return"EQUALITY"!==e.validator&&d()(a[t])}));return!Object(Z.a)(n)&&c},ks=function(e,t,n){var r;return r="string"===typeof e?(new Ao.a).setMessagePayload((new No.a).setMessageType(Cs.b).setMessageText(e).build()).build():e,di.a.makeSent().makeMessage(Object.assign({messageId:n,conversationId:t,sender:at.b},r))},Ss=n(49),_s=n(94),As=a.a.mark(Bs),Ns=a.a.mark(Us),Rs=a.a.mark(Fs),Ps=a.a.mark(Gs),Ls=a.a.mark(zs),Ds=a.a.mark(Vs),Ms=a.a.mark(Ws);function Bs(e){var t,n,r,c,o,i,s;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(Da.i)(zr.c);case 3:return t=a.sent,n=Object(Vr.l)(t,e.payload.conversationId),r=Object(Vr.g)(Object(Vr.p)(t),e.payload.conversationId),c=Object(Vr.x)(n),o=Object(Vr.e)(Object(Vr.p)(t),e.payload.conversationId),a.next=10,Object(Da.c)(qo,Object.assign({},c?{defaultMessages:Object(Vr.k)(n).map((function(e){return Ao.a.getMessagePayload(e)}))}:void 0,{createCase:Object(Vr.B)(Object(Vr.p)(t),e.payload.conversationId),startedByContext:r},o,e.payload.appContext));case 10:return i=a.sent,a.t0=ga.b,a.next=14,Object(Da.i)(zr.g);case 14:return a.t1=a.sent,s=(0,a.t0)(a.t1),a.next=18,Object(Da.g)({payload:{transientConversationId:e.payload.conversationId,conversationResponse:i,botUserIds:s},type:_o.J});case 18:e.promise.resolve(i.id),a.next=25;break;case 21:a.prev=21,a.t2=a.catch(0),e.promise.reject(a.t2),Object(Oe.f)(a.t2)?console.warn(a.t2):console.error(a.t2);case 25:case"end":return a.stop()}}),As,null,[[0,21]])}function Us(e){var t,n,r,c;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=xo()(Ba()(M.a.getDefaultMessages(D.a.getCustomizationConfig(e)))),!(n=xo()(t.map((function(e,t){return ks(e,at.e,"".concat(at.d).concat(t))})))).length){a.next=9;break}return a.next=5,Object(Da.i)(zr.g);case 5:return r=a.sent,c=n.map((function(e){var t=Object(Ss.d)(r,Ao.a.getSender(e));return Object(Da.g)(Object(_s.f)(e,t))})),a.next=9,Object(Da.b)(c);case 9:return a.abrupt("return",n);case 10:case"end":return a.stop()}}),Ns)}function Fs(e,t){var n,r,c,o,i;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=M.a.getContactDetailsMessage(D.a.getCustomizationConfig(e)),r=[],!n||!Es(n,L.a.getChatUser(t))){a.next=11;break}return c=ks(n,at.e,at.c),a.next=6,Object(Da.i)(zr.g);case 6:return o=a.sent,i=Object(Ss.d)(o,Ao.a.getSender(c)),r.push(c),a.next=11,Object(Da.g)(Object(_s.f)(c,i));case 11:return a.abrupt("return",r);case 12:case"end":return a.stop()}}),Rs)}function Gs(e,t){var n,r;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(Da.c)(Us,e);case 2:return n=a.sent,a.next=5,Object(Da.c)(Fs,e,t);case 5:return r=a.sent,a.abrupt("return",[].concat(Object(i.a)(n),Object(i.a)(r)));case 7:case"end":return a.stop()}}),Ps)}function zs(){var e,t,n,r,c,o,i;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.t0=x.a,a.t1=ga.c,a.next=4,Object(Da.i)(zr.g);case 4:a.t2=a.sent,a.t3=(0,a.t1)(a.t2),e=(0,a.t0)(a.t3,"userId");case 7:return a.prev=8,a.next=11,Object(Da.i)(zr.c);case 11:if(t=a.sent,n=Object(Vr.l)(t,at.e),r=Object(Vr.j)(n,at.c)){a.next=16;break}return a.abrupt("break",33);case 16:return a.next=18,Object(Da.k)(Fc.c);case 18:if(c=a.sent,o=c.payload.users,i=o.find((function(t){return t.userId===e}))){a.next=23;break}return a.abrupt("continue",7);case 23:if(Es(r,i)){a.next=26;break}return a.next=26,Object(Da.g)(Object(_s.g)(at.e,at.c));case 26:a.next=31;break;case 28:a.prev=28,a.t4=a.catch(8),console.error(a.t4);case 31:a.next=7;break;case 33:case"end":return a.stop()}}),Ls,null,[[8,28]])}function Vs(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.l)(_o.I,Bs);case 2:case"end":return e.stop()}}),Ds)}function Ws(){var e,t,n,r;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(Da.k)(Ra.b);case 3:return e=a.sent,t=e.payload,n=t.applicationConfig,r=t.handshakeDetails,a.next=9,Object(Da.c)(Gs,n,r);case 9:return a.next=11,Object(Da.b)([Object(Da.f)(zs),Object(Da.f)(Vs)]);case 11:a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),console.error(a.t0);case 16:case"end":return a.stop()}}),Ms,null,[[0,13]])}var Hs=n(86),Ks=a.a.mark(Xs),Ys=a.a.mark(qs),$s=a.a.mark(Js);function Xs(e){var t,n;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=e.payload,n=t.actionParams,n.actionType!==Hs.a){r.next=5;break}return r.next=5,Object(Da.g)(Object(_s.h)({conversationId:t.conversationId,action:{attachment:n.attachment,values:n.values,actionId:n.actionId}}));case 5:case"end":return r.stop()}}),Ks)}function qs(e){var t,n;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=e.payload,n=t.actionParams,n.actionType!==Hs.b){r.next=5;break}return r.next=5,Object(Da.g)(Object(_s.i)({conversationId:t.conversationId,action:{attachment:n.attachment,values:n.values,actionId:n.actionId}}));case 5:case"end":return r.stop()}}),Ys)}function Js(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Da.b)([Object(Da.c)(Xs,e),Object(Da.c)(qs,e)]);case 2:case"end":return t.stop()}}),$s)}var Qs=a.a.mark(tu),Zs=a.a.mark(nu),eu=a.a.mark(ru);function tu(e){var t,n,r,c,o,i;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,n=t.messageId,r=t.conversationId,a.next=3,Object(Da.i)(zr.c);case 3:return c=a.sent,o=Object(Vr.j)(Object(Vr.l)(c,r),n),a.prev=5,a.next=8,Object(Da.c)(wi,{chatMessage:o,conversationId:r,params:{opened:!0}});case 8:return i=a.sent,a.next=11,Object(Da.c)(ti,n);case 11:a.next=19;break;case 13:if(a.prev=13,a.t0=a.catch(5),!i){a.next=18;break}return a.next=18,Object(Da.g)({type:_o.G,payload:{chatMessage:o,conversationId:r}});case 18:Object(Oe.f)(a.t0)?console.warn(a.t0):console.error(a.t0);case 19:case"end":return a.stop()}}),Qs,null,[[5,13]])}function nu(e){var t,n;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=e.payload.attachment,n=x()(t,"opened"),r.prev=2,n){r.next=6;break}return r.next=6,Object(Da.c)(tu,e);case 6:return r.abrupt("return");case 9:r.prev=9,r.t0=r.catch(2),Object(Oe.f)(r.t0)?console.warn(r.t0):console.error(r.t0);case 12:case"end":return r.stop()}}),Zs,null,[[2,9]])}function ru(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.l)(_o.R,nu);case 2:case"end":return e.stop()}}),eu)}var au=n(132),cu=n(78),ou=n(54),iu=n(141),su=n(150),uu=n(138),du=a.a.mark(od),lu=a.a.mark(id),fu=a.a.mark(sd),bu=a.a.mark(ud),pu=a.a.mark(dd),Ou=a.a.mark(ld),vu=a.a.mark(fd),hu=a.a.mark(bd),gu=a.a.mark(pd),ju=a.a.mark(Od),mu=a.a.mark(vd),xu=a.a.mark(hd),yu=a.a.mark(gd),Iu=a.a.mark(jd),wu=a.a.mark(md),Cu=a.a.mark(xd),Tu=a.a.mark(yd),Eu=a.a.mark(Id),ku=a.a.mark(wd),Su=a.a.mark(Cd),_u=a.a.mark(Td),Au=a.a.mark(Ed),Nu=a.a.mark(kd),Ru=a.a.mark(Sd),Pu=a.a.mark(_d),Lu=a.a.mark(Ad),Du=a.a.mark(Nd),Mu=a.a.mark(Rd),Bu=a.a.mark(Pd),Uu=a.a.mark(Ld),Fu=a.a.mark(Dd),Gu=a.a.mark(Md),zu=a.a.mark(Bd),Vu=a.a.mark(Fd),Wu=a.a.mark(Gd),Hu=a.a.mark(zd),Ku=a.a.mark(Vd),Yu=a.a.mark(Wd),$u=a.a.mark(Hd),Xu=a.a.mark(Kd);function qu(e){return e===Hs.a||e===Hs.b}function Ju(e){return e===cu.a.OPEN_URL}function Qu(e){return e===cu.a.SURVEY_POST_BACK}function Zu(e){return e===cu.a.FETCH_APPOINTMENT_TIME_SLOTS}function ed(e){return e===cu.a.RESERVE_APPOINTMENT_TIME_SLOT}function td(e){return e===cu.a.START_VIDEO_CALL}function nd(e){return e===cu.a.START_AUDIO_CALL}function rd(e){return e===cu.a.SECURE_FORM_POST_BACK}function ad(e){return e===cu.a.ACCEPT_CO_BROWSE||e===cu.a.DENY_CO_BROWSE}function cd(e,t){return di.a.makeSent().makeMessage({messageId:e.id,messagePayload:Ao.a.getMessagePayload(e),conversationId:t,sender:Ao.a.getSender(e),creationTime:Ao.a.getCreationTime(e),clientMessageId:Ao.a.getClientMessageId(e)})}function od(e){var t,n,r,c,o;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload,n=t.conversationId,r=t.cursor,a.next=5,Object(Da.c)(Fo,n,{size:t.size,cursor:r});case 5:return c=a.sent,o=xo()(c.results.map((function(e){return cd(e,n)}))),a.next=9,Object(Da.c)(ys,o);case 9:return a.next=11,Object(Da.g)({payload:{conversationMessagesResponse:Object.assign({},c,{results:o}),conversationId:n,cursor:r},type:_o.m});case 11:e.promise&&e.promise.resolve(),a.next=20;break;case 14:return a.prev=14,a.t0=a.catch(0),e.promise&&e.promise.reject(),a.next=19,Object(Da.g)({type:_o.n,payload:{conversationId:e.payload.conversationId}});case 19:Object(Oe.f)(a.t0)?console.warn(a.t0):console.error(a.t0);case 20:case"end":return a.stop()}}),du,null,[[0,14]])}function id(e){var t,n,r,c,o;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,t=e.payload,n=e.promise,r=t.conversationId,!(c=t.includeAll)){a.next=9;break}return a.next=6,Object(Da.c)(Wo);case 6:a.t0=a.sent,a.next=12;break;case 9:return a.next=11,Object(Da.c)(Vo,r);case 11:a.t0=a.sent;case 12:return o=a.t0,a.next=15,Object(Da.g)(Object(_s.a)({conversationId:r,includeAll:c,deleted:!0,surveyUrl:o.surveyUrl}));case 15:n&&n.resolve(),a.next=22;break;case 18:a.prev=18,a.t1=a.catch(0),e.promise&&e.promise.reject(),Object(Oe.f)(a.t1)?console.warn(a.t1):console.error(a.t1);case 22:case"end":return a.stop()}}),lu,null,[[0,18]])}function sd(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.l)(_o.i,id);case 2:case"end":return e.stop()}}),fu)}function ud(e){var t,n,r,c,o;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,t=e.payload,n=e.promise,r=t.conversationId,!(c=t.includeAll)){a.next=9;break}return a.next=6,Object(Da.c)(zo);case 6:a.t0=a.sent,a.next=12;break;case 9:return a.next=11,Object(Da.c)(Go,r);case 11:a.t0=a.sent;case 12:return o=a.t0,a.next=15,Object(Da.g)(Object(_s.a)({conversationId:r,includeAll:c,closed:!0,surveyUrl:o.surveyUrl}));case 15:n&&n.resolve(),a.next=22;break;case 18:a.prev=18,a.t1=a.catch(0),e.promise&&e.promise.reject(),Object(Oe.f)(a.t1)?console.warn(a.t1):console.error(a.t1);case 22:case"end":return a.stop()}}),bu,null,[[0,18]])}function dd(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.l)(_o.h,ud);case 2:case"end":return e.stop()}}),pu)}function ld(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.l)(_o.l,od);case 2:case"end":return e.stop()}}),Ou)}function fd(e){var t,n,r,c,o;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload,n=t.query,r=t.conversationId,c=t.faqAttachment,a.next=4,Object(Da.c)(Jo,r,n,c);case 4:o=a.sent,e.promise&&e.promise.resolve(o),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),e.promise&&e.promise.reject(),Object(Oe.f)(a.t0)?console.warn(a.t0):console.error(a.t0);case 12:case"end":return a.stop()}}),vu,null,[[0,8]])}function bd(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.l)(_o.z,fd);case 2:case"end":return e.stop()}}),hu)}function pd(e){var t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=Uc()(e,(function(e,t){var n=iu.a.getParticipants(t);return j()(n,(function(n){e.push({sender:n,conversationId:t.id})})),e}),[]),n.next=3,Object(Da.c)(Xc,t);case 3:case"end":return n.stop()}}),gu)}function Od(){var e,t,n,r,c;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=1,a.next=4,Object(Da.k)(_o.f);case 4:return e=a.sent,a.next=7,Object(Da.c)(Do,e.payload.shouldFetchNumberOfOpenConversation);case 7:return t=a.sent,a.next=10,Object(Da.c)(pd,t.results);case 10:return a.next=12,Object(Da.i)(zr.g);case 12:return n=a.sent,r=Object(ga.b)(n),c=Object(ga.d)(n),a.next=17,Object(Da.g)({payload:{conversationResponse:t,botUserIds:r,chatUserId:c},type:_o.g});case 17:a.next=22;break;case 19:a.prev=19,a.t0=a.catch(1),Object(Oe.f)(a.t0)?console.warn(a.t0):console.error(a.t0);case 22:a.next=0;break;case 24:case"end":return a.stop()}}),ju,null,[[1,19]])}function vd(){var e,t,n,r,c,o,i,s,u;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e=void 0,t=void 0,n=void 0,a.next=4,Object(Da.i)(zr.g);case 4:return r=a.sent,c=Object(ga.b)(r),o=Object(ga.d)(r),a.prev=7,a.next=10,Object(Da.k)(_o.r);case 10:return i=a.sent,t=i.payload.caseId,e=i.payload.conversationId,n=i.payload.context,a.next=16,Object(Da.c)(Uo,i.payload.caseId);case 16:return s=a.sent,a.next=19,Object(Da.g)({payload:{caseId:t,conversationResponse:s,botUserIds:c,chatUserId:o},type:_o.s});case 19:a.next=39;break;case 21:if(a.prev=21,a.t0=a.catch(7),a.prev=23,Object(Oe.a)(a.t0)){a.next=32;break}return a.next=27,Object(Da.c)(qo,Object.assign({createCase:!0,caseId:t},n));case 27:return u=a.sent,a.next=30,Object(Da.g)({payload:{caseId:t,conversationResponse:u,botUserIds:c,chatUserId:o},type:_o.s});case 30:a.next=33;break;case 32:throw new Error;case 33:a.next=39;break;case 35:return a.prev=35,a.t1=a.catch(23),a.next=39,Object(Da.g)({payload:{conversationId:e},type:_o.t});case 39:a.next=0;break;case 41:case"end":return a.stop()}}),mu,null,[[7,21],[23,35]])}function hd(){var e,t,n,r,c,o;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e=void 0,a.prev=2,a.next=5,Object(Da.k)(_o.u);case 5:return t=a.sent,e=t.payload.conversationId,a.next=9,Object(Da.c)(Bo,t.payload.conversationId);case 9:return n=a.sent,a.next=12,Object(Da.i)(zr.g);case 12:return r=a.sent,c=Object(ga.b)(r),o=Object(ga.d)(r),a.next=17,Object(Da.g)({payload:{conversationResponse:n,botUserIds:c,chatUserId:o},type:_o.v});case 17:a.next=24;break;case 19:return a.prev=19,a.t0=a.catch(2),a.next=23,Object(Da.g)({payload:{conversationId:e},type:_o.w});case 23:Object(Oe.f)(a.t0)?console.warn(a.t0):console.error(a.t0);case 24:a.next=0;break;case 26:case"end":return a.stop()}}),xu,null,[[2,19]])}function gd(e){var t,n,r,c;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload,n=t.conversationId,a.next=5,Ko(n,t.messageId);case 5:return r=a.sent,c=cd(r,n),a.next=9,Object(Da.c)(ys,c);case 9:return a.abrupt("return",c);case 12:a.prev=12,a.t0=a.catch(0),Object(Oe.f)(a.t0)?console.warn(a.t0):console.error(a.t0);case 15:return a.abrupt("return",null);case 16:case"end":return a.stop()}}),yu,null,[[0,12]])}function jd(e){var t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.next=3,Object(Da.g)(Object(_s.j)({type:t.actionType,payload:h()(e.payload,["actionType"])}));case 3:case"end":return n.stop()}}),Iu)}function md(e){var t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Da.c)(gd,e);case 2:if(!(t=n.sent)){n.next=6;break}return n.next=6,Object(Da.g)({type:_o.G,payload:{chatMessage:t,conversationId:Ao.a.getConversationId(t)}});case 6:case"end":return n.stop()}}),wu)}function xd(e){var t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=ga.c,n.next=3,Object(Da.i)(zr.g);case 3:if(n.t1=n.sent,t=(0,n.t0)(n.t1),e.payload.sender===t.userId){n.next=8;break}return n.next=8,Object(Da.g)(Object(_s.a)(e.payload));case 8:case"end":return n.stop()}}),Cu)}function yd(e){var t,n,r,c;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,n=t.conversationId,r=t.videoCallEnabled,c=t.audioCallEnabled,a.next=3,Object(Da.g)({type:_o.d,payload:{conversationId:n,videoCallEnabled:r,audioCallEnabled:c}});case 3:case"end":return a.stop()}}),Tu)}function Id(e){var t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=e.payload,!qu(t.actionParams.actionType)){n.next=6;break}return n.next=5,Object(Da.c)(Js,e);case 5:e.promise.resolve();case 6:case"end":return n.stop()}}),Eu)}function wd(e){var t,n,r;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.payload,n=t.actionParams,r=t.conversationId,n.actionType!==cu.a.ACCOUNT_LINK){a.next=4;break}return a.next=4,Object(Da.g)(Object(me.a)({ssoId:n.values,conversationId:r,messageId:n.messageId})(e.promise));case 4:case"end":return a.stop()}}),ku)}function Cd(e){var t,n,r,c,o;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload.actionParams,n=t.attachment,r=t.values,c=n,a.next=4,Object(Da.c)(Mo,c.submitResponseUrl,c.httpHeaders,r.secureData);case 4:return o=a.sent,a.abrupt("return",{maskedData:r.maskedData,secureFormId:o});case 6:case"end":return a.stop()}}),Su)}function Td(e){var t,n,r,c,o,i,s,u;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.payload,n=t.actionParams,r=n.messageId,c=n.actionType,o=n.values,i=t.conversationId,c!==cu.a.ACCEPT_CO_BROWSE){a.next=10;break}return a.next=4,Object(Da.i)((function(e){return Object(Vr.j)(Object(Vr.l)(Object(zr.c)(e),i),r)}));case 4:return s=a.sent,u=Ao.a.getSender(s),a.next=8,Object(Da.g)(Object(oa.d)({messageId:r,conversationId:i,agentId:u}));case 8:return a.next=10,Object(Da.j)(cs,{messageId:r});case 10:return a.abrupt("return",o);case 11:case"end":return a.stop()}}),_u)}function Ed(e){var t,n,r,c,o,i,s,u,d,l;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,n=t.actionParams,r=n.attachment,c=n.actionId,o=n.values,i=n.messageId,s=t.conversationId,u=x()(Object(su.a)(c,r),"surveyUrl",""),a.next=4,Object(Da.g)(Object(_s.d)({surveyUrl:u,conversationId:s}));case 4:return a.next=6,Object(Da.g)({type:_o.R,payload:{messageId:i,conversationId:s,attachment:r}});case 6:return a.next=8,Object(Da.h)([Object(Da.k)(_o.S),Object(Da.k)(_o.P),Object(Da.k)(_o.T)]);case 8:if(d=a.sent,l=Object(f.a)(d,1),l[0]){a.next=13;break}return a.abrupt("return",null);case 13:return a.abrupt("return",o);case 14:case"end":return a.stop()}}),Au)}function kd(e){var t,n,r;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.payload.actionParams,n=t.actionType,r=t.values,!rd(n)){a.next=5;break}return a.next=4,Object(Da.c)(Cd,e);case 4:return a.abrupt("return",a.sent);case 5:if(!ad(n)){a.next=9;break}return a.next=8,Object(Da.c)(Td,e);case 8:return a.abrupt("return",a.sent);case 9:if(!Qu(n)){a.next=13;break}return a.next=12,Object(Da.c)(Ed,e);case 12:return a.abrupt("return",a.sent);case 13:return a.abrupt("return",r);case 14:case"end":return a.stop()}}),Nu)}function Sd(e){var t,n,r,c;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.payload,n=t.actionParams,r=t.appContext,qu(o=n.actionType)||Ju(o)||Zu(o)||ed(o)||nd(o)||td(o)){a.next=19;break}return a.prev=3,a.next=6,Object(Da.c)(kd,e);case 6:if(c=a.sent,So()(c)){a.next=12;break}return a.next=10,Object(Da.g)(Object(_s.n)({conversationId:t.conversationId,sender:t.sender,postback:{attachment:n.attachment,values:c,appContext:r,messageId:n.messageId,postbackId:n.actionId,postbackType:n.actionType}})(e.promise));case 10:a.next=13;break;case 12:e.promise&&e.promise.resolve();case 13:a.next=19;break;case 15:a.prev=15,a.t0=a.catch(3),console.log(a.t0),e.promise.reject();case 19:case"end":return a.stop()}var o}),Ru,null,[[3,15]])}function _d(e){var t,n;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=e.payload,!Ju((n=t.actionParams).actionType)){r.next=5;break}return r.next=5,Object(Da.g)(Object(_s.e)({attachment:n.attachment,actionId:n.actionId})(e.promise));case 5:case"end":return r.stop()}}),Pu)}function Ad(e){var t,n,r,c,o,i,s,u,d,l,f,b;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.payload,n=t.actionParams,r=n.actionId,c=n.actionType,o=n.attachment,i=n.messageId,s=t.conversationId,u=t.appContext,!td(c)&&!nd(c)){a.next=17;break}return a.next=5,Object(Da.i)(zr.b);case 5:if(d=a.sent,!Object(uu.j)(d)){a.next=10;break}return e.promise&&e.promise.reject(),a.abrupt("return");case 10:return l=td(c)?nc.b.VIDEO:nc.b.AUDIO,f=x()(Object(su.a)(r,o),"title",""),b={},r&&(b={sourceButtonId:r,messageId:i,messageText:f}),a.next=16,Object(Da.g)(Object(au.d)(Object.assign({conversationId:s,isPhone:u.isPhone,type:l},b)));case 16:e.promise&&e.promise.resolve();case 17:case"end":return a.stop()}}),Lu)}function Nd(e){var t,n,r,c,o,i,s,u,d,l;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.payload,n=t.actionParams,r=t.conversationId,c=t.appContext,o=Zu(n.actionType),i=ed(n.actionType),!o&&!i){a.next=33;break}return a.prev=5,a.next=8,Object(Da.i)(zr.c);case 8:if(d=a.sent,s=Object(Vr.j)(Object(Vr.l)(d,r),n.messageId),!o){a.next=18;break}return a.next=13,Object(Da.g)({type:_o.G,payload:{chatMessage:jo()(s,{messagePayload:{attachment:{$merge:{slots:void 0}}}}),conversationId:r}});case 13:return a.next=15,Object(Da.c)($o,{selectedDate:n.values.selectedDate,slotDefinitionId:n.attachment.slotDefinitionConfigId,timeZone:c.timeZone,appointmentAssetParams:n.attachment.params,messageId:n.messageId});case 15:return u=a.sent,a.next=18,Object(Da.g)({type:_o.G,payload:{chatMessage:jo()(s,{messagePayload:{attachment:{$merge:{slots:u}}}}),conversationId:r}});case 18:if(!i){a.next=26;break}return a.next=21,Object(Da.c)(Xo,{selectedDate:n.values.selectedDate,selectedSlot:n.values.selectedSlot,timeZone:c.timeZone,slotDefinitionId:n.attachment.slotDefinitionConfigId,appointmentAssetParams:n.attachment.params,messageId:n.messageId});case 21:if(u=a.sent,!(l=x()(u,"slots"))){a.next=26;break}return a.next=26,Object(Da.g)({type:_o.G,payload:{chatMessage:jo()(s,{messagePayload:{attachment:{$merge:{slots:l}}}}),conversationId:r}});case 26:e.promise.resolve({actionType:n.actionType,response:{reservationId:x()(u,"reservationId"),selectedSlot:n.values.selectedSlot,selectedDate:n.values.selectedDate,visibleSlots:n.values.visibleSlots}}),a.next=33;break;case 29:a.prev=29,a.t0=a.catch(5),Object(Oe.f)(a.t0)?console.warn(a.t0):console.error(a.t0),e.promise.reject({actionType:n.actionType,response:{error:u}});case 33:case"end":return a.stop()}}),Du,null,[[5,29]])}function Rd(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Da.b)([Object(Da.c)(Id,e),Object(Da.c)(Sd,e),Object(Da.c)(_d,e),Object(Da.c)(wd,e),Object(Da.c)(Nd,e),Object(Da.c)(Ad,e)]);case 2:case"end":return t.stop()}}),Mu)}function Pd(e,t){var n,r;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=jo()(e,{payload:{actionParams:{$set:Object.assign({},h()(e.payload.actionParams,["actionTypes"]),{actionType:t})}}}),r=new Promise((function(e,t){n.promise={resolve:e,reject:t}})),a.next=4,Object(Da.c)(Rd,n);case 4:return a.abrupt("return",r);case 5:case"end":return a.stop()}}),Bu)}function Ld(e){var t,n,r,c;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t={},n={},a.prev=2,r=e.payload.actionParams.actionTypes,c=0;case 5:if(!(c<Io()(r))){a.next=13;break}return a.next=8,Object(Da.c)(Pd,e,r[c]);case 8:a.sent.then((function(e){n=Eo()(n,e)}),(function(e){t=Eo()(t,e)}));case 10:c+=1,a.next=5;break;case 13:e.promise.resolve(n),a.next=20;break;case 16:a.prev=16,a.t0=a.catch(2),e.promise.reject(t),console.error(a.t0);case 20:case"end":return a.stop()}}),Uu,null,[[2,16]])}function Dd(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.l)(_o.c,Ld);case 2:case"end":return e.stop()}}),Fu)}function Md(e){var t,n,r,c,o;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r=e.payload.disclaimerStatus,a.next=4,Object(Da.i)(zr.c);case 4:return c=a.sent,o=Object(Vr.p)(c),t=e.payload.conversationId,n=x()(Object(Vr.h)(o,t),"disclaimerStatus"),a.next=10,Object(Da.g)({type:_o.q,payload:{conversationId:t,disclaimerStatus:r}});case 10:return a.next=12,Object(Da.c)(Ho,t,r);case 12:e.promise.resolve(),a.next=21;break;case 15:return a.prev=15,a.t0=a.catch(0),e.promise.reject(),a.next=20,Object(Da.g)({type:_o.q,payload:{conversationId:t,disclaimerStatus:n}});case 20:Object(Oe.f)(a.t0)?console.warn(a.t0):console.error(a.t0);case 21:case"end":return a.stop()}}),Gu,null,[[0,15]])}function Bd(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.l)(_o.p,Md);case 2:case"end":return e.stop()}}),zu)}var Ud={field:"closed",values:[!0],filterType:ou.a.NIN};function Fd(e,t){var n,r,c,o;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(Da.i)(zr.c);case 3:if(n=a.sent,r=Object(Vr.v)(n),c=t||Ud,!(o=Co()(r.ids,(function(e){var t=!1;if(d()(c))return!0;return B.a.createFilterAction(c).matches((function(){t=!0}),te.a,r.byId[e]),t})))){a.next=10;break}return a.next=10,Object(Da.c)(Zo,{context:e,conversationId:o});case 10:a.next=15;break;case 12:a.prev=12,a.t0=a.catch(0),Object(Oe.f)(a.t0)?console.warn(a.t0):console.error(a.t0);case 15:case"end":return a.stop()}}),Vu,null,[[0,12]])}function Gd(e,t){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Da.k)(_o.g);case 3:return n.next=5,Object(Da.c)(Fd,e,t);case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),Wu,null,[[0,7]])}function zd(e){var t,n,r,c,o,i,s;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,t=e.payload,n=t.context,r=t.conversationId,c=t.filters,o=t.includeDeleted,!r){a.next=6;break}return a.next=5,Object(Da.c)(Zo,{context:n,conversationId:r});case 5:return a.abrupt("return");case 6:if(!o){a.next=10;break}return a.next=9,Object(Da.c)(Qo,{context:n,updateLatest:o});case 9:return a.abrupt("return");case 10:return a.next=12,Object(Da.i)(zr.c);case 12:if(i=a.sent,s=Object(Vr.p)(i),!Object(Vr.b)(s)){a.next=19;break}return a.next=18,Object(Da.c)(Fd,n,c);case 18:return a.abrupt("return");case 19:return a.next=21,Object(Da.f)(Gd,n,c);case 21:a.next=26;break;case 23:a.prev=23,a.t0=a.catch(0),Object(Oe.f)(a.t0)?console.warn(a.t0):console.error(a.t0);case 26:case"end":return a.stop()}}),Hu,null,[[0,23]])}function Vd(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.l)(_o.k,zd);case 2:case"end":return e.stop()}}),Ku)}function Wd(e){var t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=e.payload.lastReadMessageId,n.next=4,Object(Da.c)(Wa,{type:"MESSAGE_READ",payload:{messageId:t}});case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),Object(Oe.f)(n.t0)?console.warn(n.t0):console.error(n.t0);case 9:case"end":return n.stop()}}),Yu,null,[[0,6]])}function Hd(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.l)(_o.L,Wd);case 2:case"end":return e.stop()}}),$u)}function Kd(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.b)([Object(Da.f)(Od),Object(Da.f)(hd),Object(Da.f)(bd),Object(Da.f)(Ws),Object(Da.f)(ld),Object(Da.f)(sd),Object(Da.f)(dd),Object(Da.f)(pi),Object(Da.f)(Ti),Object(Da.f)(_i),Object(Da.f)(Dd),Object(Da.f)(Vd),Object(Da.f)(vd),Object(Da.f)(Bd),Object(Da.f)(Hd),Object(Da.f)(ru)]);case 2:case"end":return e.stop()}}),Xu)}var Yd=a.a.mark(nl),$d=a.a.mark(rl),Xd=a.a.mark(al),qd=a.a.mark(cl),Jd=a.a.mark(ol),Qd=a.a.mark(il),Zd={},el="START_TYPING",tl="STOP_TYPING";function nl(e,t){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Da.f)(Wa,{type:e,payload:{conversationId:t}});case 2:case"end":return n.stop()}}),Yd)}function rl(e,t){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,Object(Da.f)(nl,el,e);case 3:return n.next=5,Object(Da.e)(25e3);case 5:return n.next=7,Object(Da.k)(t);case 7:n.next=0;break;case 9:case"end":return n.stop()}}),$d)}function al(e,t){var n,r,c;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n=Object(ya.b)(ya.a.dropping(1)),a.next=4,Object(Da.f)(rl,e,n);case 4:r=a.sent;case 5:return a.next=8,Object(Da.k)(t);case 8:if((c=a.sent).type!==_o.W){a.next=13;break}n.put(c),a.next=14;break;case 13:return a.abrupt("break",16);case 14:a.next=5;break;case 16:a.next=21;break;case 18:a.prev=18,a.t0=a.catch(0),Object(Oe.f)(a.t0)?console.warn(a.t0):console.error(a.t0);case 21:return a.prev=21,a.next=24,Object(Da.f)(nl,tl,e);case 24:return n&&n.close(),r&&r.cancel(),a.finish(21);case 27:case"end":return a.stop()}}),Xd,null,[[0,18,21,27]])}function cl(e,t){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=1,void 0,n.next=5,Object(Da.k)(t);case 5:if(n.sent.type===_o.W){n.next=8;break}return n.abrupt("continue",0);case 8:return n.next=10,Object(Da.c)(al,e,t);case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(1),Object(Oe.f)(n.t0)?console.warn(n.t0):console.error(n.t0);case 15:n.next=0;break;case 17:case"end":return n.stop()}}),qd,null,[[1,12]])}function ol(){var e,t,n,r;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=1,a.next=4,Object(Da.h)([Object(Da.k)(_o.W),Object(Da.k)(_o.X)]);case 4:if(e=a.sent,t=xo()(e)[0],n=t.payload.conversationId,r=Zd[n]){a.next=13;break}return r=Object(ya.b)(ya.a.sliding(1)),Zd[n]=r,a.next=13,Object(Da.f)(cl,n,r);case 13:r.put(t),a.next=19;break;case 16:a.prev=16,a.t0=a.catch(1),console.error(a.t0);case 19:a.next=0;break;case 21:case"end":return a.stop()}}),Jd,null,[[1,16]])}function il(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.f)(ol);case 2:case"end":return e.stop()}}),Qd)}var sl=n(148),ul=n.n(sl),dl=n(221),ll=n.n(dl),fl=a.a.mark(ml),bl=a.a.mark(xl),pl=a.a.mark(yl),Ol=a.a.mark(Il),vl=a.a.mark(wl),hl=a.a.mark(Cl),gl={};function jl(e,t){return"".concat(e,"_").concat(t)}function ml(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.e)(3e4);case 2:throw new Error("");case 3:case"end":return e.stop()}}),fl)}function xl(e,t,n,r){var c,o,i,s,u;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(Da.g)({type:_o.a,payload:{conversationId:t,userId:n,actionTime:r}});case 2:return a.prev=2,a.next=5,Object(Da.f)(ml);case 5:c=a.sent;case 6:return a.next=9,Object(Da.k)(e);case 9:if("CHAT_USER_START_TYPING"!==(o=a.sent).type){a.next=21;break}if(c.isCancelled()){a.next=14;break}return a.next=14,Object(Da.d)(c);case 14:return a.next=16,Object(Da.f)(ml);case 16:return c=a.sent,a.next=19,Object(Da.g)({type:_o.a,payload:{conversationId:t,userId:n,actionTime:o.payload.actionTime}});case 19:a.next=28;break;case 21:return a.next=23,Object(Da.i)(zr.c);case 23:if(i=a.sent,s=Object(Vr.l)(i,t),!((u=Object(Vr.t)(s,n))&&Ao.a.getCreationTime(u)<o.payload.actionTime)){a.next=28;break}return a.abrupt("break",30);case 28:a.next=6;break;case 30:a.next=35;break;case 32:a.prev=32,a.t0=a.catch(2),console.error(a.t0);case 35:return a.prev=35,a.next=38,Object(Da.g)({type:_o.b,payload:{conversationId:t,userId:n}});case 38:if(c.isCancelled()){a.next=41;break}return a.next=41,Object(Da.d)(c);case 41:return a.finish(35);case 42:case"end":return a.stop()}}),bl,null,[[2,32,35,42]])}function yl(e,t,n){var r;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=1,r=void 0,a.next=5,Object(Da.k)(e);case 5:if("CHAT_USER_START_TYPING"===(r=a.sent).type){a.next=8;break}return a.abrupt("continue",0);case 8:return a.next=10,Object(Da.c)(xl,e,t,n,r.payload.actionTime);case 10:a.next=14;break;case 12:a.prev=12,a.t0=a.catch(1);case 14:a.next=0;break;case 16:case"end":return a.stop()}}),pl,null,[[1,12]])}function Il(e){var t,n,r,c,o,i,s;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,n=t.conversationId,r=t.sender,a.next=3,Object(Da.i)(zr.g);case 3:if(c=a.sent,o=Qn()(Object(Ss.d)(c,r)),i=jl(n,o),s=gl[i]){a.next=12;break}return s=Object(ya.b)(ya.a.sliding(1)),gl[i]=s,a.next=12,Object(Da.f)(yl,s,n,o);case 12:s.put(e);case 13:case"end":return a.stop()}}),Ol)}function wl(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Da.b)(e.map((function(e){return Object(Da.c)(Il,e)})));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.error(t.t0);case 8:case"end":return t.stop()}}),vl,null,[[0,5]])}function Cl(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Da.b)(e.map((function(e){return Object(Da.c)(Il,e)})));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.error(t.t0);case 8:case"end":return t.stop()}}),hl,null,[[0,5]])}var Tl=a.a.mark(Fl),El=a.a.mark(Gl),kl=a.a.mark(zl),Sl=a.a.mark(Vl),_l=a.a.mark(Wl),Al=a.a.mark(Hl),Nl=a.a.mark(Kl),Rl=a.a.mark(Yl),Pl=a.a.mark($l),Ll=a.a.mark(Jl),Dl=a.a.mark(Ql);function Ml(e){return"NEW_MESSAGE"===e.type}function Bl(e){return"CHAT_USER_START_TYPING"===e.type}function Ul(e){return"CHAT_USER_STOP_TYPING"===e.type}function Fl(e){var t,n,r;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(t=e.data)){a.next=8;break}return a.next=4,Object(Da.i)(zr.g);case 4:return n=a.sent,r=Object(Ss.d)(n,Ao.a.getSender(t)),a.next=8,Object(Da.g)(Object(_s.f)(t,r));case 8:case"end":return a.stop()}}),Tl)}function Gl(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Da.b)(e.filter(Ml).map((function(e){return Object(Da.c)(Fl,e)})));case 2:case"end":return t.stop()}}),El)}function zl(e){var t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((t=e.filter(Bl)).length){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,Object(Da.c)(wl,t);case 5:case"end":return n.stop()}}),kl)}function Vl(e){var t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((t=e.filter(Ul)).length){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,Object(Da.c)(Cl,t);case 5:case"end":return n.stop()}}),Sl)}function Wl(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Da.b)([Object(Da.c)(Gl,e),Object(Da.c)(zl,e),Object(Da.c)(Vl,e)]);case 2:case"end":return t.stop()}}),_l)}function Hl(e){var t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!Ml(e)){n.next=6;break}return n.next=3,Object(Da.c)(gd,e);case 3:return t=n.sent,n.next=6,Object(Da.c)(Ql,{id:e.id,data:t});case 6:case"end":return n.stop()}}),Al)}function Kl(e){var t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!Bl(e)){n.next=6;break}return t=ll()(e.payload,["conversationId","sender"]),n.next=4,Object(Da.c)(Xc,t);case 4:return n.next=6,Object(Da.c)(Ql,{id:e.id,data:{}});case 6:case"end":return n.stop()}}),Nl)}function Yl(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Ul(e)){t.next=3;break}return t.next=3,Object(Da.c)(Ql,{id:e.id,data:{}});case 3:case"end":return t.stop()}}),Rl)}function $l(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Da.b)([Object(Da.c)(Hl,e),Object(Da.c)(Kl,e),Object(Da.c)(Yl,e)]);case 2:case"end":return t.stop()}}),Pl)}var Xl=function(){var e=new Set;return{add:function(t){return e.add(t)},has:function(t){return e.has(t)},delete:function(t){return e.delete(t)}}}(),ql=function(){var e=[];return{set:function(t){e=t},get:function(){return e},push:function(t){e=[].concat(Object(i.a)(e),Object(i.a)(Ba()(t)))}}}();function Jl(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ql.push(e),t.next=3,Object(Da.b)(e.map((function(e){return Object(Da.f)($l,e)})));case 3:case"end":return t.stop()}}),Ll)}function Ql(e){var t,n,r,c,o;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.id,n=e.data,Xl.add(t),j()(ql.get(),(function(e){if(e.id===t)return e.data=n,!1})),t!==x()(Qn()(ql.get()),"id")){a.next=8;break}return r=Uc()(ql.get(),(function(e,t){return Xl.has(t.id)&&d()(e.unresolvedEvents)?(Xl.delete(t.id),Object.assign({},e,{resolvedEvents:[].concat(Object(i.a)(e.resolvedEvents),[t])})):Object.assign({},e,{unresolvedEvents:[].concat(Object(i.a)(e.unresolvedEvents),[t])})}),{resolvedEvents:[],unresolvedEvents:[]}),c=r.resolvedEvents,o=r.unresolvedEvents,ql.set(o),a.next=8,Object(Da.f)(Wl,c);case 8:case"end":return a.stop()}}),Dl)}var Zl=a.a.mark(lf),ef=a.a.mark(ff),tf=a.a.mark(bf),nf=a.a.mark(pf),rf=a.a.mark(Of),af=a.a.mark(vf);function cf(e){return"MESSAGE_UPDATED"===e.type}function of(e){return"VIDEO_CALL_TOGGLE"===e.type}function sf(e){return"CHAT_USER_UPDATED"===e.type}function uf(e){return"EXTERNAL_EVENT"===e.type}function df(e){return"CONVERSATION_UPDATED"===e.type}function lf(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Da.b)(e.filter(uf).map((function(e){return Object(Da.c)(jd,e)})));case 2:case"end":return t.stop()}}),Zl)}function ff(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Da.b)(e.filter(cf).map((function(e){return Object(Da.c)(md,e)})));case 2:case"end":return t.stop()}}),ef)}function bf(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Da.b)(e.filter(sf).map((function(e){return Object(Da.c)(qc,{sender:e.payload.chatUserId,conversationId:e.payload.conversationId})})));case 2:case"end":return t.stop()}}),tf)}function pf(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Da.b)(e.filter(df).map((function(e){return Object(Da.c)(xd,e)})));case 2:case"end":return t.stop()}}),nf)}function Of(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Da.b)(e.filter(of).map((function(e){return Object(Da.c)(yd,e)})));case 2:case"end":return t.stop()}}),rf)}function vf(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Da.b)([Object(Da.c)(lf,e),Object(Da.c)(ff,e),Object(Da.c)(bf,e),Object(Da.c)(pf,e),Object(Da.c)(Of,e)]);case 2:case"end":return t.stop()}}),af)}var hf=a.a.mark(xf),gf=a.a.mark(yf),jf=a.a.mark(If),mf=["NEW_MESSAGE","CHAT_USER_START_TYPING","CHAT_USER_STOP_TYPING"];function xf(e){var t,n,r;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload.events,n=[],r=[],j()(t,(function(e){Lo()(mf,e.type)?n=[].concat(Object(i.a)(n),[Object.assign({},e,{id:ul()()})]):r=[].concat(Object(i.a)(r),[e])})),a.next=7,Object(Da.c)(Jl,n);case 7:return a.next=9,Object(Da.c)(vf,r);case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),console.log(a.t0);case 14:case"end":return a.stop()}}),hf,null,[[0,11]])}function yf(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.l)(cc.k,xf);case 2:case"end":return e.stop()}}),gf)}function If(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.b)([Object(Da.f)(yf)]);case 2:case"end":return e.stop()}}),jf)}var wf=n(24),Cf=a.a.mark(_f),Tf=a.a.mark(Af),Ef=a.a.mark(Nf),kf=a.a.mark(Rf),Sf=function(e){var t=D.a.getNoDisplayConfigFilter(e);return!d()(t)&&function e(t,n){var r=wf.a.getField(t);if(r)return r===n;var a=!1;return j()(wf.a.getFilters(t),(function(t){return!e(t,n)||(a=!0,!1)})),a}(t,sn.a.IS_CONVERSATION_OPEN)};function _f(e){var t,n;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(Da.i)(zr.c);case 3:if(t=r.sent,n=Object(Vr.p)(t),Object(Vr.b)(n)){r.next=7;break}return r.abrupt("return");case 7:return r.next=9,Object(Da.g)(Object(_s.b)(Sf(e.applicationConfig)));case 9:r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),console.error(r.t0);case 14:case"end":return r.stop()}}),Cf,null,[[0,11]])}function Af(){var e,t,n,r;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(Da.i)(zr.c);case 3:if(e=a.sent,t=Object(Vr.p)(e),n=Object(Vr.n)(e),!(r=Uc()(n,(function(e,n,r){var a=n.messages;if(!r.startsWith(at.e)&&Object(Vr.a)(a)&&!Object(Vr.z)(t,r)){var c=Object(_s.c)(r,{size:Object(Vr.k)(a).length})();e.push(Object(Da.g)(c))}return e}),[])).length){a.next=10;break}return a.next=10,Object(Da.b)(r);case 10:a.next=15;break;case 12:a.prev=12,a.t0=a.catch(0),console.error(a.t0);case 15:case"end":return a.stop()}}),Tf,null,[[0,12]])}function Nf(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Da.b)([Object(Da.f)(_f,e),Object(Da.f)(Af)]);case 2:case"end":return t.stop()}}),Ef)}function Rf(){var e,t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Da.k)(Ra.b);case 2:return e=n.sent,t=e.payload.applicationConfig,n.next=6,Object(Da.l)(cc.l,Nf,{applicationConfig:t});case 6:case"end":return n.stop()}}),kf)}var Pf=a.a.mark(Lf);function Lf(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.b)([Object(Da.f)(Kd),Object(Da.f)(il),Object(Da.f)(If),Object(Da.f)(Rf)]);case 2:case"end":return e.stop()}}),Pf)}var Df=a.a.mark(Bf),Mf=a.a.mark(Uf);function Bf(e){var t,n;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.payload,r.t0=ga.c,r.next=5,Object(Da.i)(zr.g);case 5:return r.t1=r.sent,n=(0,r.t0)(r.t1),r.next=9,Object(Da.c)(zc,Object.assign({},n,{customContext:t}));case 9:r.next=14;break;case 11:r.prev=11,r.t2=r.catch(0),Object(Oe.f)(r.t2)?console.warn(r.t2):console.error(r.t2);case 14:case"end":return r.stop()}}),Df,null,[[0,11]])}function Uf(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.l)(Fc.b,Bf);case 2:case"end":return e.stop()}}),Mf)}var Ff=a.a.mark(Gf);function Gf(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.b)([Object(Da.f)(Uf)]);case 2:case"end":return e.stop()}}),Ff)}var zf=a.a.mark(Qf),Vf=a.a.mark(Zf),Wf=a.a.mark(eb),Hf=a.a.mark(tb),Kf=a.a.mark(nb),Yf=a.a.mark(rb);function $f(e){return"VIDEO_CALL_STARTING"===e.type}function Xf(e){return"VIDEO_CALL_ENDED"===e.type}function qf(e){return"VIDEO_CALL_DECLINED"===e.type}function Jf(e){return"VIDEO_CALL_OFFER_ACCEPTED"===e.type}function Qf(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Da.b)(e.filter($f).map((function(e){return Object(Da.g)(Object(au.j)({conversationId:e.payload.conversationId,videoConversationId:e.payload.videoConversationId,participantInfos:e.payload.participantInfos,type:e.payload.type}))})));case 2:case"end":return t.stop()}}),zf)}function Zf(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Da.b)(e.filter(Xf).map((function(e){return Object(Da.g)(Object(au.h)({conversationId:e.payload.conversationId,endedByAgent:!0}))})));case 2:case"end":return t.stop()}}),Vf)}function eb(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Da.b)(e.filter(qf).map((function(e){return Object(Da.g)(Object(au.f)(e.payload.conversationId))})));case 2:case"end":return t.stop()}}),Wf)}function tb(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Da.b)(e.filter(Jf).map((function(e){return Object(Da.g)(Object(au.m)({conversationId:e.payload.conversationId,callInfo:{conversation:e.payload.conversation,participant:e.payload.participant}}))})));case 2:case"end":return t.stop()}}),Hf)}function nb(e){var t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=e.payload.events,n.next=4,Object(Da.b)([Object(Da.c)(Zf,t),Object(Da.c)(Qf,t),Object(Da.c)(eb,t),Object(Da.c)(tb,t)]);case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.error(n.t0);case 9:case"end":return n.stop()}}),Kf,null,[[0,6]])}function rb(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.l)(cc.k,nb);case 2:case"end":return e.stop()}}),Yf)}var ab=n(55);function cb(e){var t=e.videoConversationId;return Va.__awaiter(this,void 0,void 0,a.a.mark((function e(){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Na.post("".concat("video-chat/conversation","/accept/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))}function ob(e){var t=e.videoConversationId;return Va.__awaiter(this,void 0,void 0,a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Na.post("".concat("video-chat/conversation","/leave/").concat(t)));case 1:case"end":return e.stop()}}),e)})))}function ib(e){var t=e.conversationId,n=e.audioOnly,r=e.messageText,c=e.sourceButtonId,o=e.postBackChatMessageId,i=e.shouldWaitForConnection;return Va.__awaiter(this,void 0,void 0,a.a.mark((function e(){var s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Na.post("".concat("video-chat/conversation","/initiate/").concat(t),{audioOnly:n,messageText:r,clickedButtonId:c,postBackChatMessageId:o,shouldWaitForConnection:i});case 2:return s=e.sent,e.abrupt("return",s.data);case 4:case"end":return e.stop()}}),e)})))}function sb(e){return Va.__awaiter(this,void 0,void 0,a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Na.get("".concat("video-chat/conversation","/participant/connected/").concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))}var ub=n(169),db=function(e){var t;return t={},Object(s.a)(t,ub.a.MIC,!1),Object(s.a)(t,ub.a.CAMERA,!1),Object(s.a)(t,ub.a.DRAG,!e),Object(s.a)(t,ub.a.FULL_SCREEN,e),t},lb=a.a.mark(mb),fb=a.a.mark(xb),bb=a.a.mark(yb),pb=a.a.mark(Ib),Ob=a.a.mark(wb),vb=a.a.mark(Cb),hb=a.a.mark(Tb),gb=a.a.mark(Eb),jb=a.a.mark(kb);function mb(e){var t,n,r;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e.payload.endedByAgent){a.next=2;break}return a.abrupt("return");case 2:if(t=e.payload.videoConversationId){a.next=9;break}return a.next=6,Object(Da.k)(ab.p);case 6:n=a.sent,r=n.payload,t=r.videoConversationId;case 9:return a.prev=9,a.next=12,Object(Da.c)(ob,{videoConversationId:t});case 12:a.next=17;break;case 14:a.prev=14,a.t0=a.catch(9),Object(Oe.f)(a.t0)?console.warn(a.t0):console.error(a.t0);case 17:case"end":return a.stop()}}),lb,null,[[9,14]])}function xb(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.payload.isOutgoingWaiting){t.next=3;break}return t.next=3,Object(Da.c)(mb,e);case 3:return t.next=5,Object(Da.g)({type:_o.V,payload:{text:e.payload.text,sender:e.payload.sender,conversationId:e.payload.conversationId}});case 5:case"end":return t.stop()}}),fb)}function yb(e){var t,n,r,c,o,i,s,u,d,l;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,n=t.actionParams,r=n.messageId,c=n.actionId,o=t.conversationId,a.next=3,Object(Da.i)(zr.b);case 3:if(i=a.sent,s=Object(uu.d)(i),!(u=s.messageId)||r!==u||c===s.sourceButtonId){a.next=14;break}return a.next=9,Object(Da.i)(zr.c);case 9:if(d=a.sent,l=Object(Vr.j)(Object(Vr.l)(d,o),r),No.a.getAttachment(Ao.a.getMessagePayload(l)).reSubmittable){a.next=14;break}return a.next=14,Object(Da.g)(Object(au.h)({conversationId:o}));case 14:case"end":return a.stop()}}),bb)}function Ib(e,t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.g)(Object(au.k)({conversationId:t.payload.conversationId,controls:db(t.payload.isPhone),type:t.payload.type,messageText:t.payload.messageText,messageId:t.payload.messageId,sourceButtonId:t.payload.sourceButtonId}));case 2:case"end":return e.stop()}}),pb)}function wb(e,t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.g)(Object(au.l)({conversationId:t.payload.conversationId,controls:db(t.payload.isPhone)}));case 2:case"end":return e.stop()}}),Ob)}function Cb(e){var t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Da.c)(cb,e.payload);case 3:return t=n.sent,n.next=6,Object(Da.g)(Object(au.c)({callInfo:t,conversationId:e.payload.conversationId}));case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),Object(Oe.f)(n.t0)?console.warn(n.t0):console.error(n.t0);case 11:case"end":return n.stop()}}),vb,null,[[0,8]])}function Tb(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Da.c)(sb,e.payload.videoConversationId);case 3:return t.next=5,Object(Da.g)(Object(au.g)({conversationId:e.payload.conversationId}));case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),Object(Oe.f)(t.t0)?console.warn(t.t0):console.error(t.t0);case 10:case"end":return t.stop()}}),hb,null,[[0,7]])}function Eb(e){var t,n,r,c,o,i,s,u;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload.conversationId,a.prev=1,a.next=4,Object(Da.i)(zr.b);case 4:return r=a.sent,c=Object(uu.f)(r,t),a.next=8,Object(Da.g)(Object(me.c)({conversationId:t,action:c?$t.a.AUDIO_CALL_OUTGOING_STARTING:$t.a.VIDEO_CALL_OUTGOING_STARTING}));case 8:if(o=Object(uu.d)(r),!(i=o.messageId)){a.next=16;break}return a.next=12,Object(Da.i)(zr.c);case 12:return s=a.sent,n=Object(Vr.j)(Object(Vr.l)(s,t),i),a.next=16,Object(Da.c)(wi,{chatMessage:n,conversationId:t,params:{buttonId:o.sourceButtonId}});case 16:return a.next=18,Object(Da.c)(ib,{conversationId:t,audioOnly:c,messageText:o.messageText,sourceButtonId:o.sourceButtonId,postBackChatMessageId:i,shouldWaitForConnection:!0});case 18:return u=a.sent,a.next=21,Object(Da.g)(Object(au.o)({agentWaitTime:u.conversation.agentWaitTime,videoConversationId:u.conversation.id,conversationId:e.payload.conversationId}));case 21:a.next=31;break;case 23:return a.prev=23,a.t0=a.catch(1),a.next=27,Object(Da.g)(Object(au.p)(e.payload.conversationId));case 27:if(!n){a.next=30;break}return a.next=30,Object(Da.g)({type:_o.G,payload:{chatMessage:n,conversationId:t}});case 30:Object(Oe.f)(a.t0)?console.warn(a.t0):console.error(a.t0);case 31:case"end":return a.stop()}}),gb,null,[[1,23]])}function kb(){var e,t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Da.k)(Ra.b);case 3:return e=n.sent,t=e.payload.applicationConfig,n.next=7,Object(Da.l)(ab.e,wb,t);case 7:return n.next=9,Object(Da.l)(ab.f,Cb);case 9:return n.next=11,Object(Da.l)(ab.j,Tb);case 11:return n.next=13,Object(Da.l)(ab.b,mb);case 13:return n.next=15,Object(Da.l)(ab.i,Ib,t);case 15:return n.next=17,Object(Da.l)(ab.n,Eb);case 17:return n.next=19,Object(Da.l)(ab.c,xb);case 19:return n.next=21,Object(Da.l)(_o.c,yb);case 21:n.next=26;break;case 23:n.prev=23,n.t0=n.catch(0),console.error(n.t0);case 26:case"end":return n.stop()}}),jb,null,[[0,23]])}var Sb=a.a.mark(_b);function _b(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.b)([Object(Da.f)(rb),Object(Da.f)(kb)]);case 2:case"end":return e.stop()}}),Sb)}var Ab=a.a.mark(Lb),Nb=a.a.mark(Db),Rb=a.a.mark(Mb);function Pb(e){return"CO_BROWSE_STATUS"===e.type}function Lb(){var e;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Da.i)(zr.f);case 2:if(e=t.sent,d()(e)){t.next=6;break}return t.next=6,Object(Da.g)(Object(oa.g)());case 6:return t.abrupt("return",null);case 7:case"end":return t.stop()}}),Ab)}function Db(e){var t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=e.payload.events,n.next=4,Object(Da.b)(t.filter(Pb).map((function(e){var t=e.payload.status;return"LIVE"===t?Object(Da.c)(Lb):"COMPLETED"===t?Object(Da.g)(Object(oa.c)({endedByAgent:!0})):null})));case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.error(n.t0);case 9:case"end":return n.stop()}}),Nb,null,[[0,6]])}function Mb(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.l)(cc.k,Db);case 2:case"end":return e.stop()}}),Rb)}var Bb=a.a.mark(Ub);function Ub(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.b)([Object(Da.f)(js),Object(Da.f)(Mb)]);case 2:case"end":return e.stop()}}),Bb)}var Fb=a.a.mark(Wb),Gb=a.a.mark(Hb),zb=a.a.mark(Kb);function Vb(e){return"ADD_TO_CART"===e.type}function Wb(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Da.b)(e.filter(Vb).map((function(e){return Object(Da.g)({type:"@commerce/ADD_TO_CART",payload:e.payload})})));case 2:case"end":return t.stop()}}),Fb)}function Hb(e){var t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=e.payload.events,n.next=4,Object(Da.b)([Object(Da.c)(Wb,t)]);case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.error(n.t0);case 9:case"end":return n.stop()}}),Gb,null,[[0,6]])}function Kb(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.l)(cc.k,Hb);case 2:case"end":return e.stop()}}),zb)}var Yb=n(388),$b=new Yb.a,Xb=function(e){return Va.__awaiter(void 0,void 0,void 0,a.a.mark((function t(){var n,r,c,o,i,s,u,d,l,f,b;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.params,r=n.httpMethod,c=void 0===r?"GET":r,o=n.httpUrl,i=void 0===o?"":o,s=n.httpPayload,u=void 0===s?te.a:s,d=n.actionIdentifier,t.prev=1,"POST"!==c&&"PUT"!==c){t.next=8;break}return t.next=5,$b[c.toLowerCase()](i,u,{withCredentials:!0});case 5:t.t0=t.sent,t.next=11;break;case 8:return t.next=10,$b[c.toLowerCase()](i,{withCredentials:!0});case 10:t.t0=t.sent;case 11:b=t.t0,l=b.request.status,f=b.request.responseText,t.next=19;break;case 16:t.prev=16,t.t1=t.catch(1),Object(Oe.f)(t.t1)?(console.warn(t.t1),l=t.t1.request.status,f=t.t1.request.responseText):(console.error(t.t1),l=500,f="");case 19:return t.prev=19,t.next=22,a={status:l,responseText:f,actionIdentifier:d},p=e.conversationId,Na.post("".concat("/livechat/cart","/on-add-to-cart/").concat(p),a);case 22:return t.finish(19);case 23:case"end":return t.stop()}var a,p}),t,null,[[1,16,19,23]])})))},qb=function(e){return Na.post("".concat("/livechat/cart","/update-cart"),e)},Jb=function(e){return Na.post("".concat("/livechat/cart","/remove-from-cart"),e)},Qb=a.a.mark(ep),Zb=a.a.mark(tp);function ep(e){var t,n,r,c;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,t=e.payload,n=t.type,r=t.params,c=t.conversationId,"HTTP_REQUEST"!==n){a.next=5;break}return a.next=5,Object(Da.c)(Xb,{params:r,conversationId:c});case 5:a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),Object(Oe.f)(a.t0)?console.warn(a.t0):console.error(a.t0);case 10:case"end":return a.stop()}}),Qb,null,[[0,7]])}function tp(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.l)("@commerce/ADD_TO_CART",ep);case 2:case"end":return e.stop()}}),Zb)}var np=n(46),rp=n.n(np),ap={presence:!0,format:{pattern:"^(?!\\s*$).+",message:"can only be non-empty string"}},cp={modifiedTime:{type:"number"},productItems:{array:{each:{sku:ap,productCategory:{type:"string"},quantity:{type:"number"},standardPrice:{type:"number"},standardCurrency:{type:"string"},title:{type:"string"},description:{type:"string"}}}}},op={modifiedTime:{type:"number"},productItems:{array:{each:{sku:ap,quantity:{type:"number"}}}}},ip=a.a.mark(up),sp=a.a.mark(dp);function up(e){var t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,r=e.payload,!(t=rp()(r,cp))){n.next=5;break}return console.log("Invalid payload passed to update cart, please check",t),n.abrupt("return");case 5:return n.next=7,Object(Da.c)(qb,e.payload);case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),Object(Oe.f)(n.t0)?console.warn(n.t0):console.error(n.t0);case 12:case"end":return n.stop()}var r}),ip,null,[[0,9]])}function dp(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.l)("@commerce/UPDATE_CART",up);case 2:case"end":return e.stop()}}),sp)}var lp=a.a.mark(bp),fp=a.a.mark(pp);function bp(e){var t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,r=e.payload,!(t=rp()(r,op))){n.next=5;break}return console.log("Invalid payload passed to remove from cart, please check",t),n.abrupt("return");case 5:return n.next=7,Object(Da.c)(Jb,e.payload);case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),Object(Oe.f)(n.t0)?console.warn(n.t0):console.error(n.t0);case 12:case"end":return n.stop()}var r}),lp,null,[[0,9]])}function pp(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.l)("@commerce/REMOVE_FROM_CART",bp);case 2:case"end":return e.stop()}}),fp)}var Op=a.a.mark(vp);function vp(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.b)([Object(Da.f)(Kb),Object(Da.f)(tp),Object(Da.f)(dp),Object(Da.f)(pp)]);case 2:case"end":return e.stop()}}),Op)}var hp=a.a.mark(jp),gp=a.a.mark(mp);function jp(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.b)([Object(Da.f)(ho),Object(Da.f)(Lf),Object(Da.f)(Gf),Object(Da.f)(_b),Object(Da.f)(Ub),Object(Da.f)(vp)]);case 2:case"end":return e.stop()}}),hp)}function mp(){var e;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=1,t.next=4,Object(Da.f)(jp);case 4:return e=t.sent,t.next=7,Object(Da.k)(Ra.a);case 7:return t.next=9,Object(Da.d)(e);case 9:t.next=13;break;case 11:t.prev=11,t.t0=t.catch(1);case 13:t.next=0;break;case 15:case"end":return t.stop()}}),gp,null,[[1,11]])}var xp=n(161),yp=n(185),Ip=n(317);function wp(e,t){var n=Object(Ip.a)(e,{path:"/conversation/:conversationId/:transientId?"});if(!n)return{};var r=x()(n.params,"conversationId"),a=x()(n.params,"transientId");return"all"===r?{isConversationPath:!1,matchedConversationId:void 0}:"new"===r?{isConversationPath:!0,matchedConversationId:t?t.slice(1):a}:{isConversationPath:!0,matchedConversationId:r}}var Cp=n(485),Tp=n.n(Cp),Ep=n(91),kp=n.n(Ep),Sp=n(220),_p=n.n(Sp);function Ap(e){var t=function(e){var t=e.url,n=e.data,r=e.method,a=void 0===r?"GET":r,c=e.contentType,o=e.conversationId,i=_p()(),s=document.createElement("form"),u=document.body;if(s.setAttribute("id","spr-chat-download-form-".concat(i)),s.setAttribute("target","_top"),s.setAttribute("action",t),s.setAttribute("method",a),s.style.display="none",c&&(s.enctype=c),!d()(n)){var l='<input type="hidden" id="conversationId" name="conversationId" value="'.concat(o,'" />');j()(n,(function(e,t){l+='<input type="hidden" id="'.concat(t,'" name="').concat(t,'" value=').concat(kp()(e)?"'".concat(Tp()(JSON.stringify(e)),"'"):'"'.concat(Tp()(e),'"')," />")})),s.innerHTML=l}return u.appendChild(s),s}(e);t.submit(),setTimeout((function(){var e;(e=t)&&e.parentNode&&e.parentNode.removeChild(e)}),3e4)}function Np(e){return Rp.apply(this,arguments)}function Rp(){return(Rp=Object(c.a)(a.a.mark((function e(t){var n,r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat("https://prod-video-chat-chat.sprinklr.com","/api/livechat/conversation/downloadChatTranscript"),e.next=3,Object(U.a)(T.a.getAppId(Object(H.a)()));case 3:r=e.sent,c=Object(z.f)(),Ap({url:n,data:{timeZone:c,"x-chat-token":r},conversationId:t});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Pp=a.a.mark(qp),Lp=a.a.mark(Jp),Dp=a.a.mark(Qp),Mp=a.a.mark(Zp),Bp=a.a.mark(eO),Up=a.a.mark(tO),Fp=a.a.mark(nO),Gp=a.a.mark(rO),zp=a.a.mark(aO),Vp=a.a.mark(cO),Wp=a.a.mark(oO),Hp=a.a.mark(iO),Kp=a.a.mark(sO),Yp=a.a.mark(uO);function $p(e,t,n){return!(Ao.a.getSender(e)===t)&&!Object(Ro.e)(e)&&n!==at.e}var Xp=function(e,t,n){if(n){var r=Object(yp.b)(e[n],t);return r?[{conversationId:n,count:r}]:[]}return Uc()(e,(function(e,n){var r=Object(yp.b)(n,t);return r&&e.push({conversationId:n.id,count:r}),e}),[])};function qp(e){var t,n,r,c,o,i,s,u,l,f,b,p,O,v;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload,n=t.conversationId,r=t.chatMessage,a.t0=ga.d,a.next=5,Object(Da.i)(Nn.g);case 5:if(a.t1=a.sent,c=(0,a.t0)(a.t1),!$p(r,c,n)){a.next=28;break}return a.next=10,Object(Da.i)(Nn.c);case 10:return o=a.sent,a.next=13,Object(Da.i)(yp.c);case 13:return i=a.sent,s=i.isConversationPath,u=i.conversationId,l=Object(Vr.f)(o.conversations,n),a.next=19,Object(Da.i)(Nn.b);case 19:if(f=a.sent,b=f.isMinimized,p=Object(xp.a)(),O=!!s,v=!d()(l),!(Object(G.w)()?v&&n===u:v)){a.next=28;break}return a.next=27,Object(Da.g)({type:_o.M,payload:{conversationId:n,count:1}});case 27:b&&!O&&p.push("/conversation/".concat(n));case 28:a.next=33;break;case 30:a.prev=30,a.t2=a.catch(0),console.error(a.t2);case 33:case"end":return a.stop()}}),Pp,null,[[0,30]])}function Jp(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.l)(_o.B,qp);case 2:case"end":return e.stop()}}),Lp)}function Qp(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{window.open(Object(W.a)(e.payload.url)),e.promise.resolve()}catch(n){e.promise.reject(),console.error(n)}case 1:case"end":return t.stop()}}),Dp)}function Zp(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.l)(_o.N,Qp);case 2:case"end":return e.stop()}}),Mp)}function eO(e){var t,n,r,c,o,i,s;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,n=t.surveyUrl,r=t.shouldReplace,c=t.conversationId,o=Object(xp.a)(),i=Object(G.w)()||Object(G.z)()?"".concat(n,"&showCancel=true"):n,s="/survey/".concat(encodeURIComponent("".concat(i,"&hideThankYouPage=true"))),a.abrupt("return",r?o.replace(s):o.push(c?"/conversation/".concat(c).concat(s):s));case 3:case"end":return a.stop()}}),Bp)}function tO(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.l)(_o.Q,eO);case 2:case"end":return e.stop()}}),Up)}function nO(e){var t,n,r,c,o,i,s,u,d;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.payload,n=t.deleted,r=t.closed,c=t.surveyUrl,o=t.conversationId,a.prev=1,!n&&!r){a.next=12;break}if(i=Object(xp.a)(),s=wp(i.location.pathname,i.location.hash),u=s.matchedConversationId,d=n&&o&&u===o&&!Object(G.w)(),!c){a.next=11;break}return a.next=9,Object(Da.g)(Object(ni.l)({surveyUrl:c,shouldReplace:d,conversationId:o}));case 9:a.next=12;break;case 11:d&&i.goBack();case 12:a.next=17;break;case 14:a.prev=14,a.t0=a.catch(1),console.error(a.t0);case 17:case"end":return a.stop()}}),Fp,null,[[1,14]])}function rO(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.l)(_o.j,nO);case 2:case"end":return e.stop()}}),Gp)}function aO(){var e,t,n,r,c;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(Da.k)(Ra.b);case 3:if(e=a.sent,t=e.payload,t.applicationConfig,!t.handshakeDetails){a.next=21;break}if(!Object(G.y)()){a.next=12;break}return n=Object(G.d)(),a.next=12,Object(Da.g)(Object(ni.b)(n));case 12:if(!Object(G.x)()){a.next=17;break}return r=Object(G.c)(),c=Object(G.a)(r),a.next=17,Object(Da.g)(Object(ni.a)(r,c,Object(z.a)()));case 17:return a.next=19,Object(Da.e)(1e3);case 19:return a.next=21,Object(Da.g)(Object(ni.g)());case 21:a.next=26;break;case 23:a.prev=23,a.t0=a.catch(0),console.error(a.t0);case 26:case"end":return a.stop()}}),zp,null,[[0,23]])}function cO(e){var t,n,r;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload,n=e.promise,r=t.conversationId,a.next=5,Object(Da.c)(Np,r);case 5:n&&n.resolve(),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),e.promise&&e.promise.reject(),Object(Oe.f)(a.t0)?console.warn(a.t0):console.error(a.t0);case 12:case"end":return a.stop()}}),Vp,null,[[0,8]])}function oO(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.l)(_o.o,cO);case 2:case"end":return e.stop()}}),Wp)}function iO(e){var t,n,r,c,o;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(Da.i)(Nn.g);case 3:return t=a.sent,n=Object(ga.d)(t),a.next=7,Object(Da.i)(Nn.c);case 7:if(r=a.sent,c=Object(Vr.p)(r),o=Xp(c.byId,n,e),d()(o)){a.next=13;break}return a.next=13,Object(Da.g)({type:_o.K,payload:o});case 13:a.next=18;break;case 15:a.prev=15,a.t0=a.catch(0),console.warn(a.t0);case 18:case"end":return a.stop()}}),Hp,null,[[0,15]])}function sO(){var e,t,n,r;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!Object(G.w)()){a.next=24;break}if(!Object(G.B)()){a.next=13;break}case 2:return a.next=5,Object(Da.k)(_o.g);case 5:return a.next=7,Object(Da.i)(yp.c);case 7:return e=a.sent,t=e.conversationId,a.next=11,Object(Da.c)(iO,t);case 11:a.next=2;break;case 13:if(!Object(G.y)()&&!Object(G.x)()){a.next=23;break}return a.next=16,Object(Da.h)([Object(Da.k)(_o.s),Object(Da.k)(_o.t),Object(Da.k)(_o.v),Object(Da.k)(_o.w)]);case 16:return a.next=18,Object(Da.i)(yp.c);case 18:return n=a.sent,r=n.conversationId,a.next=22,Object(Da.c)(iO,r);case 22:case 23:return a.abrupt("return");case 24:if(!Object(G.y)()&&!Object(G.x)()){a.next=30;break}return a.next=27,Object(Da.b)([Object(Da.h)([Object(Da.k)(_o.s),Object(Da.k)(_o.v),Object(Da.k)(_o.t),Object(Da.k)(_o.w)]),Object(Da.k)(_o.g)]);case 27:return a.next=29,Object(Da.c)(iO);case 29:return a.abrupt("return");case 30:if(!(Object(G.D)()||Object(G.A)()||Object(G.B)())){a.next=38;break}case 31:return a.next=34,Object(Da.k)(_o.g);case 34:return a.next=36,Object(Da.c)(iO);case 36:a.next=31;break;case 38:case"end":return a.stop()}}),Kp)}function uO(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.b)([Object(Da.f)(aO),Object(Da.f)(Jp),Object(Da.f)(Zp),Object(Da.f)(oO),Object(Da.f)(tO),Object(Da.f)(rO),Object(Da.f)(sO)]);case 2:case"end":return e.stop()}}),Yp)}var dO=a.a.mark(jO),lO=a.a.mark(mO),fO=a.a.mark(xO),bO=a.a.mark(yO),pO=a.a.mark(IO),OO=a.a.mark(wO),vO=a.a.mark(CO),hO=a.a.mark(TO),gO=a.a.mark(EO);function jO(e){var t,n,r,c;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.action,a.prev=1,n=t.payload,(o=n).type===Hs.h||o.type===Hs.i){a.next=5;break}return a.abrupt("return");case 5:return a.next=7,Object(Da.i)(Nn.c);case 7:if(r=a.sent,c=Object(Vr.d)(Object(Vr.v)(r)),n.type!==Hs.h){a.next=12;break}return a.next=12,Object(Da.c)(U.j,n.payload.contextId||c,n.payload.abortedProcessContext,[]);case 12:if(n.type!==Hs.i){a.next=15;break}return a.next=15,Object(Da.c)(U.h,n.payload.contextId||c);case 15:a.next=20;break;case 17:a.prev=17,a.t0=a.catch(1),console.error(a.t0);case 20:case"end":return a.stop()}var o}),dO,null,[[1,17]])}function mO(e){var t,n,r,c,o,s,u;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload,n=t.conversationId,r=t.chatMessage,a.next=4,Object(Da.c)(U.d,n);case 4:if(!(c=a.sent)){a.next=12;break}if(o=No.a.getAttachment(Ao.a.getMessagePayload(r)),!(Object(Z.b)(Ao.a.getSender(r))&&o&&Object(su.c)(o))){a.next=12;break}return s=Ao.a.getId(r),u=c.messageIds,a.next=12,Object(Da.c)(U.j,n,c.context,[].concat(Object(i.a)(u),[s]));case 12:a.next=17;break;case 14:a.prev=14,a.t0=a.catch(0),console.error(a.t0);case 17:case"end":return a.stop()}}),lO,null,[[0,14]])}function xO(e){var t,n,r;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload,n=t.conversationId,t.chatMessage,a.next=4,Object(Da.c)(U.d,n);case 4:if(!(r=a.sent)){a.next=8;break}return a.next=8,Object(Da.c)(U.j,n,r.context,[]);case 8:a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.error(a.t0);case 13:case"end":return a.stop()}}),fO,null,[[0,10]])}function yO(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.l)(_o.B,mO);case 2:case"end":return e.stop()}}),bO)}function IO(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.l)(_o.E,xO);case 2:case"end":return e.stop()}}),pO)}function wO(e){var t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Da.c)(U.d,e);case 3:if(!(t=n.sent)){n.next=11;break}return n.next=7,Object(Da.b)(t.messageIds.map((function(e){return Object(Da.c)(ei,e)})));case 7:return n.next=9,Object(Da.c)(Zo,{context:t.context,conversationId:e});case 9:return n.next=11,Object(Da.c)(U.h,e);case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(0),Object(Oe.f)(n.t0)?console.warn(n.t0):console.error(n.t0);case 16:case"end":return n.stop()}}),OO,null,[[0,13]])}function CO(e){var t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=e.payload.conversationResponse.results,n.next=4,Object(Da.b)(t.map((function(e){return Object(Da.c)(wO,e.id)})));case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.error(n.t0);case 9:case"end":return n.stop()}}),vO,null,[[0,6]])}function TO(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.l)(_o.g,CO);case 2:case"end":return e.stop()}}),hO)}function EO(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.b)([Object(Da.f)(yO),Object(Da.f)(IO),Object(Da.f)(TO)]);case 2:case"end":return e.stop()}}),gO)}var kO=n(56),SO=n.n(kO),_O=n(85),AO=n.n(_O),NO=n(482),RO=n.n(NO),PO=n(180),LO=n.n(PO),DO=n(682),MO=n.n(DO),BO=n(45),UO=n(245),FO=a.a.mark(VO),GO=a.a.mark(WO),zO=a.a.mark(HO);function VO(e,t){var n;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,d()(e)){r.next=10;break}n=a.a.mark((function n(){var r,c,o;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Da.k)(_o.J);case 2:if(r=n.sent,t!==r.payload.transientConversationId){n.next=11;break}return n.next=6,Object(Da.i)(Nn.g);case 6:return c=n.sent,o=Object(ga.d)(c),n.next=10,Object(Da.b)(e.map((function(e){return Object(Da.g)(Object(ni.y)({text:e.message,conversationId:r.payload.conversationResponse.id,sender:e.isSentByUser?o:at.b}))})));case 10:return n.abrupt("return","break");case 11:case"end":return n.stop()}}),n)}));case 3:return r.delegateYield(n(),"t0",5);case 5:if("break"!==r.t0){r.next=8;break}return r.abrupt("break",10);case 8:r.next=3;break;case 10:r.next=15;break;case 12:r.prev=12,r.t1=r.catch(0),console.error(r.t1);case 15:case"end":return r.stop()}}),FO,null,[[0,12]])}function WO(e,t){var n,r,c,o,i,s,u,l,f,b,p,O,v,h,g,j,m,y,I,w,C,T,E,k,S,_,A,N,R;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(Da.i)((function(e){return e}));case 2:if(n=a.sent,r=D.a.getCustomizationConfig(e),c=function(e,t){return x()(e,t)},o=Object(yp.d)(n,r,c),i=o.isLocked,s=o.lockReason,!i){a.next=9;break}return console.log("Cannot start a new conversation through SDK: ",s),a.abrupt("return");case 9:if(a.prev=9,u=t.payload,l=u.initialMessages,f=u.conversationContext,b=u.createCase,p=u.additional,O="".concat(at.e,"_").concat(_p()()),g=[],j=LO()(l,(function(e){var t=He()(e)?e:e.message;return!d()(MO()(t))})),!(!d()(j)||d()(l)&&SO()(l))){a.next=24;break}m=j.map((function(e){return He()(e)?{message:e,isSentByUser:!1}:e})),y=m.length,I=AO()(m,(function(e){return e.isSentByUser})),w=-1===I?y:I,C=RO()(m,0,w),g=RO()(m,w,y),v=xo()(C.map((function(e,t){return ks(e.message,O,"".concat(t))}))),h=!0,a.next=30;break;case 24:return a.next=26,Object(Da.i)(Nn.c);case 26:T=a.sent,E=Object(Vr.l)(T,at.e),v=Object(Vr.k)(E),h=Object(Vr.x)(E);case 30:return a.next=32,Object(Da.g)({type:_o.H,payload:{conversationId:O,messages:v,conversationContext:f,hasInitialItems:h,createCase:b,additional:p}});case 32:return k=Object(xp.a)(),S=wp(k.location.pathname,k.location.hash),_=S.isConversationPath,A=!!_,N="/conversation/new/".concat(O),A?k.replace(N):k.push(N),a.next=39,Object(Da.i)(Nn.b);case 39:if(R=a.sent,!R.isMinimized){a.next=44;break}return a.next=44,Object(Da.g)({type:BO.c,payload:{}});case 44:return a.next=46,Object(Da.f)(VO,g,O);case 46:a.next=51;break;case 48:a.prev=48,a.t0=a.catch(9),console.error(a.t0);case 51:case"end":return a.stop()}}),GO,null,[[9,48]])}function HO(){var e,t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Da.k)(Ra.b);case 3:return e=n.sent,t=e.payload.applicationConfig,n.next=7,Object(Da.l)(UO.b,WO,t);case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.error(n.t0);case 12:case"end":return n.stop()}}),zO,null,[[0,9]])}var KO,YO=n(114),$O=Object(s.a)({},vi.b.PROGRESS_BAR,(function(e){var t=Ao.a.getMessagePayload(e).attachment;return t.status===YO.a.ABORTED||t.status===YO.a.ERROR})),XO=function(e){var t=Ao.a.getMessagePayload(e).attachment,n=t&&$O[t.type];return n&&n(e)},qO=a.a.mark(ev),JO=a.a.mark(tv),QO=a.a.mark(nv),ZO=function(){function e(){Object(E.a)(this,e),this.queueItems=void 0,this.queueItems=[]}return Object(_e.a)(e,[{key:"isEmpty",value:function(){return 0===this.queueItems.length}},{key:"put",value:function(e){var t=AO()(this.queueItems,(function(t){return Ao.a.getId(e.message)===Ao.a.getId(t.message)}));-1!==t&&this.queueItems.splice(t,1),this.queueItems.push(e)}},{key:"take",value:function(){return this.queueItems.shift()}}]),e}();function ev(e){var t,n,r;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.message,n=e.externalMessageId,a.next=4,Object(Da.c)(si,t);case 4:if(!(r=a.sent)){a.next=8;break}return a.next=8,Object(Da.g)({type:"EXTERNAL_MESSAGE_SEND",payload:{id:n,message:r}});case 8:a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.error(a.t0);case 13:case"end":return a.stop()}}),qO,null,[[0,10]])}function tv(e){var t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,Object(Da.k)(e);case 3:if(t=n.sent,XO(t.message)){n.next=7;break}return n.next=7,Object(Da.c)(ev,t);case 7:n.next=0;break;case 9:case"end":return n.stop()}}),JO)}function nv(e){var t,n,r,c,o,i;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(KO){a.next=6;break}return a.next=3,Object(Da.c)(ya.b,new ZO);case 3:return KO=a.sent,a.next=6,Object(Da.j)(tv,KO);case 6:if(t=di.a.makeOutgoing().makeDynamicMessage({externalMessageId:e.id,messageId:e.sprMsgId,messagePayload:e.message,conversationId:e.contextId,messageContext:e.messageContext,sender:at.b})){a.next=9;break}return a.abrupt("return",void 0);case 9:if(n={externalMessageId:e.id,message:t},e.sprMsgId&&!XO(t)){a.next=15;break}return a.next=13,Object(Da.f)(ev,n);case 13:a.next=17;break;case 15:return a.next=17,Object(Da.g)(KO,n);case 17:return a.next=19,Object(Da.k)("EXTERNAL_MESSAGE_SEND");case 19:return r=a.sent,c=r.payload,o=c.id,i=c.message,a.abrupt("return",{id:o,message:i});case 24:case"end":return a.stop()}}),QO)}var rv=a.a.mark(av);function av(e){var t,n,r,c;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.action,a.prev=1,t.payload.type===Hs.d){a.next=4;break}return a.abrupt("return");case 4:return a.next=6,Object(Da.c)(nv,t.payload.payload);case 6:return n=a.sent,r=n.id,c=n.message,a.next=11,Object(Da.g)(Object(_s.k)({id:r,conversationId:Ao.a.getConversationId(c),messageId:Ao.a.getId(c)}));case 11:a.next=16;break;case 13:a.prev=13,a.t0=a.catch(1),console.error(a.t0);case 16:case"end":return a.stop()}}),rv,null,[[1,13]])}var cv=a.a.mark(ov);function ov(e){var t,n,r;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.action,a.prev=1,t.payload.type===Hs.c){a.next=4;break}return a.abrupt("return");case 4:if(n=t.payload.payload,r=di.a.makeOutgoing().makeDynamicMessage({externalMessageId:n.id,messagePayload:{events:Ba()(n.event)},conversationId:n.contextId,sender:at.b})){a.next=8;break}return a.abrupt("return");case 8:return a.next=10,Object(Da.c)(si,r);case 10:a.next=15;break;case 12:a.prev=12,a.t0=a.catch(1),console.error(a.t0);case 15:case"end":return a.stop()}}),cv,null,[[1,12]])}var iv,sv=n(708),uv=n.n(sv),dv=/\$\{(\w+)\}/g,lv=function(e,t){return uv()(e,dv,(function(e,n){return t[n]?t[n]:e}))},fv=function(e,t){var n=t.totalUnits,r=t.completedUnits,a=t.action,c=t.status,o=e["progress.".concat(a,".").concat(c,".title")];return lv(o,{completedUnits:r,totalUnits:n})},bv=function(e,t){var n=t.totalUnits,r=t.completedUnits,a=t.action,c=t.status,o=e["progress.".concat(a,".").concat(c,".description")];return lv(o,{completedUnits:r,totalUnits:n})},pv=a.a.mark(jv),Ov=a.a.mark(mv),vv=function(){function e(){Object(E.a)(this,e),this.queueItems=void 0,this.queueItems=[]}return Object(_e.a)(e,[{key:"isEmpty",value:function(){return 0===this.queueItems.length}},{key:"put",value:function(e){var t=AO()(this.queueItems,(function(t){return e.contextId===t.contextId}));-1!==t&&this.queueItems.splice(t,1),this.queueItems.push(e)}},{key:"take",value:function(){return this.queueItems.shift()}}]),e}(),hv=function(e,t){return"".concat(e,"_").concat(t)},gv=Ga()((function(){var e={};return{get:function(t){return e[t]},set:function(t,n){e[t]=n},remove:function(t){delete e[t]}}}));function jv(e){var t,n,r,c,o,i,s,u,d;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=1,a.next=4,Object(Da.k)(e);case 4:return t=a.sent,n=t.contextId,r=t.id,c=t.message,o=t.messageContext,i=c.attachment,a.next=12,Object(Da.c)(nv,{contextId:n,id:r,sprMsgId:gv().get(hv(n,i.action)),message:c,messageContext:o});case 12:return s=a.sent,u=s.id,d=s.message,a.next=17,Object(Da.g)(Object(_s.l)({id:u,conversationId:Ao.a.getConversationId(d),messageId:Ao.a.getId(d)}));case 17:(l=i).status!==YO.a.COMPLETED&&(l.status!==YO.a.ABORTED&&l.status!==YO.a.ERROR||l.enableRetry)?gv().set(hv(n,i.action),Ao.a.getId(d)):gv().remove(hv(n,i.action)),a.next=23;break;case 20:a.prev=20,a.t0=a.catch(1),console.error(a.t0);case 23:a.next=0;break;case 25:case"end":return a.stop()}var l}),pv,null,[[1,20]])}function mv(e){var t,n,r,c,o,i,s;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.action,n=e.localeData,a.prev=1,t.payload.type===Hs.f){a.next=4;break}return a.abrupt("return");case 4:if(iv){a.next=10;break}return a.next=7,Object(Da.c)(ya.b,new vv);case 7:return iv=a.sent,a.next=10,Object(Da.j)(jv,iv);case 10:return r=t.payload.payload,c=r.contextId,o=r.id,i=r.progressContext,s=r.data,a.next=13,Object(Da.g)(iv,{contextId:c,id:o,message:{attachment:{type:vi.b.PROGRESS_BAR,title:fv(n,s),description:bv(n,s),progress:s.progress,status:s.status,action:s.action,enableCancel:s.enableCancel,enableRetry:s.enableRetry},disableManualResponse:s.disableManualResponse},messageContext:i});case 13:a.next=18;break;case 15:a.prev=15,a.t0=a.catch(1),console.error(a.t0);case 18:case"end":return a.stop()}}),Ov,null,[[1,15]])}var xv=a.a.mark(Iv),yv=a.a.mark(wv);function Iv(e,t){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Da.b)([Object(Da.c)(av,{action:t,localeData:e}),Object(Da.c)(ov,{action:t,localeData:e}),Object(Da.c)(mv,{action:t,localeData:e}),Object(Da.c)(jO,{action:t})]);case 2:case"end":return n.stop()}}),xv)}function wv(){var e,t,n;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(Da.a)(_o.x);case 3:return e=r.sent,r.next=6,Object(Da.k)(BO.j);case 6:return t=r.sent,n=t.payload.localeData,r.next=10,Object(Da.l)(e,Iv,n);case 10:r.next=15;break;case 12:r.prev=12,r.t0=r.catch(0),console.error(r.t0);case 15:case"end":return r.stop()}}),yv,null,[[0,12]])}var Cv=a.a.mark(Ev),Tv=a.a.mark(kv);function Ev(){var e;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Object(H.a)(),t.next=3,Object(U.f)(e.appId);case 3:case"end":return t.stop()}}),Cv)}function kv(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.l)(BO.e,Ev);case 2:case"end":return e.stop()}}),Tv)}var Sv=a.a.mark(_v);function _v(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.b)([Object(Da.f)(HO),Object(Da.f)(wv),Object(Da.f)(kv)]);case 2:case"end":return e.stop()}}),Sv)}var Av=n(34),Nv=a.a.mark(Dv),Rv=a.a.mark(Mv),Pv=a.a.mark(Bv);function Lv(e){return Object(Vr.w)(Object(Vr.p)(Object(Nn.c)(e)))}function Dv(){var e,t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Da.i)(Lv);case 2:e=n.sent;case 3:return n.prev=4,n.next=7,Object(Da.h)({notificationReceived:Object(Da.k)(_o.M),notificationRead:Object(Da.k)(_o.L),notificationsReceived:Object(Da.k)(_o.K)});case 7:return n.sent,n.next=10,Object(Da.i)(Lv);case 10:t=n.sent,e!==t&&(Object(l.a)({type:Av.I,payload:{count:t}}),e=t),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(4),console.error(n.t0);case 17:n.next=3;break;case 19:case"end":return n.stop()}}),Nv,null,[[4,14]])}function Mv(){var e;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=1,t.next=4,Object(Da.k)(_o.y);case 4:return e=t.sent,t.t0=l.a,t.t1=Av.i,t.t2=e.payload.type,t.t3=o.a,t.t4=Object(o.a)({},e.payload.payload),t.t5={},t.next=13,Object(U.a)(T.a.getAppId(Object(H.a)()));case 13:t.t6=t.sent,t.t7={userAuthToken:t.t6},t.t8=(0,t.t3)(t.t4,t.t5,t.t7),t.t9={type:t.t2,payload:t.t8},t.t10={type:t.t1,payload:t.t9},(0,t.t0)(t.t10),t.next=24;break;case 21:t.prev=21,t.t11=t.catch(1),console.error(t.t11);case 24:t.next=0;break;case 26:case"end":return t.stop()}}),Rv,null,[[1,21]])}function Bv(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.b)([Object(Da.f)(Dv),Object(Da.f)(Mv)]);case 2:case"end":return e.stop()}}),Pv)}var Uv=n(478),Fv=n.n(Uv);function Gv(e){return zv.apply(this,arguments)}function zv(){return(zv=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("/livechat/upload/policy?fileName=".concat(encodeURIComponent(t)));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vv(e,t){return Wv.apply(this,arguments)}function Wv(){return(Wv=Object(c.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.post("https://".concat(t,".s3.amazonaws.com/"),n);case 2:return r=e.sent,e.abrupt("return",decodeURIComponent(r.headers.location));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Hv=a.a.mark(Jv),Kv=a.a.mark(Qv),Yv=[{key:"Cache-Control",value:Fv()("max-age=".concat(31536e3,", no-transform, public"))},{key:"Content-Type",value:function(e){return e.type}}],$v=["key","acl","x-amz-credential","x-amz-algorithm","x-amz-date","policy","x-amz-signature","x-amz-security-token","x-amz-server-side-encryption"];function Xv(e,t){var n=new FormData;return $v.forEach((function(t){n.append(t,e[t])})),Yv.forEach((function(e){n.append(e.key,e.value(t))})),n.append("file",t),n}function qv(e){return"AZURE"===e.type}function Jv(e,t){var r,c;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!qv(e)){a.next=9;break}return a.next=4,n.e(5).then(n.bind(null,1881));case 4:return r=a.sent,c=r.uploadFileOnAzure,a.next=8,Object(Da.c)(c,e,t);case 8:return a.abrupt("return",a.sent);case 9:return a.next=11,Object(Da.c)(Vv,e.bucket,Xv(e,t));case 11:return a.abrupt("return",a.sent);case 14:return a.prev=14,a.t0=a.catch(0),a.abrupt("return",void 0);case 17:case"end":return a.stop()}}),Hv,null,[[0,14]])}function Qv(e){var t,n;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(Da.c)(Gv,e.name);case 3:if(!(t=r.sent)){r.next=9;break}return r.next=7,Object(Da.c)(Jv,t,e);case 7:return n=r.sent,r.abrupt("return",n);case 9:return r.abrupt("return",void 0);case 12:return r.prev=12,r.t0=r.catch(0),r.abrupt("return",void 0);case 15:case"end":return r.stop()}}),Kv,null,[[0,12]])}var Zv=n(166),eh=n(268),th=a.a.mark(rh);function nh(e){return new Promise((function(t){var n=document.createElement("img");n.onload=function(e){e.target&&t({height:e.target.naturalHeight,width:e.target.naturalWidth})},n.src=e}))}function rh(e,t,n){var r,c,o,i,s,u,d;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,l=n.type,!Lo()(eh.b,l)){a.next=25;break}return r=URL.createObjectURL(n),a.next=5,Object(Da.c)(nh,r);case 5:return c=a.sent,o=c.height,i=c.width,a.next=10,Object(Da.c)(ni.n,di.a.makeOutgoing().makeImageAttachmentMessage({attachmentProperties:{height:o,width:i,url:r},conversationId:e,sender:t}));case 10:return s=a.sent,a.next=13,Object(Da.g)(s);case 13:return a.next=15,Object(Da.c)(Qv,n);case 15:if(!(u=a.sent)){a.next=23;break}return d=Object(Zv.e)(s.payload.chatMessage,u,vi.b.IMAGE),a.next=20,Object(Da.c)(ui,d);case 20:URL.revokeObjectURL(r),a.next=25;break;case 23:return a.next=25,Object(Da.g)({payload:{conversationId:e,transientId:s.payload.chatMessage.id},type:_o.D});case 25:a.next=30;break;case 27:a.prev=27,a.t0=a.catch(0),Object(Oe.f)(a.t0)?console.warn(a.t0):console.error(a.t0);case 30:case"end":return a.stop()}var l}),th,null,[[0,27]])}var ah=a.a.mark(ih),ch=a.a.mark(sh);function oh(e){return new Promise((function(t){var n=document.createElement("video");n.onloadeddata=function(){n.currentTime=0},n.onseeked=function(e){var r=document.createElement("canvas");r.height=n.videoHeight,r.width=n.videoWidth;var a=r.getContext("2d");a&&(a.drawImage(n,0,0,r.width,r.height),(r.toBlob||r.msToBlob).bind(r)((function(e){var r=e?new File([e],"image.jpg",{type:"image/jpeg"}):null;t({previewImageFile:r,height:n.videoHeight,width:n.videoWidth})})))},n.src=e,n.load()}))}function ih(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Da.c)(Qv,e);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),Object(Oe.f)(t.t0)?console.warn(t.t0):console.error(t.t0),t.abrupt("return",void 0);case 10:case"end":return t.stop()}}),ah,null,[[0,6]])}function sh(e,t,n){var r,c,o,i,s,u,d,l,b,p,O,v;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,h=n.type,!Lo()(eh.c,h)){a.next=31;break}return r=URL.createObjectURL(n),a.next=5,Object(Da.c)(oh,r);case 5:return c=a.sent,o=c.previewImageFile,i=c.height,s=c.width,u=URL.createObjectURL(o),a.next=12,Object(Da.c)(ni.n,di.a.makeOutgoing().makeVideoAttachmentMessage({attachmentProperties:{height:i,width:s,previewImageUrl:u,url:r},conversationId:e,sender:t}));case 12:return d=a.sent,a.next=15,Object(Da.g)(d);case 15:return a.next=17,Object(Da.b)([Object(Da.c)(Qv,n),Object(Da.c)(ih,o)]);case 17:if(l=a.sent,b=Object(f.a)(l,2),p=b[0],O=b[1],!p){a.next=29;break}return v=Object(Zv.f)(Object(Zv.e)(d.payload.chatMessage,p,vi.b.VIDEO),O),a.next=25,Object(Da.c)(ui,v);case 25:URL.revokeObjectURL(r),URL.revokeObjectURL(u),a.next=31;break;case 29:return a.next=31,Object(Da.g)({payload:{conversationId:e,transientId:d.payload.chatMessage.id},type:_o.D});case 31:a.next=36;break;case 33:a.prev=33,a.t0=a.catch(0),Object(Oe.f)(a.t0)?console.warn(a.t0):console.error(a.t0);case 36:case"end":return a.stop()}var h}),ch,null,[[0,33]])}var uh=n(683),dh=a.a.mark(fh),lh={"application/pdf":uh.a.PDF};function fh(e,t,n){var r,c,o,i;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,s=n.type,!Lo()(eh.a,s)){a.next=20;break}return r=URL.createObjectURL(n),a.next=5,Object(Da.c)(ni.n,di.a.makeOutgoing().makeDocumentAttachmentMessage({attachmentProperties:{url:r,title:n.name,documentType:lh[n.type]},conversationId:e,sender:t}));case 5:return c=a.sent,a.next=8,Object(Da.g)(c);case 8:return a.next=10,Object(Da.c)(Qv,n);case 10:if(!(o=a.sent)){a.next=18;break}return i=Object(Zv.e)(c.payload.chatMessage,o,vi.b.DOCUMENT),a.next=15,Object(Da.c)(ui,i);case 15:URL.revokeObjectURL(r),a.next=20;break;case 18:return a.next=20,Object(Da.g)({payload:{conversationId:e,transientId:c.payload.chatMessage.id},type:_o.D});case 20:a.next=25;break;case 22:a.prev=22,a.t0=a.catch(0),Object(Oe.f)(a.t0)?console.warn(a.t0):console.error(a.t0);case 25:case"end":return a.stop()}var s}),dh,null,[[0,22]])}var bh=a.a.mark(Oh),ph=a.a.mark(vh);function Oh(e){var t,n,r,c;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,n=t.conversationId,r=t.chatUserId,c=t.file,a.next=3,Object(Da.b)([Object(Da.c)(rh,n,r,c),Object(Da.c)(sh,n,r,c),Object(Da.c)(fh,n,r,c)]);case 3:case"end":return a.stop()}}),bh)}function vh(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.l)(UO.a,Oh);case 2:case"end":return e.stop()}}),ph)}var hh,gh=vh,jh=a.a.mark(xh),mh=a.a.mark(yh);function xh(){var e;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=1,e=void 0,t.next=5,Object(Da.k)(cc.b);case 5:return hh=Date.now(),t.next=8,Object(Da.k)(cc.a);case 8:if(e=Date.now(),!(hh&&e-hh>=3e5)){t.next=13;break}return hh=void 0,t.next=13,Object(Da.g)({type:cc.l});case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),console.error(t.t0);case 18:t.next=0;break;case 20:case"end":return t.stop()}}),jh,null,[[1,15]])}function yh(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.b)([Object(Da.f)(xh)]);case 2:case"end":return e.stop()}}),mh)}var Ih=n(400),wh=a.a.mark(Ah),Ch=a.a.mark(Nh),Th=a.a.mark(Rh),Eh=a.a.mark(Ph),kh=a.a.mark(Lh),Sh=a.a.mark(Dh),_h=a.a.mark(Mh);function Ah(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,Object(Da.k)(BO.f);case 4:if(e.sent,!Object(G.E)()){e.next=9;break}Object(l.a)({type:Av.e}),e.next=11;break;case 9:return e.next=11,Object(Da.g)(Object(Bt.b)());case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.error(e.t0);case 16:e.next=0;break;case 18:case"end":return e.stop()}}),wh,null,[[1,13]])}function Nh(){var e;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=1,t.next=4,Object(Da.k)(BO.k);case 4:e=t.sent,e.payload.isMediaOpen?Object(l.a)({type:Av.l}):Object(l.a)({type:Av.k}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.error(t.t0);case 12:t.next=0;break;case 14:case"end":return t.stop()}}),Ch,null,[[1,9]])}function Rh(e,t){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Da.g)(Object(Bt.i)(e,t));case 2:case"end":return n.stop()}}),Th)}function Ph(e,t,n){var r,c,i,u;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Da.i)(Nn.b);case 3:return r=t.sent,c=Object(An.c)(r),t.t0=ga.c,t.next=8,Object(Da.i)(zr.g);case 8:return t.t1=t.sent,i=(0,t.t0)(t.t1).userId,u={},j()(c,(function(e,t){u=Object(o.a)(Object(o.a)({},u),{},Object(s.a)({},t,e.enabled))})),t.next=14,Object(U.k)(i,u);case 14:t.next=21;break;case 16:return t.prev=16,t.t2=t.catch(0),t.next=20,Object(Da.c)(Rh,e,n);case 20:Object(Oe.f)(t.t2)?console.warn(t.t2):console.error(t.t2);case 21:case"end":return t.stop()}}),Eh,null,[[0,16]])}function Lh(){var e,t,n,r,c;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=3,Object(Da.k)(BO.m);case 3:return e=a.sent,t=e.payload,n=t.userPreferenceKey,r=t.newValue,c=t.oldValue,a.next=7,Object(Da.c)(Rh,n,r);case 7:return a.next=9,Object(Da.c)(Ph,n,r,c);case 9:a.next=0;break;case 11:case"end":return a.stop()}}),kh)}function Dh(){var e,t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Da.k)(Ra.b);case 3:e=n.sent,t=e.payload.applicationConfig,setTimeout((function(){var e=x()(t,"otherConfigs.theme.icons",{});j()(e,(function(e){Object(Ih.a)(e)}))}),1e4),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),Object(Oe.f)(n.t0)?console.warn(n.t0):console.error(n.t0);case 11:case"end":return n.stop()}}),Sh,null,[[0,8]])}function Mh(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.b)([Object(Da.f)(Ah),Object(Da.f)(Nh),Object(Da.f)(Lh),Object(Da.f)(Dh)]);case 2:case"end":return e.stop()}}),_h)}var Bh=a.a.mark(Fh),Uh=a.a.mark(Gh);function Fh(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(ya.d)((function(e){var t=function(){e(Object(me.f)(!0))},n=function(){e(Object(me.f)(!1))};return window.addEventListener("online",t),window.addEventListener("offline",n),function(){window.removeEventListener("online",t),window.removeEventListener("offline",n)}})));case 1:case"end":return e.stop()}}),Bh)}function Gh(){var e,t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Da.c)(Fh);case 3:e=n.sent;case 4:return n.next=7,Object(Da.k)(e);case 7:return t=n.sent,n.next=10,Object(Da.g)(t);case 10:n.next=4;break;case 12:n.next=17;break;case 14:n.prev=14,n.t0=n.catch(0),console.error(n.t0);case 17:return n.prev=17,e&&e.close(),n.finish(17);case 20:case"end":return n.stop()}}),Uh,null,[[0,14,17,20]])}var zh=a.a.mark(Wh);function Vh(){return Object(ya.d)((function(e){var t=Object(H.b)();if(!t)return ht.a;var n=function(){var t=document.visibilityState;"hidden"===t&&e({type:cc.b}),"visible"===t&&e({type:cc.a})};return t.document.addEventListener("visibilitychange",n),function(){t.document.removeEventListener("visibilitychange",n)}}))}function Wh(){var e,t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Da.c)(Vh);case 3:e=n.sent;case 4:return n.next=7,Object(Da.k)(e);case 7:return t=n.sent,n.next=10,Object(Da.g)(t);case 10:n.next=4;break;case 12:n.next=17;break;case 14:n.prev=14,n.t0=n.catch(0),console.error(n.t0);case 17:return n.prev=17,e&&e.close(),n.finish(17);case 20:case"end":return n.stop()}}),zh,null,[[0,14,17,20]])}var Hh=a.a.mark($h),Kh=a.a.mark(Xh),Yh=a.a.mark(qh);function $h(e){var t,n,r,c;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,n=t.ssoId,r=t.conversationId,c=t.messageId,a.prev=1,a.next=4,Q({ssoId:n,conversationId:r,messageId:c});case 4:return a.next=6,Object(Da.g)({type:cc.e});case 6:return a.next=8,Object(Da.g)({type:Ra.c});case 8:e.promise&&e.promise.resolve(),a.next=16;break;case 11:return a.prev=11,a.t0=a.catch(1),a.next=15,Object(Da.g)({type:cc.c});case 15:e.promise&&e.promise.reject();case 16:case"end":return a.stop()}}),Hh,null,[[1,11]])}function Xh(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.l)(cc.d,$h);case 2:case"end":return e.stop()}}),Kh)}function qh(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.b)([Object(Da.f)(Xh)]);case 2:case"end":return e.stop()}}),Yh)}var Jh=a.a.mark(rg),Qh=a.a.mark(ag),Zh=a.a.mark(cg),eg=a.a.mark(og),tg=a.a.mark(ig),ng=!0;function rg(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,Object(Da.k)(BO.a);case 4:return e.next=6,Object(Da.g)({type:BO.b});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:e.next=0;break;case 13:case"end":return e.stop()}}),Jh,null,[[1,8]])}function ag(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,Object(Da.k)(BO.c);case 4:return e.next=6,Object(Da.g)({type:BO.d});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:e.next=0;break;case 13:case"end":return e.stop()}}),Qh,null,[[1,8]])}function cg(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ng=!1,t.next=3,Object(Da.g)(Object(me.a)({ssoId:M.a.getAutoLoginSSOId(D.a.getCustomizationConfig(e))})());case 3:case"end":return t.stop()}}),Zh)}function og(){var e,t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Da.k)(Ra.b);case 3:if(e=n.sent,t=e.payload.applicationConfig,!Object(G.E)()){n.next=7;break}return n.abrupt("return");case 7:if(ng&&X(t)){n.next=11;break}return n.next=10,Object(Da.f)(ag);case 10:return n.abrupt("return");case 11:return n.next=13,Object(Da.k)(BO.c);case 13:return n.next=15,Object(Da.c)(cg,t);case 15:return n.next=17,Object(Da.k)(cc.c);case 17:return n.next=19,Object(Da.f)(ag);case 19:return n.next=21,Object(Da.g)({type:BO.c});case 21:n.next=26;break;case 23:n.prev=23,n.t0=n.catch(0),console.error(n.t0);case 26:case"end":return n.stop()}}),eg,null,[[0,23]])}function ig(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.b)([Object(Da.f)(og),Object(Da.f)(rg)]);case 2:case"end":return e.stop()}}),tg)}var sg=n(168);function ug(e){return{type:sg.b,payload:{promptId:e}}}var dg=n(382),lg=a.a.mark(bg),fg=a.a.mark(pg);function bg(e){var t,n,r,c,s,u,d;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload,n=t.type,r=t.buttonId,c=t.promptId,a.next=7,Object(Da.i)(Nn.d);case 7:if(s=a.sent,u=Co()(s,(function(e){return e.id===c}))){a.next=11;break}return a.abrupt("return");case 11:return a.next=13,Object(Da.g)(ug(c));case 13:if(d=Co()(u.buttons,(function(e){return e.id===r})),n===Br||d&&d.value===Dr){a.next=17;break}return a.next=17,Object(Da.g)(Object(dg.a)({initialMessages:xo()([].concat(Object(i.a)(en()(u.messages,(function(e){return{message:e.text}}))),[d?{isSentByUser:!0,message:d.label}:void 0])),createCase:!!x()(u.additional,"createCase"),additional:Object(o.a)(Object(o.a)({},ll()(u.additional,["interceptId"])),{},{interceptTargetId:r})}));case 17:Object(l.a)({type:Av.F,payload:{type:n,id:c,button:d}}),a.next=23;break;case 20:a.prev=20,a.t0=a.catch(0),console.error(a.t0);case 23:case"end":return a.stop()}}),lg,null,[[0,20]])}function pg(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.l)("@chatPrompt/PROMPT_ACTION_TRIGGER",bg);case 2:case"end":return e.stop()}}),fg)}var Og=a.a.mark(mg),vg=a.a.mark(xg),hg=a.a.mark(yg),gg=a.a.mark(Ig),jg=a.a.mark(wg);function mg(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Da.c)(ca.remove);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(Oe.f)(e.t0)?console.warn(e.t0):console.error(e.t0);case 8:case"end":return e.stop()}}),Og,null,[[0,5]])}function xg(e){var t,n,r,c;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload.state,n=t.conversationId,r=t.messageId,c=t.agentId,a.next=4,Object(Da.c)(ca.set,JSON.stringify({conversationId:n,messageId:r,agentId:c}));case 4:a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),Object(Oe.f)(a.t0)?console.warn(a.t0):console.error(a.t0);case 9:case"end":return a.stop()}}),vg,null,[[0,6]])}function yg(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.l)([Mi.f,Mi.g],mg);case 2:case"end":return e.stop()}}),hg)}function Ig(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.l)(Mi.i,xg);case 2:case"end":return e.stop()}}),gg)}function wg(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.b)([Object(Da.f)(yg),Object(Da.f)(Ig)]);case 2:case"end":return e.stop()}}),jg)}var Cg=function(){var e=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe(Object(H.a)());case 2:return t=e.sent,re(t),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Tg=a.a.mark(_g),Eg=a.a.mark(Ag),kg=a.a.mark(Ng),Sg=a.a.mark(Rg);function _g(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.b)([Object(Da.f)(uO),Object(Da.f)(pg),Object(Da.f)(_v),Object(Da.f)(Bv),Object(Da.f)(gh),Object(Da.f)(Gh),Object(Da.f)(Wh),Object(Da.f)(yh),Object(Da.f)(Mh),Object(Da.f)(ig),Object(Da.f)(qh),Object(Da.f)(EO),Object(Da.f)(wg)]);case 2:case"end":return e.stop()}}),Tg)}function Ag(){var e;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Cg();case 3:return e=t.sent,Ug(e),t.next=7,Object(Da.g)(Object(me.d)());case 7:if(!Object(G.F)()){t.next=10;break}return t.next=10,Object(Da.g)({type:BO.c});case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),Object(Oe.f)(t.t0)?console.warn(t.t0):console.error(t.t0);case 15:case"end":return t.stop()}}),Eg,null,[[0,12]])}function Ng(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.l)(Ra.c,Ag);case 2:case"end":return e.stop()}}),kg)}function Rg(){var e;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Da.f)(Ng);case 2:return t.prev=3,t.next=6,Object(Da.f)(_g);case 6:return e=t.sent,t.next=9,Object(Da.k)(Ra.a);case 9:return t.next=11,Object(Da.d)(e);case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),console.error(t.t0);case 16:t.next=2;break;case 18:case"end":return t.stop()}}),Sg,null,[[3,13]])}var Pg=a.a.mark(Lg);function Lg(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Da.b)([Object(Da.f)(mp),Object(Da.f)(Rg)]);case 2:case"end":return e.stop()}}),Pg)}var Dg,Mg=new La,Bg=function(e,t,n){return Mg.setReducer(Nn.a).setSaga(Lg).setHTTPClient(C.a).setApplicationConfig(e).setHandshakeDetails(t).setChatSettings(n).build()},Ug=function(e,t){return Mg.setHandshakeDetails(e).setChatSettings(t).rebuild()},Fg=n(709),Gg=n.n(Fg),zg=n(202),Vg=n.n(zg),Wg=n(182),Hg="".concat('-apple-system, BlinkMacSystemFont, Roboto, "Segoe UI"',", ").concat('"Noto Sans", "Helvetica Neue", Helvetica, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"'),Kg={xxxs:"10px",xxs:"11px",xs:"12px",sm:"13px",md:"14px",lg:"16px",xl:"18px",xxl:"24px",xxxl:"26px",xxxxl:"30px",xxxxxl:"32px"},Yg=function(e){return Object(o.a)(Object(o.a)({},e),{},{fontSizes:Eo()({},Kg,x()(e,"fontSizes"))})},$g=function(e){return Object(o.a)(Object(o.a)({},e),{},{htmlFontSize:x()(e,"htmlFontSize",10)})},Xg=function(e){return Object(o.a)(Object(o.a)({},e),{},{clientFontSize:x()(e,"clientFontSize",16)})},qg=function(e){var t=e.fontFamilies,n=LO()(t,(function(e){return!!e.default})).map((function(e){return e.name})).join(","),r=e.fallbackFontFamilies?e.fallbackFontFamilies.join(","):"";return Object(o.a)(Object(o.a)({},e),{},{fontFamily:"".concat(n?"".concat(n,", "):"").concat(r?"".concat(r,", "):"").concat(Hg)})},Jg=function(e){return Object(o.a)(Object(o.a)({},e),{},{h1:{fontSize:e.fontSizes.xxxxl},h2:{fontSize:e.fontSizes.lg},h3:{fontSize:e.fontSizes.md},h4:{fontSize:e.fontSizes.md},b1:{fontSize:e.fontSizes.sm},b2:{fontSize:e.fontSizes.xs},b3:{fontSize:e.fontSizes.xs}})},Qg=n(188),Zg=n(234),ej=(Dg={},Object(s.a)(Dg,Zg.a.CROSS,{height:14,width:14}),Object(s.a)(Dg,Zg.a.CHEVRON,{height:18,width:18}),Dg),tj=Zg.a.CROSS;function nj(e){return Object(dt.e)(e)||Object(dt.d)(e)?e:Wg.b.charcoal}var rj=Zg.a.CHEVRON;function aj(e){return Object(dt.e)(e)||Object(dt.d)(e)?e:Wg.b.charcoal}var cj,oj,ij=(cj={},Object(s.a)(cj,Qg.a,(function(e){var t,n=e.colors,r=e.typography,a=r.fontSizes,c=r.fontFamily,o=e.styles,i=Object(dt.b)(n.primary),u=Object(dt.g)(.1,n.primary,n.white),d=Object(dt.c)(n.primary),l=nj(n.primary),f=function(e){var t=nj(e);return t?Object(dt.l)(Object(dt.d)(t)?.95:.85,t):""}(n.primary),b=x()(o,"chatConversation.body.backgroundColor",n.white),p=Object(dt.c)(b),O=Object(Ke.e)("trigger.closeIcon.type")({theme:e})||tj,v=x()(o,"chatMessage.secondary.backgroundColor",n.azure);return{frame:{borderRadius:"8px",height:"600px",width:380,zIndex:2147483001,translateZ:1e5},call:{height:"240px",width:"360px",card:{appointmentBlock:{borderRadius:20,background:"linear-gradient(107deg, rgba(216, 201, 255, 0.25) 1%, rgba(213, 230, 255, 0.3))",paddingTop:12,paddingBottom:12,paddingLeft:20,paddingRight:20,marginTop:16,button:{size:_r.a.MEDIUM,variant:_r.b.PRIMARY,overrides:{marginTop:18}}}}},body:{backgroundColor:n.white,color:d,fontFamily:c,fontSize:"1.2rem",lineHeight:1.4,gradients:x()(o,"header.gradients","linear-gradient(64deg, ".concat(Object(Fn.b)(n.primary).join(","),")"))},page:{backgroundColor:Object(dt.g)(.5,Object(dt.l)(.85,n.charcoal),Object(dt.l)(.95,n.primary))},button:{standard:(t={default:{display:"flex",justifyContent:"center",alignItems:"center",fontWeight:600,textAlign:"center"}},Object(s.a)(t,_r.b.PRIMARY,{backgroundColor:n.primary,borderColor:n.primary,color:d,fill:d,":hover":{backgroundColor:"".concat(i),borderColor:"".concat(i)},":disabled":{backgroundColor:n.primary,borderColor:n.primary},":selected":{backgroundColor:n.primary,borderColor:n.primary}}),Object(s.a)(t,_r.b.SECONDARY,{backgroundColor:n.white,borderColor:n.white,color:n.charcoal,fill:n.charcoal,":disabled":{color:n.ash},":selected":{backgroundColor:n.primary,borderColor:n.primary,color:d,fill:d}}),Object(s.a)(t,_r.b.TERTIARY,{backgroundColor:n.white,borderColor:n.primary,color:n.primary,fill:n.primary,":hover":{backgroundColor:"".concat(u)},":disabled":{backgroundColor:n.white},":selected":{backgroundColor:"#555555",borderColor:"#555555",color:n.white,fill:n.white}}),Object(s.a)(t,_r.a.LARGE,{minHeight:36,minWidth:88,paddingTop:8,paddingLeft:24,paddingBottom:8,paddingRight:24,borderRadius:18,fontSize:a.md}),Object(s.a)(t,_r.a.MEDIUM,{minHeight:32,minWidth:72,paddingTop:4,paddingLeft:16,paddingBottom:4,paddingRight:16,borderRadius:16,fontSize:a.xs}),t)},card:{backgroundColor:n.white,borderRadius:"4px",lg:{paddingTop:24,paddingRight:20,paddingBottom:24,paddingLeft:20,title:{paddingTop:0,paddingRight:36,paddingBottom:0,paddingLeft:36,fontSize:a.lg,fontWeight:600,gutterWidth:20,textAlign:"center",color:n.charcoal}},sm:{paddingTop:24,paddingRight:20,paddingBottom:24,paddingLeft:20,title:{paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,fontSize:a.lg,fontWeight:500,gutterWidth:20,textAlign:"left",color:n.charcoal}},newConversation:{hand:{backgroundColor:"#FFEDF1"}},existingConversation:{header:{paddingTop:16,paddingRight:16,paddingBottom:0,paddingLeft:16,fontWeight:600,fontSize:a.lg,color:n.charcoal},summaryCard:{paddingTop:16,paddingRight:16,paddingBottom:16,paddingLeft:16},hoverStyles:{backgroundColor:n.water}}},notification:{color:n.white,backgroundColor:n.blue},actionDialog:{minWidth:"200",maxWidth:"300",borderRadius:"4",actionItem:{fontWeight:"normal",fontSize:a.sm,paddingTop:"8",paddingRight:"16",paddingBottom:"8",paddingLeft:"16"}},confirmationBox:{backgroundColor:n.white,borderRadius:"8px",maxWidth:"316",margin:"28",paddingTop:"20",paddingRight:"20",paddingBottom:"20",paddingLeft:"20",header:{paddingBottom:"10",title:{fontSize:"16",fontWeight:"600"},iconButton:{icon:{height:"14",width:"14"},button:{height:"24",width:"24"}}},description:{fontSize:"13",paddingBottom:"24",minHeight:"0"},buttonGroup:{align:"end",size:"lg",gutterWidth:"12"}},chatMessage:{maxWidth:"220px",borderRadius:"4px",paddingTop:"12px",paddingRight:"12px",paddingBottom:"12px",paddingLeft:"12px",primary:{backgroundColor:n.primary,borderColor:n.primary,color:d},secondary:{backgroundColor:v,borderColor:n.azure,color:n.charcoal},sender:{height:"32",width:"32",align:"bottom",gutterWidth:"12"},timeStamp:{align:"vertical"},attachment:{card:{title:{color:n.charcoal,fontWeight:700,textAlign:"center",fontSize:a.sm,paddingTop:20,paddingBottom:0,paddingLeft:8,paddingRight:8},description:{fontSize:a.sm},color:n.charcoal,paddingTop:0,paddingLeft:0,paddingRight:0,paddingBottom:6,titleAndDescriptionGutterWidth:16,contentAndButtonGutterWidth:16,buttonGroupGutterWidth:6,button:{size:_r.a.LARGE,variant:_r.b.SECONDARY,overrides:{paddingTop:4,paddingBottom:4,paddingLeft:4,paddingRight:4,marginTop:0,marginLeft:6,marginRight:6,marginBottom:0,borderRadius:10}}},form:{title:{color:n.charcoal,alignSelf:"center",fontWeight:600,textAlign:"center",fontSize:a.sm},paddingTop:20,paddingBottom:20,paddingLeft:12,paddingRight:12,titleAndFieldsGutterWidth:20,fieldGroupGutterWidth:20,buttonAndFieldsGutterWidth:8,button:{size:_r.a.MEDIUM,variant:_r.b.PRIMARY}},appointment:{paddingTop:12,paddingBottom:12,paddingLeft:12,paddingRight:12,title:{fontSize:13,marginBottom:8},selectedDate:{marginBottom:8},timeSlots:{marginBottom:12,button:{size:_r.a.MEDIUM,variant:_r.b.SECONDARY}},calendar:{marginBottom:8,paddingTop:10,paddingBottom:10,paddingLeft:4,paddingRight:4,borderRadius:8,weekdays:{borderBottomColor:n.azure,fontWeight:400},date:{width:24,height:24,backgroundColor:n.white,marginTop:10,borderRadius:12,disabledStyles:{color:n.ash},selectedStyles:{backgroundColor:n.primary,color:n.white},neighboringMonth:{color:n.anchor}}}}}},chatConversation:{body:{backgroundColor:n.white,backgroundUrl:""},dateBubble:{color:p,backgroundColor:b,borderRadius:"20px",boxShadow:"0 2px 8px 0 rgba(10, 10, 20, 0.2)"},quickReply:{color:n.primary,borderColor:n.primary,borderRadius:"4px",backgroundColor:d,":hover":{color:d,backgroundColor:n.primary}},faq:{paddingTop:8,paddingRight:24,paddingBottom:14,paddingLeft:24,borderTopWidth:1,borderTopColor:n.azure,option:{fontSize:a.md,paddingTop:16,paddingBottom:16,fontWeight:500,color:n.charcoal,borderBottomWidth:1,borderBottomColor:n.silver}},footer:{marginTop:0,marginRight:0,marginBottom:0,marginLeft:0,chatMessageComposer:{borderRadius:"0 0 8px 8px",paddingTop:"18px",paddingRight:"24px",paddingBottom:"18px",paddingLeft:"24px",fontSize:a.md,backgroundColor:n.white,placeholder:{color:n.fossil},disabledStyles:{backgroundColor:v},button:{default:{fontSize:a.md},primary:{color:n.blue}},iconButton:{default:{button:{height:"36px",width:"36px"},icon:{height:"20px",width:"20px"}},primary:{button:{},icon:{fill:n.primary}},secondary:{button:{},icon:{fill:n.fossil,hoverStyles:{fill:n.primary}}}}},actions:{iconButton:{default:{button:{height:28,width:28,marginRight:8,borderRadius:20,backgroundColor:n.blue},icon:{height:16,width:16,fill:n.white}}}}}},snackBar:{paddingTop:8,paddingRight:16,paddingBottom:8,paddingLeft:16,backgroundColor:n.charcoal,borderRadius:4},errorScreen:{icon:{height:40,width:40,fill:n.red},label:{fontSize:a.md,fontWeight:600,minHeight:0},button:{marginTop:32}},header:{backgroundColor:n.primary,buttonGroupGutterWidth:"0",color:d,minHeight:"72px",paddingTop:"0px",paddingRight:"15px",paddingBottom:"0px",paddingLeft:"15px",title:{fontWeight:"500",fontSize:a.md,color:d},description:{fontSize:a.xs,color:Object(dt.i)(d,.6)},icon:{fill:d,height:"14",width:"14",hoverStyles:{fill:d}},button:{width:"40",height:"40",backgroundColor:"transparent",hoverStyles:{backgroundColor:i}},lg:{paddingTop:28,paddingBottom:0,paddingLeft:28,paddingRight:28,logo:{marginBottom:20,height:32},title:{fontWeight:300,fontSize:a.xxxxl},description:{marginTop:8,marginBottom:0,marginRight:0,marginLeft:0,fontWeight:400,fontSize:a.lg}}},chatMessageComposer:{borderColor:n.primary,placeholderColor:n.fossil},input:{default:{borderColor:n.ash,fontSize:a.xs,paddingTop:0,paddingBottom:0,paddingLeft:8,paddingRight:8,minHeight:32,borderRadius:4,backgroundColor:n.white,color:n.charcoal,placeholderColor:n.fossil,hoverStyles:{borderColor:n.fossil},focusStyles:{borderColor:n.primary},errorStyles:{borderColor:n.red}},textArea:{paddingTop:8,paddingBottom:8,minHeight:64},selectBox:{optionsList:{paddingTop:4,paddingBottom:4,maxHeight:140},chevron:{height:10,width:10,fill:n.fossil},option:{borderLeftWidth:2,borderLeftColor:"transparent",paddingLeft:12,paddingRight:12,paddingTop:8,paddingBottom:8,hoverStyles:{backgroundColor:f},selectedStyles:{fontWeight:600,backgroundColor:f,borderLeftWidth:2,borderLeftColor:l}}},phoneInput:{countrySelectBox:{width:50,backgroundColor:n.water,hoverStyles:{backgroundColor:n.azure},focusStyles:{backgroundColor:n.azure},selectedStyles:{backgroundColor:n.azure}}},checkboxGroup:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0,checkboxesGutterWidth:12,backgroundColor:n.azure,checkbox:{width:14,height:14,borderRadius:1,boxAndOptionGutterWidth:8,selectedStyles:{fill:n.primary,borderColor:n.primary,backgroundColor:n.primary}},option:{fontSize:a.xs,color:n.charcoal}}},inputLabel:{fontSize:a.xs,fontWeight:500,color:n.anchor,labelAndInputGutterWidth:4,errorColor:n.anchor,activeColor:n.anchor},trigger:{align:"right",backgroundColor:n.primary,borderWidth:1,borderColor:n.primary,backgroundHoverColor:i,size:60,boxShadow:"0px 1px 6px 0px rgba(0, 0, 0, 0.09), 0px 2px 32px 0px rgba(0, 0, 0, 0.15)",overlayIconButton:{button:{height:24,width:24},icon:{height:12,width:12},fontSize:a.xs},removeIcon:{backgroundColor:n.charcoal,fill:n.white},icon:{type:"mic",color:d,height:26,width:26},closeIcon:{type:O,color:d,height:ej[O].height,width:ej[O].width}},link:{color:x()(o,["link","color"],"#007bff")},proactivePrompt:{maxWidth:304,paddingTop:0,paddingLeft:8,paddingBottom:0,paddingRight:8,direction:"column",removeIconButton:{marginBottom:12,marginTop:0,marginLeft:0,marginRight:0,button:{height:28,width:28,backgroundColor:Object(dt.i)(n.charcoal,.6)},icon:{height:8,width:8}},message:{boxShadow:"0px 2px 8px 0px rgba(35, 47, 53, 0.2)",borderRadius:10,paddingTop:20,paddingLeft:20,paddingBottom:20,paddingRight:20,fontSize:a.md},replyBox:{boxShadow:"0px 2px 8px 0px rgba(35, 47, 53, 0.09)"},button:{boxShadow:"0px 2px 8px 0px rgba(35, 47, 53, 0.09)"}}}})),Object(s.a)(cj,Qg.b,(function(e){var t,n=e.colors,r=e.typography,a=r.fontSizes,c=r.fontFamily,o=e.styles,i=Object(dt.b)(n.primary),u=Object(dt.g)(.1,n.primary,n.white),d=Object(dt.c)(n.primary),l=aj(n.primary),f=function(e){var t=aj(e);return t?Object(dt.l)(Object(dt.d)(t)?.95:.85,t):""}(n.primary),b=x()(o,"chatConversation.body.backgroundColor",n.white),p=Object(dt.c)(b),O=Object(Ke.e)("trigger.closeIcon.type")({theme:e})||rj,v=x()(o,"chatMessage.secondary.backgroundColor",n.azure);return{frame:{borderRadius:"16px",height:"700px",width:380,zIndex:2147483001,translateZ:1e5},call:{height:"240px",width:"360px",card:{appointmentBlock:{borderRadius:20,background:"linear-gradient(107deg, rgba(216, 201, 255, 0.25) 1%, rgba(213, 230, 255, 0.3))",paddingTop:12,paddingBottom:12,paddingLeft:20,paddingRight:20,marginTop:16,button:{size:_r.a.MEDIUM,variant:_r.b.PRIMARY,overrides:{marginTop:18}}}}},body:{backgroundColor:n.white,color:d,fontFamily:c,fontSize:"1.2rem",lineHeight:1.4,gradients:x()(o,"header.gradients","linear-gradient(64deg, ".concat(Object(Fn.b)(n.primary).join(","),")"))},page:{backgroundColor:Object(dt.g)(.5,Object(dt.l)(.85,n.charcoal),Object(dt.l)(.95,n.primary))},button:{standard:(t={default:{display:"flex",justifyContent:"center",alignItems:"center",fontWeight:600,textAlign:"center"}},Object(s.a)(t,_r.b.PRIMARY,{backgroundColor:n.primary,borderColor:n.primary,color:d,fill:d,":hover":{backgroundColor:"".concat(i),borderColor:"".concat(i)},":disabled":{backgroundColor:n.primary,borderColor:n.primary},":selected":{backgroundColor:n.primary,borderColor:n.primary}}),Object(s.a)(t,_r.b.SECONDARY,{backgroundColor:n.white,borderColor:n.white,color:n.charcoal,fill:n.charcoal,":disabled":{color:n.ash},":selected":{backgroundColor:n.primary,borderColor:n.primary,color:d,fill:d}}),Object(s.a)(t,_r.b.TERTIARY,{backgroundColor:n.white,borderColor:n.primary,color:n.primary,fill:n.primary,":hover":{backgroundColor:"".concat(u)},":disabled":{backgroundColor:n.white},":selected":{backgroundColor:"#555555",borderColor:"#555555",color:n.white,fill:n.white}}),Object(s.a)(t,_r.a.LARGE,{minHeight:36,minWidth:88,paddingTop:8,paddingLeft:24,paddingBottom:8,paddingRight:24,borderRadius:10,fontSize:a.md}),Object(s.a)(t,_r.a.MEDIUM,{minHeight:32,minWidth:72,paddingTop:4,paddingLeft:16,paddingBottom:4,paddingRight:16,borderRadius:8,fontSize:a.xs}),t)},card:{backgroundColor:n.white,borderRadius:"10px",boxShadow:"0px 2px 15px 0px rgba(0, 0, 0, 0.15)",lg:{paddingTop:20,paddingRight:20,paddingBottom:20,paddingLeft:20,title:{paddingTop:20,paddingRight:10,paddingBottom:0,paddingLeft:10,fontSize:a.xxl,fontWeight:600,gutterWidth:42,textAlign:"left",color:n.charcoal}},sm:{paddingTop:20,paddingRight:20,paddingBottom:20,paddingLeft:20,title:{paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,fontSize:a.lg,fontWeight:600,gutterWidth:16,textAlign:"left",color:n.charcoal}},newConversation:{hand:{backgroundColor:"#FFEDF1"}},existingConversation:{header:{paddingTop:20,paddingRight:12,paddingBottom:12,paddingLeft:20,fontSize:a.lg,fontWeight:600,color:n.charcoal},summaryCard:{paddingTop:12,paddingRight:12,paddingBottom:12,paddingLeft:20},hoverStyles:{backgroundColor:n.water}}},notification:{color:n.white,backgroundColor:n.red},actionDialog:{minWidth:"200",maxWidth:"300",borderRadius:"4",actionItem:{fontSize:a.sm,fontWeight:"normal",paddingTop:"8",paddingRight:"16",paddingBottom:"8",paddingLeft:"16"}},confirmationBox:{backgroundColor:n.white,borderRadius:"8px",maxWidth:"316",margin:"28",paddingTop:"20",paddingRight:"20",paddingBottom:"20",paddingLeft:"20",header:{paddingBottom:"10",title:{fontSize:"16",fontWeight:600},iconButton:{icon:{height:"14",width:"14"},button:{height:"24",width:"24"}}},description:{fontSize:"13",paddingBottom:"24",minHeight:"0"},buttonGroup:{align:"end",size:"md",gutterWidth:"12"}},chatMessage:{maxWidth:"220px",borderRadius:"10px",paddingTop:"12px",paddingRight:"12px",paddingBottom:"12px",paddingLeft:"12px",primary:{backgroundColor:n.primary,borderColor:n.primary,color:d},secondary:{backgroundColor:v,borderColor:n.azure,color:n.charcoal},sender:{height:"32",width:"32",align:"bottom",gutterWidth:"12"},timeStamp:{align:"vertical"},attachment:{card:{title:{color:n.charcoal,fontWeight:700,textAlign:"center",fontSize:a.sm,paddingTop:20,paddingBottom:0,paddingLeft:8,paddingRight:8},description:{fontSize:a.sm},color:n.charcoal,paddingTop:0,paddingLeft:0,paddingRight:0,paddingBottom:6,titleAndDescriptionGutterWidth:16,contentAndButtonGutterWidth:16,buttonGroupGutterWidth:6,button:{size:_r.a.LARGE,variant:_r.b.SECONDARY,overrides:{paddingTop:4,paddingBottom:4,paddingLeft:4,paddingRight:4,marginTop:0,marginLeft:6,marginRight:6,marginBottom:0,borderRadius:10}}},form:{title:{color:n.charcoal,alignSelf:"center",fontWeight:600,textAlign:"left",fontSize:a.sm},paddingTop:16,paddingBottom:20,paddingLeft:12,paddingRight:12,titleAndFieldsGutterWidth:20,fieldGroupGutterWidth:16,buttonAndFieldsGutterWidth:4,button:{size:_r.a.MEDIUM,variant:_r.b.PRIMARY}},appointment:{paddingTop:12,paddingBottom:12,paddingLeft:12,paddingRight:12,title:{fontSize:13,marginBottom:8},selectedDate:{marginBottom:8},timeSlots:{marginBottom:12,button:{size:_r.a.MEDIUM,variant:_r.b.SECONDARY}},calendar:{marginBottom:8,paddingTop:10,paddingBottom:10,paddingLeft:4,paddingRight:4,borderRadius:8,weekdays:{borderBottomColor:n.azure,fontWeight:400},date:{width:24,height:24,backgroundColor:n.white,marginTop:10,borderRadius:12,disabledStyles:{color:n.ash},selectedStyles:{backgroundColor:n.primary,color:n.white},neighboringMonth:{color:n.anchor}}}}}},chatConversation:{body:{backgroundColor:n.white,backgroundUrl:""},dateBubble:{color:p,backgroundColor:b,borderRadius:"14px",boxShadow:"0px 0px 6px 0px rgba(0, 0, 0, 0.15)"},quickReply:{color:n.primary,borderColor:n.primary,borderRadius:"10px",backgroundColor:d,":hover":{color:d,backgroundColor:n.primary}},faq:{paddingTop:8,paddingRight:24,paddingBottom:14,paddingLeft:24,borderTopWidth:1,borderTopColor:n.azure,option:{fontSize:a.md,paddingTop:16,paddingBottom:16,fontWeight:500,color:n.charcoal,borderBottomWidth:1,borderBottomColor:n.silver}},footer:{marginTop:0,marginRight:0,marginBottom:0,marginLeft:0,chatMessageComposer:{borderRadius:"0 0 8px 8px",paddingTop:"18px",paddingRight:"24px",paddingBottom:"18px",paddingLeft:"24px",fontSize:a.md,backgroundColor:n.white,placeholder:{color:n.fossil},disabledStyles:{backgroundColor:v},button:{default:{fontSize:a.md},primary:{color:n.blue}},iconButton:{default:{button:{height:"36px",width:"36px"},icon:{height:"20px",width:"20px"}},primary:{button:{},icon:{fill:n.primary}},secondary:{button:{},icon:{fill:n.fossil,hoverStyles:{fill:n.primary}}}}},actions:{iconButton:{default:{button:{height:28,width:28,marginRight:8,borderRadius:20,backgroundColor:n.blue},icon:{height:16,width:16,fill:n.white}}}}}},snackBar:{paddingTop:8,paddingRight:16,paddingBottom:8,paddingLeft:16,backgroundColor:n.charcoal,borderRadius:4},errorScreen:{icon:{height:40,width:40,fill:n.red},label:{fontSize:a.md,fontWeight:600,minHeight:0},button:{marginTop:32}},header:{backgroundColor:n.primary,buttonGroupGutterWidth:"0",color:d,minHeight:"72px",paddingTop:"0px",paddingRight:"15px",paddingBottom:"0px",paddingLeft:"15px",title:{fontWeight:"500",fontSize:a.md,color:d},description:{fontSize:a.xs,color:Object(dt.i)(d,.6)},icon:{fill:d,height:"14",width:"14",hoverStyles:{fill:d}},button:{width:"40",height:"40",backgroundColor:"transparent",hoverStyles:{backgroundColor:i}},lg:{paddingTop:28,paddingBottom:20,paddingLeft:24,paddingRight:24,logo:{marginBottom:12,marginTop:0,marginLeft:0,marginRight:0,height:26},title:{fontWeight:500,fontSize:a.xxxl},description:{marginTop:4,marginBottom:0,marginRight:0,marginLeft:0,fontWeight:400,fontSize:a.lg}}},chatMessageComposer:{borderColor:n.primary,placeholderColor:n.fossil},input:{default:{fontSize:a.xs,paddingTop:0,paddingBottom:0,paddingLeft:8,paddingRight:8,minHeight:32,color:n.charcoal,backgroundColor:n.white,borderRadius:8,borderColor:n.ash,placeholderColor:n.fossil,hoverStyles:{borderColor:n.fossil},focusStyles:{borderColor:n.primary},errorStyles:{borderColor:n.red}},textArea:{paddingTop:8,paddingBottom:8,minHeight:64},selectBox:{optionsList:{paddingTop:4,paddingBottom:4,maxHeight:140},chevron:{height:10,width:10,fill:n.fossil},option:{borderLeftWidth:2,borderLeftColor:"transparent",paddingLeft:12,paddingRight:12,paddingTop:8,paddingBottom:8,hoverStyles:{backgroundColor:f},selectedStyles:{fontWeight:600,backgroundColor:f,borderLeftWidth:2,borderLeftColor:l}}},phoneInput:{countrySelectBox:{width:50,backgroundColor:n.water,hoverStyles:{backgroundColor:n.azure},focusStyles:{backgroundColor:n.azure},selectedStyles:{backgroundColor:n.azure}}},checkboxGroup:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0,checkboxesGutterWidth:12,backgroundColor:n.azure,checkbox:{width:14,height:14,borderRadius:1,boxAndOptionGutterWidth:8,selectedStyles:{fill:n.primary,borderColor:n.primary,backgroundColor:n.primary}},option:{fontSize:a.xs,color:n.charcoal}}},inputLabel:{fontSize:a.xs,fontWeight:500,color:n.anchor,labelAndInputGutterWidth:4,errorColor:n.anchor,activeColor:n.anchor},trigger:{align:"right",backgroundColor:n.primary,borderWidth:1,borderColor:n.primary,backgroundHoverColor:i,size:60,boxShadow:"0px 1px 6px 0px rgba(0, 0, 0, 0.09), 0px 2px 32px 0px rgba(0, 0, 0, 0.15)",overlayIconButton:{button:{height:24,width:24},icon:{height:12,width:12},fontSize:a.xs},removeIcon:{backgroundColor:n.charcoal,fill:n.white},icon:{type:"mic",color:d,height:26,width:26},closeIcon:{type:O,color:d,height:ej[O].height,width:ej[O].width}},link:{color:x()(o,["link","color"],"#007bff")},proactivePrompt:{maxWidth:304,paddingTop:0,paddingLeft:8,paddingBottom:0,paddingRight:8,direction:"column",removeIconButton:{marginBottom:12,marginTop:0,marginLeft:0,marginRight:0,button:{height:28,width:28,backgroundColor:Object(dt.i)(n.charcoal,.6)},icon:{height:8,width:8}},message:{boxShadow:"0px 2px 8px 0px rgba(35, 47, 53, 0.2)",borderRadius:10,paddingTop:20,paddingLeft:20,paddingBottom:20,paddingRight:20,fontSize:a.md},replyBox:{boxShadow:"0px 2px 8px 0px rgba(35, 47, 53, 0.09)"},button:{boxShadow:"0px 2px 8px 0px rgba(35, 47, 53, 0.09)"}}}})),cj),sj=function(e){var t=Object(G.t)();return ij[t](e)},uj={field:"userInfo.deviceType",fieldType:"EQUALS",values:["MOBILE"]},dj=(oj={},Object(s.a)(oj,Qg.a,(function(e){var t,n=e.typography.fontSizes;return{button:{standard:(t={},Object(s.a)(t,_r.a.LARGE,{filters:[{value:{fontSize:n.lg},filter:uj}]}),Object(s.a)(t,_r.a.MEDIUM,{filters:[{value:{fontSize:n.sm},filter:uj}]}),t)},chatMessage:{attachment:{card:{title:{filters:[{value:{fontSize:n.lg},filter:uj}]},description:{filters:[{value:{fontSize:n.lg},filter:uj}]}},form:{title:{filters:[{value:{fontSize:n.lg},filter:uj}]}}}},input:{default:{filters:[{value:{fontSize:n.md},filter:uj}]},checkboxGroup:{option:{filters:[{value:{fontSize:n.md},filter:uj}]}}},inputLabel:{filters:[{value:{fontSize:n.md},filter:uj}]},chatConversation:{footer:{chatMessageComposer:{filters:[{value:{fontSize:n.lg},filter:uj}]}},faq:{option:{filters:[{value:{fontSize:n.lg},filter:uj}]}}},actionDialog:{actionItem:{filters:[{value:{fontSize:n.md},filter:uj}]}},errorScreen:{label:{filters:[{value:{fontSize:n.lg},filter:uj}]}},header:{title:{filters:[{value:{fontSize:n.lg},filter:uj}]},description:{filters:[{value:{fontSize:n.md},filter:uj}]},lg:{logo:{filters:[{value:{height:52},filter:uj}]},title:{filters:[{value:{fontSize:n.xxxxxl},filter:uj}]},description:{filters:[{value:{fontSize:n.xl},filter:uj}]}}},card:{lg:{title:{filters:[{value:{fontSize:n.xl},filter:uj}]}},sm:{title:{filters:[{value:{fontSize:n.xl},filter:uj}]}}}}})),Object(s.a)(oj,Qg.b,(function(e){var t,n=e.typography.fontSizes;return{button:{standard:(t={},Object(s.a)(t,_r.a.LARGE,{filters:[{value:{fontSize:n.lg},filter:uj}]}),Object(s.a)(t,_r.a.MEDIUM,{filters:[{value:{fontSize:n.sm},filter:uj}]}),t)},chatMessage:{attachment:{card:{title:{filters:[{value:{fontSize:n.lg},filter:uj}]},description:{filters:[{value:{fontSize:n.lg},filter:uj}]}},form:{title:{filters:[{value:{fontSize:n.lg},filter:uj}]}}}},input:{default:{filters:[{value:{fontSize:n.md},filter:uj}]},checkboxGroup:{option:{filters:[{value:{fontSize:n.md},filter:uj}]}}},inputLabel:{filters:[{value:{fontSize:n.md},filter:uj}]},chatConversation:{footer:{chatMessageComposer:{filters:[{value:{fontSize:n.lg},filter:uj}]}},faq:{option:{filters:[{value:{fontSize:n.lg},filter:uj}]}}},actionDialog:{actionItem:{filters:[{value:{fontSize:n.md},filter:uj}]}},errorScreen:{errorLabel:{filters:[{value:{fontSize:n.lg},filter:uj}]}},header:{title:{filters:[{value:{fontSize:n.lg},filter:uj}]},description:{filters:[{value:{fontSize:n.md},filter:uj}]},lg:{description:{filters:[{value:{fontSize:n.xl},filter:uj}]}}}}})),oj),lj=function(e){var t=Object(G.t)();return dj[t](e)};function fj(e,t){if(!kp()(e)||d()(e))return t;var n=nn()(e);return j()(t,(function(t,r){n[r]=SO()(t)?xo()(Gg()(e[r],t)):fj(e[r],t)})),n}var bj=function(e){return Object(o.a)({},e)},pj=Vg()([function(e){return Object(o.a)(Object(o.a)({},e),{},{colors:Eo()({},Wg.b,e.colors)})},function(e){return Object(o.a)(Object(o.a)({},e),{},{typography:(t=e.typography,Vg()([Yg,$g,Xg,qg,Jg])(t))});var t},function(e){return Object(o.a)(Object(o.a)({},e),{},{styles:Object(Fn.a)(Eo()({},sj(e),e.styles))})},function(e){return Object(o.a)(Object(o.a)({},e),{},{styleFilters:fj(lj(e),e.styleFilters)})}]),Oj=function(e){return Vg()([bj,pj])(e)};function vj(e){var t=e.createElement("div");return t.id="spr-live-chat-app",t.style.width="0",t.style.height="0",e.body.appendChild(t),t}function hj(e){var t=Object(G.b)(),n=t?e.querySelector(t):null,r=e.createElement("div");if(r.id="spr-live-chat-app",r.style.width="100%",r.style.height="100%",r.style.overflow="hidden",t&&!n)throw new Error("Not able to find container HTMLElement for provided selector");return n?n.appendChild(r):e.body.appendChild(r),r}function gj(e){return jj.apply(this,arguments)}function jj(){return(jj=Object(c.a)(a.a.mark((function e(t){var n,r,c,o,i,s,u,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.applicationConfig,r=t.handshakeDetails,c=t.store,o=t.theme,i=t.history,s=Object(H.b)(),u=s.document,d=Object(G.E)()?hj(u):vj(u),je.a.render(Object(xe.jsx)(xa,{applicationConfig:n,handshakeDetails:r,history:i,store:c,theme:o}),d);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mj(e,t){return xj.apply(this,arguments)}function xj(){return(xj=Object(c.a)(a.a.mark((function e(t,n){var r,c,o,i,s,u,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.applicationConfig,c=n.handshakeDetails,o=n.chatSettings,i=Oj(x()(r,"otherConfigs.theme",{})),s=Bg(r,c,o),u=Object(xp.a)({isUnauthorized:!!t}),e.next=6,gj({applicationConfig:r,handshakeDetails:c,store:s,theme:i,history:u});case 6:return d=function(e){t||s.dispatch(e)},e.abrupt("return",d);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yj(){return(yj=Object(c.a)(a.a.mark((function e(){var t,r,c,o,i,s,u,l,b,p,O;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=Object(H.a)(),!d()(t)){e.next=4;break}throw new Error;case 4:return e.next=6,ce(t);case 6:return Object(C.b)({appId:t.appId}),e.next=9,be(t);case 9:if(o=e.sent,i=Object(f.a)(o,2),s=i[0],u=i[1],r=s.value,c=u.value,"rejected"!==u.status){e.next=17;break}throw u.reason;case 17:if("rejected"!==s.status){e.next=19;break}throw new Error;case 19:if(l=pe(r,c),b=l.canInitialize,p=l.error,b){e.next=23;break}return console.log("Sprinklr Chat hidden by visibility criteria:",p.join()),e.abrupt("return",void 0);case 23:return re(c),r.hasPrompts&&n.e(65).then(n.bind(null,1882)).then((function(e){(0,e.default)(r,c,t)})),e.abrupt("return",mj(null,{applicationConfig:r,handshakeDetails:c,chatSettings:t}));case 28:if(e.prev=28,e.t0=e.catch(0),O=T.a.getUserSettings(t),!(Object(Oe.e)(e.t0)&&O&&P.getOneTimeToken(O))){e.next=33;break}return e.abrupt("return",mj(e.t0,{applicationConfig:r,handshakeDetails:c,chatSettings:t}));case 33:return e.abrupt("return",(function(){throw new Error("Can't execute any command, as LiveChat App failed to boot.")}));case 34:case"end":return e.stop()}}),e,null,[[0,28]])})))).apply(this,arguments)}var Ij=n(272),wj=n(308),Cj=n(309);var Tj=n(313);var Ej=n(310),kj=n(311),Sj=n(312);var _j=n(314);var Aj,Nj=n(387),Rj=(Aj={},Object(s.a)(Aj,Av.b,(function(){return yj.apply(this,arguments)})),Object(s.a)(Aj,Av.M,(function(e,t){var n=Object(G.G)(t);if(!d()(n)){var r=jo()(Object(H.a)(),{userContext:{$merge:n}});Object(H.f)(r),e({type:Fc.b,payload:n})}})),Object(s.a)(Aj,Av.C,(function(e){Object(G.F)()&&e({type:BO.c})})),Object(s.a)(Aj,Av.d,Ij.a),Object(s.a)(Aj,Av.B,wj.b),Object(s.a)(Aj,Av.t,wj.a),Object(s.a)(Aj,Av.y,Cj.b),Object(s.a)(Aj,Av.q,Cj.a),Object(s.a)(Aj,Av.v,Ij.c),Object(s.a)(Aj,Av.n,Ij.b),Object(s.a)(Aj,Av.E,(function(e,t){e({type:sg.a,payload:t})})),Object(s.a)(Aj,Av.z,Tj.b),Object(s.a)(Aj,Av.r,Tj.a),Object(s.a)(Aj,Av.g,(function(e){Object(G.F)()&&e({type:BO.h})})),Object(s.a)(Aj,Av.f,(function(e){Object(G.F)()&&e({type:BO.g})})),Object(s.a)(Aj,Av.D,(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=SO()(t)?t:t.initialMessages;e(Object(dg.a)({initialMessages:n,conversationContext:SO()(t)?void 0:t.conversationContext,createCase:SO()(t)?void 0:t.autoInitiateConversation,additional:SO()(t)?void 0:t.additional}))})),Object(s.a)(Aj,Av.H,(function(e,t){e({type:_o.x,payload:t})})),Object(s.a)(Aj,Av.c,(function(e){e({type:BO.e})})),Object(s.a)(Aj,Av.u,Ej.b),Object(s.a)(Aj,Av.m,Ej.a),Object(s.a)(Aj,Av.j,(function(e,t){var n=Object(xp.a)();0===n.index?t(!1):(n.goBack(),t(!0))})),Object(s.a)(Aj,Av.L,(function(e,t){e({type:_o.k,payload:t})})),Object(s.a)(Aj,Av.K,(function(e,t){var n=Object(G.G)(t);if(!d()(n)){var r=jo()(Object(H.a)(),{clientContext:{$merge:n}});Object(H.f)(r),e({type:_o.e,payload:{context:n}})}})),Object(s.a)(Aj,Av.A,kj.b),Object(s.a)(Aj,Av.s,kj.a),Object(s.a)(Aj,Av.w,Sj.b),Object(s.a)(Aj,Av.o,Sj.a),Object(s.a)(Aj,Av.x,_j.b),Object(s.a)(Aj,Av.p,_j.a),Object(s.a)(Aj,Av.J,(function(e,t){e({type:"@commerce/UPDATE_CART",payload:t})})),Object(s.a)(Aj,Av.G,(function(e,t){e({type:"@commerce/REMOVE_FROM_CART",payload:t})})),Aj),Pj=new Nj.a,Lj=[],Dj=function(e){return"boot"===e},Mj=!1;function Bj(){return Uj.apply(this,arguments)}function Uj(){return(Uj=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d()(Lj)){e.next=4;break}return t=Lj.shift(),e.next=4,Fj.apply(void 0,Object(i.a)(t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fj(e){return Gj.apply(this,arguments)}function Gj(){return(Gj=Object(c.a)(a.a.mark((function e(t){var n,r,c,o,s,u,d,f=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Rj[t]){e.next=3;break}return e.abrupt("return");case 3:if(r=Dj(t),!(!r||!Mj)){e.next=19;break}for(o=f.length,s=new Array(o>1?o-1:0),u=1;u<o;u++)s[u-1]=f[u];return r?(c=[],Lj=[].concat(Object(i.a)(Lj),Object(i.a)(s[0]))):c=[Pj.emit.bind(Pj)].concat(s),e.prev=8,e.next=11,n.apply(void 0,Object(i.a)(c));case 11:d=e.sent,r&&d&&(Pj.on(d),Mj=!0),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(8),console.log(e.t0),r&&Object(l.a)({type:Av.a,payload:{error:!0}});case 19:return e.next=21,Bj();case 21:r&&Object(l.a)({type:Av.a,payload:{error:!1}});case 22:case"end":return e.stop()}}),e,null,[[8,15]])})))).apply(this,arguments)}function zj(e){return Vj.apply(this,arguments)}function Vj(){return(Vj=Object(c.a)(a.a.mark((function e(t){var n,r,c,o,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=!Dj(t)&&!Mj,r=i.length,c=new Array(r>1?r-1:0),o=1;o<r;o++)c[o-1]=i[o];if(!n){e.next=5;break}return Lj.push([t].concat(c)),e.abrupt("return");case 5:Fj.apply(void 0,[t].concat(c));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Wj,Hj=n(684),Kj=n.n(Hj),Yj=Object(H.c)();if(d()(Yj))throw new Error("No settings found in script. Please add all scripts properly");window.sprChatSettings=(Wj=Object(o.a)(Object(o.a)({},Yj),Object(H.d)()),Object(o.a)(Object(o.a)({},Wj),{},{variant:Object(G.r)(Wj),scope:Object(G.o)(Wj),device:Object(G.i)(Wj),landingScreen:Object(G.m)(Wj),autoTrigger:Object(G.f)(Wj),disableAttachment:Object(G.j)(Wj),enableClose:Object(G.l)(Wj),clientContext:Object(G.g)(Wj),userContext:Object(G.q)(Wj),disableHeader:Object(G.k)(Wj),locale:Object(G.n)(Wj),container:Object(G.h)(Wj),skin:Object(G.p)(Wj)})),function(){function e(){return t.apply(this,arguments)}function t(){return(t=Object(c.a)(a.a.mark((function e(){var t=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:zj.apply(void 0,t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var n=Object(H.e)();e.q=n?n.q:[],e.loaded=!0,Object(H.b)().sprChat=e}();var $j=Object(G.t)();n(644)("./".concat($j.toLowerCase(),"/pages"));var Xj=Object(H.e)();Xj("boot",Xj.q);var qj=Object(H.a)(),Jj=qj.meetingId,Qj=qj.user,Zj=qj.otp,em=x()(Qj,"oneTimeToken");d()(Jj)&&d()(em)&&d()(Zj)||Xj("open");var tm,nm=Object(H.a)().autoTrigger;tm=!0===nm?0:Kj()(nm)?1e3*Math.max(nm,0):null,So()(tm)||setTimeout((function(){Xj("openNewConversation")}),tm)},125:function(e,t,n){"use strict";var r=n(2),a=n(118),c=n(59);t.a=function(e){var t=Object(c.c)();return Object(r.useMemo)((function(){return Object(a.b)(e,t)}),[e,t])}},132:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"g",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return l})),n.d(t,"d",(function(){return f})),n.d(t,"l",(function(){return b})),n.d(t,"m",(function(){return p})),n.d(t,"k",(function(){return O})),n.d(t,"n",(function(){return v})),n.d(t,"f",(function(){return h})),n.d(t,"o",(function(){return g})),n.d(t,"p",(function(){return j}));var r=n(55);function a(e){return{type:r.e,payload:{conversationId:e.conversationId,isPhone:e.isPhone}}}function c(e){return{type:r.h,payload:{callInfo:e.callInfo,conversationId:e.conversationId}}}function o(e){return{type:r.m,payload:{conversationId:e.conversationId}}}function i(e){return{type:r.f,payload:{videoConversationId:e.videoConversationId,conversationId:e.conversationId}}}function s(e){return{type:r.j,payload:{videoConversationId:e.videoConversationId,conversationId:e.conversationId}}}function u(e){return{type:r.b,payload:e}}function d(e){return{type:r.c,payload:e}}function l(e){return{type:r.d,payload:e}}function f(e){return{type:r.i,payload:{conversationId:e.conversationId,isPhone:e.isPhone,type:e.type,messageText:e.messageText,messageId:e.messageId,sourceButtonId:e.sourceButtonId}}}function b(e){return{type:r.g,payload:{conversationId:e.conversationId,controls:e.controls}}}function p(e){return{type:r.l,payload:{conversationId:e.conversationId,callInfo:e.callInfo}}}function O(e){return{type:r.n,payload:{conversationId:e.conversationId,controls:e.controls,type:e.type,messageText:e.messageText,messageId:e.messageId,sourceButtonId:e.sourceButtonId}}}function v(e){return{type:r.a,payload:{controls:e.controls,conversationId:e.conversationId}}}function h(e){return{type:r.k,payload:{conversationId:e}}}function g(e){return{type:r.p,payload:e}}function j(e){return{type:r.o,payload:{conversationId:e}}}},133:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(12),a=n(31),c=n(10),o=n(486),i=n(6),s=n(1242),u=Object(c.a)("type"),d=Object(c.a)("templateType"),l=function(){function e(t){Object(r.a)(this,e),this.data=t||{}}return Object(a.a)(e,[{key:"build",value:function(){return this.data}},{key:"set",value:function(e,t){return this.data=Object(o.a)(e,t,this.data),this}},{key:"setType",value:function(e){return this.set(u,e)}},{key:"setIsTemplateType",value:function(e){return this.set(d,e)}}]),e}();l.getType=Object(i.a)(u),l.isTemplateType=Object(s.a)("templateType")},135:function(e,t,n){"use strict";n.d(t,"b",(function(){return r.a})),n.d(t,"a",(function(){return a}));var r=n(327),a={ATTACHMENT:"attachment",BOT_USER:"botUser",CAMERA:"camera",CHAT_USER:"chatUser",CHEVRON:"chevron",CLOSE:"close",CLOSE_CIRCLE:"closeCircle",CLOSE_CONVERSATION:"closeConversation",DELETE:"delete",DOCUMENT:"document",UNKNOWN_DOC:"unknownDoc",DOWNLOAD:"download",EMOJI:"emoji",ERROR:"error",EXCEL:"excel",IMAGE_PLACEHOLDER:"imagePlaceholder",INTERNET_DISCONNECTED:"internetDisconnected",MORE:"more",PDF:"pdf",PLAY:"play",PRESENTATION:"presentation",SEND:"send",SOUND_OFF:"soundOff",SOUND_ON:"soundOn",VIDEO:"video",VIDEO_ON:"videoOn",VIDEO_OFF:"videoOff",AUDIO_ON:"audioOn",AUDIO_OFF:"audioOff",END_CALL:"endCall",FULL_SCREEN:"fullScreen",EXIT_FULL_SCREEN:"exitFullScreen"}},136:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(2),a=n(209);function c(){return Object(r.useContext)(a.b).otherConfigs}},138:function(e,t,n){"use strict";n.d(t,"b",(function(){return O})),n.d(t,"d",(function(){return v})),n.d(t,"c",(function(){return h})),n.d(t,"e",(function(){return g})),n.d(t,"t",(function(){return m})),n.d(t,"u",(function(){return x})),n.d(t,"s",(function(){return y})),n.d(t,"r",(function(){return I})),n.d(t,"q",(function(){return w})),n.d(t,"p",(function(){return C})),n.d(t,"o",(function(){return T})),n.d(t,"n",(function(){return E})),n.d(t,"m",(function(){return k})),n.d(t,"l",(function(){return S})),n.d(t,"k",(function(){return _})),n.d(t,"f",(function(){return R})),n.d(t,"h",(function(){return P})),n.d(t,"i",(function(){return L})),n.d(t,"j",(function(){return D})),n.d(t,"g",(function(){return M}));var r=n(4),a=n(15),c=n.n(a),o=n(9),i=n.n(o),s=n(18),u=n.n(s),d=n(55),l=n(371),f=n(77),b=n(169),p={incoming:{},outgoing:{}};var O=function(e){return e.incoming},v=function(e){return e.outgoing},h=function(e){var t=O(e);return c()(t)?l.a:t.participantInfos},g=function(e){var t=v(e);return i()(t,"state")},j=function(e){var t=O(e);return i()(t,"state")},m=function(e){return g(e)===f.d.SETUP},x=function(e){return g(e)===f.d.WAITING},y=function(e){return g(e)===f.d.FAILED},I=function(e){return g(e)===f.d.JOINING},w=function(e){return g(e)===f.d.JOINED},C=function(e){return j(e)===f.c.SETUP},T=function(e){return j(e)===f.c.INITIATING},E=function(e){return j(e)===f.c.JOINING},k=function(e){return j(e)===f.c.JOINED},S=function(e){var t=v(e);return!c()(t)&&t.controls.fullScreenEnabled},_=function(e){var t=O(e);return!c()(t)&&i()(t,"controls.fullScreenEnabled")},A=function(e,t){var n=v(e);if(!c()(n))return i()(n,"controls[".concat(t,"]"));var r=O(e);return!c()(r)&&i()(r,"controls[".concat(t,"]"))},N=function(e,t){var n=v(e);if(i()(n,"conversationId")===t)return n;var r=O(e);return i()(r,"conversationId")===t?r:void 0},R=function(e,t){var n=N(e,t);return i()(n,"type")===f.b.AUDIO},P=function(e){return A(e,b.a.DRAG)},L=function(e){return A(e,b.a.FULL_SCREEN)},D=function(e){return!c()(v(e))||!c()(O(e))},M=function(e){return I(e)||w(e)||E(e)||k(e)};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.d:return u()(e,{incoming:{$set:{state:f.c.INITIATING,videoConversationId:t.payload.videoConversationId,conversationId:t.payload.conversationId,participantInfos:t.payload.participantInfos,type:t.payload.type}}});case d.g:return u()(e,{incoming:{$merge:{state:f.c.SETUP,conversationId:t.payload.conversationId,controls:t.payload.controls}}});case d.f:return t.payload.conversationId!==e.incoming.conversationId?e:u()(e,{incoming:{$merge:{state:f.c.JOINING}}});case d.h:if(t.payload.conversationId!==e.incoming.conversationId)return e;var n=t.payload.callInfo,a=n.participant,c=n.conversation;return u()(e,{incoming:{$merge:{callData:{participantId:a.id,participantInfos:c.participantInfos,participantDetails:a.participantProviderDetails,callDetails:c.providerDetails},state:f.c.JOINED}}});case d.c:case d.b:if(t.payload.type)return u()(e,Object(r.a)({},b.b[t.payload.type],{$set:{}}));var o=t.payload.conversationId;return u()(e,{incoming:{$set:e.incoming.conversationId===o?{}:e.incoming},outgoing:{$set:e.outgoing.conversationId===o?{}:e.outgoing}});case d.n:var i=t.payload,s=i.controls,l=i.type,O=i.messageId,v=i.messageText,h=i.sourceButtonId,g=i.conversationId;return u()(e,{outgoing:{$set:{state:f.d.WAITING,conversationId:g,controls:s,type:l,messageId:O,messageText:v,sourceButtonId:h}}});case d.p:return t.payload.conversationId!==e.outgoing.conversationId?e:u()(e,{outgoing:{$merge:{agentWaitTime:t.payload.agentWaitTime,videoConversationId:t.payload.videoConversationId}}});case d.o:case d.k:return e.outgoing.conversationId!==t.payload.conversationId?e:u()(e,{outgoing:{$merge:{state:f.d.FAILED}}});case d.l:if(e.outgoing.conversationId!==t.payload.conversationId)return e;var j=t.payload.callInfo,m=j.participant,x=j.conversation;return u()(e,{outgoing:{$merge:{state:f.d.SETUP,conversationId:t.payload.conversationId,callData:{participantId:m.id,participantInfos:x.participantInfos,participantDetails:m.participantProviderDetails,callDetails:x.providerDetails}}}});case d.j:return t.payload.conversationId!==e.outgoing.conversationId?e:u()(e,{outgoing:{$merge:{state:f.d.JOINING}}});case d.m:return t.payload.conversationId!==e.outgoing.conversationId?e:u()(e,{outgoing:{$merge:{conversationId:e.outgoing.conversationId,state:f.d.JOINED}}});case d.a:return u()(e,{incoming:{$set:Object(b.c)(e.incoming,t.payload)},outgoing:{$set:Object(b.c)(e.outgoing,t.payload)}});default:return e}}},139:function(e,t,n){"use strict";n.d(t,"g",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return l})),n.d(t,"i",(function(){return f})),n.d(t,"d",(function(){return b})),n.d(t,"h",(function(){return p}));var r=n(194),a=n.n(r),c=n(45);function o(e){return{type:e?c.a:c.c}}function i(){return{type:c.i,payload:{}}}var s=a()(o,!0);a()(o,!1);function u(){return{type:c.f}}function d(e){return{type:c.k,payload:e}}function l(e,t,n){return{type:c.m,payload:{userPreferenceKey:e,newValue:t,oldValue:n}}}function f(e,t){return{type:c.n,payload:{userPreferenceKey:e,value:t}}}var b=function(e){return{type:c.j,payload:{localeData:e}}},p=function(e){var t=e.value;return{type:c.l,payload:{value:t}}}},141:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(12),a=n(10),c=n(6),o=Object(a.a)("closed"),i=Object(a.a)("deleted"),s=Object(a.a)("lastInteractionTime"),u=Object(a.a)("lastMessageId"),d=Object(a.a)("lastMessage"),l=Object(a.a)("participants"),f=Object(a.a)("disclaimerCard"),b=Object(a.a)("videoCallEnabled"),p=Object(a.a)("audioCallEnabled"),O=Object(a.a)("unreadCount"),v=Object(a.a)("startedByContext"),h=Object(a.a)("readStatusList"),g=function e(){Object(r.a)(this,e)};g.getDisclaimerCard=Object(c.a)(f),g.isClosed=Object(c.a)(o),g.isDeleted=Object(c.a)(i),g.getLastInteractionTime=Object(c.a)(s),g.getLastMessageId=Object(c.a)(u),g.getLastMessage=Object(c.a)(d),g.getParticipants=Object(c.a)(l),g.isVideoCallEnabled=Object(c.a)(b),g.isAudioCallEnabled=Object(c.a)(p),g.getUnreadCount=Object(c.a)(O),g.getStartedByContext=Object(c.a)(v),g.getReadStatusList=Object(c.a)(h)},142:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(50),a=(n(2),n(3)),c=n(232),o=n.n(c),i=n(406),s=n(75),u=n(170),d=n(399),l=function(e){return"\n<!DOCTYPE html>\n<html dir=".concat(e,'>\n    <head>\n        <meta charset="utf-8" />\n        <meta name="viewport" content="width=device-width, viewport-fit=cover, initial-scale=1, shrink-to-fit=no" />\n    </head>\n    <body><div class="frame-root"></div></body>\n</html>\n')},f=function(e){var t=Object(s.b)(),n=Object(u.a)().direction;return Object(a.jsx)(o.a,Object(r.a)({allowFullScreen:!0,initialContent:l(n)},e),Object(a.jsx)(c.FrameContextConsumer,null,(function(n){var r=n.document;return Object(a.jsx)(a.CacheProvider,{value:Object(d.a)(r)},Object(a.jsx)(i.a,{theme:t}),e.children)})))}},143:function(e,t,n){"use strict";var r,a=n(4),c=n(308),o=n(309),i=n(272),s=n(310),u=n(311),d=n(312),l=n(313),f=n(314),b=n(387),p=n(34),O=new b.a,v=(r={},Object(a.a)(r,p.I,c.c),Object(a.a)(r,p.i,o.c),Object(a.a)(r,p.a,s.c),Object(a.a)(r,p.F,l.c),Object(a.a)(r,p.e,i.d),Object(a.a)(r,p.k,d.c),Object(a.a)(r,p.l,u.c),Object(a.a)(r,p.h,f.c),r);O.on((function(e){var t=e.type,n=e.payload,r=v[t];if(r)return r(n)})),t.a=function(e){O.emit(e)}},144:function(e,t,n){"use strict";t.a={POST_BACK:"POST_BACK",SURVEY_POST_BACK:"SURVEY_POST_BACK",EXTERNAL:"EXTERNAL",OPEN_URL:"OPEN_URL",ACCOUNT_LINK:"ACCOUNT_LINK",CLIENT_ONLY:"CLIENT_ONLY"}},149:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r={INITIATED:"INITIATED",SETUP:"SETUP",STARTED:"STARTED",FAILED:"FAILED",RESUMED:"RESUMED"},a={PENDING:"PENDING",ACTIVE:"ACTIVE",INACTIVE:"INACTIVE"}},150:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return x})),n.d(t,"c",(function(){return y}));var r,a,c=n(4),o=n(25),i=n.n(o),s=n(92),u=n.n(s),d=n(144),l=n(11),f=n(78),b=n(86),p=function(e){return function(t){return t.type===e}},O=function(e){return function(t){return t.id===e}},v=function(e,t){return function(e,t){return u()(e,t)}(e.buttons,t)},h=function(e,t){var n,r=e.cardAttachmentList;return i()(r,(function(e){var r=v(e,t);if(r)return n=r,!1})),n},g=(r={},Object(c.a)(r,d.a.POST_BACK,(function(e,t){return[e.postBackHandlerType]})),Object(c.a)(r,d.a.EXTERNAL,(function(e,t){var n=t.attachment;return n.type===l.b.PROGRESS_BAR?["CANCEL"===t.actionId?b.b:b.a]:n.type===l.b.FORM?[f.a.FORM_POST_BACK,b.a]:[f.a.TEXT_POST_BACK,b.a]})),Object(c.a)(r,d.a.CLIENT_ONLY,(function(e,t){return t.attachment.type===l.b.VIDEO_CHAT?t.attachment.audioOnly?[f.a.START_AUDIO_CALL]:[f.a.START_VIDEO_CALL]:t.attachment.type===l.b.APPOINTMENT?"FETCH_SLOTS"===t.values.type?[f.a.FETCH_APPOINTMENT_TIME_SLOTS]:"RESERVE_SLOT"===t.values.type?[f.a.RESERVE_APPOINTMENT_TIME_SLOT]:[f.a.APPOINTMENT_POST_BACK]:[]})),r),j=(a={},Object(c.a)(a,l.b.CONTACT_DETAILS_FORM,(function(e,t){return t.submit})),Object(c.a)(a,l.b.FORM,(function(e,t){return t.submit})),Object(c.a)(a,l.b.SECURE_FORM,(function(e,t){return t.submit})),Object(c.a)(a,l.b.FEEDBACK_FORM,(function(e,t){return t.submit})),Object(c.a)(a,l.b.PROGRESS_BAR,(function(e,t){var n=t;return{id:"",title:"",type:d.a.EXTERNAL,params:n.action}})),Object(c.a)(a,l.b.CARD,(function(e,t){return v(t,O(e))})),Object(c.a)(a,l.b.CO_BROWSE_INVITE,(function(e,t){return v(t,O(e))})),Object(c.a)(a,l.b.QUICK_SELECT_CARD,(function(e,t){return v(t,(function(t){return t.id===e}))})),Object(c.a)(a,l.b.CAROUSEL,(function(e,t){return h(t,O(e))})),Object(c.a)(a,l.b.APPOINTMENT,(function(){return{type:d.a.CLIENT_ONLY,id:"",title:""}})),Object(c.a)(a,l.b.VIDEO_CHAT,(function(){return{type:d.a.CLIENT_ONLY,params:"",id:""}})),Object(c.a)(a,l.b.SURVEY,(function(e,t){return t.surveyButton})),a);function m(e,t){var n=j[t.type];if(n)return n(e,t)}function x(e){var t=m(e.actionId,e.attachment);if(t)return function(e,t){var n=g[e.type];return n?n(e,t):[e.type]}(t,e)}var y=function(e){switch(e.type){case l.b.CARD:return!!v(e,p(d.a.EXTERNAL));case l.b.CAROUSEL:return!!h(e,p(d.a.EXTERNAL));case l.b.FORM:return e.submit.type===d.a.EXTERNAL;default:return!1}}},151:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var r="@user/RESOLVED",a="@user/CHAT_USER_ID_UPDATED",c="@user/USER_CONTEXT_UPDATE"},153:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return c}));var r=313,a=314,c=340},157:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r,a=n(2),c=n.n(a),o=["svgRef","title"];function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var u=function(e){var t=e.svgRef,n=e.title,a=s(e,o);return c.a.createElement("svg",i({"data-spaceweb":"icon",viewBox:"0 0 14 14","data-icon-name":"LineClose",className:"sw--ew sw--vc sw--a1z sw--a20",ref:t},a),n?c.a.createElement("title",null,n):null,r||(r=c.a.createElement("path",{d:"M12.8 12.7c.3-.3.3-.8 0-1L8 7l4.6-4.7c.3-.3.3-.8 0-1.1-.3-.3-.8-.3-1.1 0L6.9 6 2.3 1.3C2 1 1.5 1 1.2 1.3s-.3.7 0 1L5.9 7l-4.7 4.7c-.3.3-.3.8 0 1.1.3.3.8.3 1 0l4.7-4.7 4.7 4.6c.3.3.8.3 1.2 0z"})))},d=c.a.forwardRef((function(e,t){return c.a.createElement(u,i({svgRef:t},e))}));n.p},16:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(12),a=n(31),c=n(15),o=n.n(c),i=n(10),s=n(486),u=n(6),d=n(58),l=Object(i.a)("id"),f=Object(i.a)("messagePayload"),b=Object(i.a)("conversationId"),p=Object(i.a)("sender"),O=Object(i.a)("creationTime"),v=Object(i.a)("additionalContext"),h=Object(i.a)("clientMessageId"),g=function(){function e(t){Object(r.a)(this,e),this.data={},t&&(this.setId(t.id),this.setConversationId(e.getConversationId(t)),this.setClientMessageId(e.getClientMessageId(t)),this.setSender(e.getSender(t)),this.setCreationTime(e.getCreationTime(t)),this.setMessagePayload(d.a.clone(e.getMessagePayload(t))),this.setAdditionalContext(e.getAdditionalContext(t)))}return Object(a.a)(e,[{key:"build",value:function(){return this.data}},{key:"set",value:function(e,t){return this.data=Object(s.a)(e,t,this.data),this}},{key:"setId",value:function(e){return e&&this.set(l,e),this}},{key:"setMessagePayload",value:function(e){return o()(e)||this.set(f,e),this}},{key:"setConversationId",value:function(e){return e&&this.set(b,e),this}},{key:"setClientMessageId",value:function(e){return e&&this.set(h,e),this}},{key:"setSender",value:function(e){return e&&this.set(p,e),this}},{key:"setCreationTime",value:function(e){return e&&this.set(O,e),this}},{key:"setAdditionalContext",value:function(e){return e&&this.set(v,e),this}}]),e}();g.getMessagePayload=Object(u.a)(f),g.getConversationId=Object(u.a)(b),g.getSender=Object(u.a)(p),g.getCreationTime=Object(u.a)(O),g.getId=Object(u.a)(l),g.getClientMessageId=Object(u.a)(h),g.getAdditionalContext=Object(u.a)(v)},160:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return c}));var r="BOT",a="AGENT",c="USER"},161:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r,a=n(705),c=n.n(a),o=n(9),i=n.n(o),s=n(20);function u(e){if(!r){var t=i()(e,"isUnauthorized")?["/401"]:function(){var e=["/home"];return Object(s.B)()&&e.push("/conversation/last"),Object(s.D)()&&e.push("/conversation/new"),Object(s.y)()&&e.push("/conversation/".concat(Object(s.d)())),Object(s.x)()&&e.push("/conversation/".concat(Object(s.e)())),e}();r=c()({initialEntries:t,initialIndex:t.length-1})}return r}},162:function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return f})),n.d(t,"f",(function(){return b})),n.d(t,"h",(function(){return p})),n.d(t,"j",(function(){return O})),n.d(t,"i",(function(){return v}));var r=n(192),a=n(17),c=n(263),o=n(5);var i=function(e){return+Object(o.e)("confirmationBox.buttonGroup.gutterWidth")(e)},s=Object(a.a)("div",{target:"ev8o7wu0"})("color:",Object(o.a)("charcoal"),";background-color:",Object(o.e)("confirmationBox.backgroundColor"),";position:absolute;top:50%;left:50%;min-height:0;max-width:",Object(o.e)("confirmationBox.maxWidth"),"px;width:",(function(e){return"calc(100% - ".concat(2*+Object(o.e)("confirmationBox.margin")(e),"px)")}),";border-radius:",Object(o.e)("confirmationBox.borderRadius"),";border:1px solid ",Object(o.a)("azure"),";transform:translate(-50%,-50%);padding:",(function(e){var t=+Object(o.e)("confirmationBox.paddingTop")(e),n=+Object(o.e)("confirmationBox.paddingRight")(e)-i(e)/2,r=+Object(o.e)("confirmationBox.paddingLeft")(e)-i(e)/2,a=+Object(o.e)("confirmationBox.paddingBottom")(e)-i(e);return"".concat(t,"px ").concat(n,"px ").concat(a,"px ").concat(r,"px")}),";"),u=Object(a.a)("div",{target:"ev8o7wu1"})("justify-content:space-between;padding:",(function(e){var t=i(e)/2,n=i(e)/2,r=+Object(o.e)("confirmationBox.header.paddingBottom")(e);return"".concat(0,"px ").concat(t,"px ").concat(r,"px ").concat(n,"px")}),";"),d=Object(a.a)("div",{target:"ev8o7wu2"})("font-size:",Object(o.e)("confirmationBox.header.title.fontSize"),"px;font-family:",Object(o.c)("confirmationBox.header.title.fontFamily"),";font-weight:",Object(o.e)("confirmationBox.header.title.fontWeight"),";"),l=Object(a.a)("div",{target:"ev8o7wu3"})("padding:",(function(e){var t=i(e)/2,n=i(e)/2,r=+Object(o.e)("confirmationBox.description.paddingBottom")(e);return"".concat(0,"px ").concat(t,"px ").concat(r,"px ").concat(n,"px")}),";font-size:",Object(o.e)("confirmationBox.description.fontSize"),"px;min-height:",Object(o.e)("confirmationBox.description.minHeight"),"px;font-weight:normal;"),f=Object(a.a)("div",{target:"ev8o7wu4"})((function(e){return e.isFullPage&&"padding-bottom: env(safe-area-inset-bottom);"})," justify-content:",(function(e){return function(e){var t=Object(o.e)("confirmationBox.buttonGroup.align")(e);return"space-between"===t?e.isOnlyButton?"flex-end":"space-between":"start"===t?"flex-start":"flex-end"}(e)}),";flex-wrap:wrap;"),b=Object(a.a)(c.a,{target:"ev8o7wu5"})({name:"k4h52c",styles:"display:flex;align-items:center;justify-content:center;cursor:pointer;"}),p=function(e,t){var n=+Object(o.e)("confirmationBox.buttonGroup.gutterWidth")({theme:e}),a=t||"space-between"!==Object(o.e)("confirmationBox.buttonGroup.align")({theme:e})?"0":"1";return Object(r.a)("margin:0px ",n/2,"px ",n,"px;flex-grow:",a,";")},O=function(e){return Object(r.a)({height:"".concat(Object(o.e)("confirmationBox.header.iconButton.icon.height")({theme:e}),"px"),width:"".concat(Object(o.e)("confirmationBox.header.iconButton.icon.width")({theme:e}),"px")},"")},v=function(e){return Object(r.a)({height:"".concat(Object(o.e)("confirmationBox.header.iconButton.button.height")({theme:e}),"px"),width:"".concat(Object(o.e)("confirmationBox.header.iconButton.button.width")({theme:e}),"px")},"")}},163:function(e,t,n){"use strict";var r=n(79);t.a=Object(r.f)({goBack:{id:"goBack",defaultMessage:"Go back"},liveChatBox:{id:"liveChatBox",defaultMessage:"Live chat box"},liveChatNotification:{id:"liveChatNotification",defaultMessage:"Live chat notification"},openChat:{id:"openChat",defaultMessage:"Open chat"},closeChat:{id:"closeChat",defaultMessage:"Close chat"},liveChat:{id:"liveChat",defaultMessage:"Live chat"},conversationClosed:{id:"conversationClosed",defaultMessage:"Conversation closed"},submit:{id:"submit",defaultMessage:"Submit"},textArea:{id:"textArea",defaultMessage:"Send your message here"},attachment:{id:"attachment",defaultMessage:"Attachment"},moreActions:{id:"moreActions",defaultMessage:"More actions"},sendingMessage:{id:"sendingMessage",defaultMessage:"Sending message"},sentMessage:{id:"sentMessage",defaultMessage:"Sent message"},receivedMessage:{id:"receivedMessage",defaultMessage:"Received message"},unreadMessages:{id:"unreadMessages",defaultMessage:"Unread messages"},unreadMessage:{id:"unreadMessage",defaultMessage:"Unread message"},newNotifications:{id:"newNotifications",defaultMessage:"New notifications"},newNotification:{id:"newNotification",defaultMessage:"New notification"},agentImage:{id:"agentImage",defaultMessage:"Agent Image"}})},166:function(e,t,n){"use strict";n.d(t,"e",(function(){return _})),n.d(t,"b",(function(){return m})),n.d(t,"d",(function(){return I})),n.d(t,"f",(function(){return w})),n.d(t,"c",(function(){return C})),n.d(t,"a",(function(){return S}));var r=n(11),a=n(58),c=n(16),o=n(133),i=n(12),s=n(31),u=n(71),d=n(70),l=n(10),f=n(6),b=Object(l.a)("height"),p=Object(l.a)("width"),O=Object(l.a)("url"),v=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(i.a)(this,n),t.call(this,e)}return Object(s.a)(n,[{key:"setHeight",value:function(e){return this.set(b,e)}},{key:"setWidth",value:function(e){return this.set(p,e)}},{key:"setUrl",value:function(e){return e?this.set(O,e):this}}]),n}(o.a);v.getUrl=Object(f.a)(O);var h=n(88),g=n.n(h),j=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).setType(r.b.IMAGE),a}return n}(v);function m(e){return(new j).setHeight(e.height).setWidth(e.width).setUrl(e.url).build()}var x=Object(l.a)("previewImageUrl"),y=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).setType(r.b.VIDEO),a}return Object(s.a)(n,[{key:"setPreviewImageUrl",value:function(e){return this.set(x,e)}}]),n}(v);function I(e){return(new y).setUrl(e.url).setHeight(e.height).setWidth(e.width).setPreviewImageUrl(e.previewImageUrl).build()}function w(e,t){var n=a.a.getAttachment(c.a.getMessagePayload(e)),r=new y(n).setPreviewImageUrl(t).build(),o=new a.a(c.a.getMessagePayload(e)).setAttachment(r).build();return new c.a(e).setMessagePayload(o).build()}function C(e){return(new j).setHeight(e.height).setWidth(e.width).setUrl(e.previewImageUrl).build()}y.getPreviewImageUrl=Object(f.a)(x);var T=Object(l.a)("title"),E=Object(l.a)("documentType"),k=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).setType(r.b.DOCUMENT),a}return Object(s.a)(n,[{key:"setTitle",value:function(e){return this.set(T,e)}},{key:"setDocumentType",value:function(e){return this.set(E,e)}}]),n}(v);function S(e){return(new k).setUrl(e.url).setTitle(e.title).setDocumentType(e.documentType).build()}function _(e,t,n){var i=a.a.getAttachment(c.a.getMessagePayload(e));if(!function(e){return g()(r.a,o.a.getType(e))}(i))return e;var s=new v(i).setUrl(t).build(),u=new a.a(c.a.getMessagePayload(e)).setAttachment(s).build();return new c.a(e).setMessagePayload(u).build()}},167:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var r=430,a=648,c=600},168:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r="@chatProactivePrompts/PROMPT_ADD",a="@chatProactivePrompts/PROMPT_REMOVE"},169:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return d}));var r,a=n(4),c=n(18),o=n.n(c),i=n(77),s=(r={},Object(a.a)(r,i.a.INCOMING,"incoming"),Object(a.a)(r,i.a.OUTGOING,"outgoing"),r),u={MIC:"micEnabled",CAMERA:"cameraEnabled",FULL_SCREEN:"fullScreenEnabled",DRAG:"dragEnabled"},d=function(e,t){var n=t.conversationId;return e.conversationId!==n?e:o()(e,{controls:{$merge:t.controls}})}},170:function(e,t,n){"use strict";var r=n(2),a=n(333);t.a=function(){return Object(r.useContext)(a.c)}},171:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o}));var r=n(160);function a(e){return e===r.c}function c(e){return e&&e.startsWith("C_")}function o(e){return e&&(e.startsWith("P_")||e.startsWith("T_"))}},179:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r={LTR:"ltr",RTL:"rtl"},a={ar:{id:"ar",name:"Arabic",dir:r.RTL},he:{id:"he",name:"Hebrew",dir:r.RTL},pt:{id:"pt",name:"Portuguese"},es:{id:"es",name:"Spanish"},de:{id:"de",name:"German"},sv:{id:"sv",name:"Swedish"},da:{id:"da",name:"Danish"},fi:{id:"fi",name:"Finnish"},et:{id:"et",name:"Estonian"},lt:{id:"lt",name:"Lithuanian"},lv:{id:"lv",name:"Latvian"},nb:{id:"nb",name:"Bokm\xe5l, Norwegian"},ml:{id:"ml",name:"Malayalam"},en:{id:"en",name:"English"},ko:{id:"ko",name:"Korean"},zh:{id:"zh",name:"Chinese"},ja:{id:"ja",name:"Japanese"},tr:{id:"tr",name:"Turkish"},id:{id:"id",name:"Bahasa Indonesia"},vi:{id:"vi",name:"Vietnamese"},th:{id:"th",name:"Thai"},fr:{id:"fr",name:"French"},"zh-HK":{id:"zh-HK",value:"zh-HK",name:"Chinese (Honk kong)"},"zh-TW":{id:"zh-tw",value:"zh-TW",name:"Chinese (Traditional)"},cs:{id:"cs",value:"cs",name:"Czech"},sk:{id:"sk",value:"sk",name:"Slovak"},ro:{id:"ro",value:"ro",name:"Romanian"},hu:{id:"hu",value:"hu",name:"Hungarian"},it:{id:"it",value:"it",name:"Italian"},hr:{id:"hr",value:"hr",name:"Croatian"},sr:{id:"sr",value:"sr",name:"Serbian"},sl:{id:"sl",value:"sl",name:"Slovenian"},sq:{id:"sq",value:"sq",name:"Albanian"},mk:{id:"mk",value:"mk",name:"Macedonian"},bs:{id:"bs",value:"bs",name:"Bosnian"},nl:{id:"nl",value:"nl",name:"Dutch"},pl:{id:"pl",value:"pl",name:"Polish"}}},181:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={CONVERSATION_WINDOW_OPENED:{id:"CONVERSATION_WINDOW_OPENED",label:"Conversation window opened"},CONVERSATION_WINDOW_OPENED_FROM_JS_SDK:{id:"CONVERSATION_WINDOW_OPENED_FROM_JS_SDK",label:"Conversation window opened from JS SDK"},CONVERSATION_WINDOW_CLOSED:{id:"CONVERSATION_WINDOW_CLOSED",label:"Conversation window closed"},CONVERSATION_WINDOW_CLOSED_FROM_JS_SDK:{id:"CONVERSATION_WINDOW_CLOSED_FROM_JS_SDK",label:"Conversation window closed from JS SDK"},CONVERSATION_EXPORTED:{id:"CONVERSATION_EXPORTED",label:"Conversation exported"},CONVERSATION_DELETED:{id:"CONVERSATION_DELETED",label:"Conversation deleted"},CONVERSATION_CLOSED:{id:"CONVERSATION_CLOSED",label:"Conversation closed"},CONVERSATIONS_DELETED:{id:"CONVERSATIONS_DELETED",label:"Conversations deleted"},CONVERSATIONS_CLOSED:{id:"CONVERSATIONS_CLOSED",label:"Conversations closed"},NEW_CONVERSATION_STARTED:{id:"NEW_CONVERSATION_STARTED",label:"New conversation started"},NEW_CONVERSATION_STARTED_FROM_JS_SDK:{id:"NEW_CONVERSATION_STARTED_FROM_JS_SDK",label:"New conversation started from JS SDK"},EXISTING_CONVERSATION_OPENED:{id:"EXISTING_CONVERSATION_OPENED",label:"Existing conversation opened"},TRIGGER_VISIBLE:{id:"TRIGGER_VISIBLE",label:"Trigger visible"},BUTTON_CLICKED:{id:"BUTTON_CLICKED",label:"Button clicked"},AGENT_ASSIGNED:{id:"AGENT_ASSIGNED",label:"Assignment changed"},VIDEO_CALL_OUTGOING_STARTING:{id:"VIDEO_CALL_OUTGOING_STARTING",label:"Video call outgoing starting"},AUDIO_CALL_OUTGOING_STARTING:{id:"AUDIO_CALL_OUTGOING_STARTING",label:"Audio call outgoing starting"},CONVERSATION_BACK_PRESSED:{id:"CONVERSATION_BACK_PRESSED",label:"Conversation back pressed"},CONVERSATION_LIST_BACK_PRESSED:{id:"CONVERSATION_LIST_BACK_PRESSED",label:"Conversation list back pressed"},SURVEY_BACK_PRESSED:{id:"SURVEY_BACK_PRESSED",label:"Survey back pressed"}}},182:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="#646470";t.b={anchor:r,azure:"#f1f3f4",charcoal:"#0a0a14",fossil:"#a0a0a8",primary:"#1c6cfd",silver:"#e4eaef",white:"#ffffff",water:"#f8f8fa",green:"#097a4b",gray:"#535e67",ash:"#dbdbdb",blue:"#1c6cfd",red:"#dc0a4b"}},184:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={CONNECTED:"CONNECTED",DISCONNECTED:"DISCONNECTED"}},185:function(e,t,n){"use strict";n.d(t,"e",(function(){return y})),n.d(t,"a",(function(){return I})),n.d(t,"d",(function(){return C})),n.d(t,"b",(function(){return T})),n.d(t,"c",(function(){return E}));var r=n(61),a=n.n(r),c=n(15),o=n.n(c),i=n(9),s=n.n(i),u=n(92),d=n.n(u),l=n(65),f=n(233),b=n(23),p=n(22),O=n(161),v=n(141),h=n(44),g=n(317),j=/^CASE_(\w+)/,m=/^CONVERSATION_(\w+)/,x=function(e){return e&&!!e.match(m)},y=function(e){return e&&!!e.match(j)},I=function(e){return y(e)?e.match(j)[0].split("_")[1]:void 0},w=function(e){return a()(e,(function(e,t){return!function(e){return!e.id.startsWith(h.e)&&!o()(e.lastMessage)}(t)||t.closed||t.deleted?e:e+1}),0)};function C(e,t,n){var r,a=Object(b.e)(e),c=Object(p.p)(Object(b.c)(e)),o=Object(f.a)(a),i=Object(f.d)(a),u=l.a.getMaximumOpenConversations(t),d=s()(u,"limit"),O=w(c.byId),v=!!d&&d<=O,h=!!s()(u,"replaceNewConversationButton");return o?r=i:v&&(r=h?void 0:n(u,"label")),{isLocked:o||v,lockReason:r}}var T=function(e,t){var n=d()(v.a.getReadStatusList(e),(function(e){return e.userId===t}));return s()(n,"unreadCount",0)},E=function(e){var t=Object(b.c)(e),n=Object(p.p)(t),r=Object(O.a)().location.pathname,a=Object(g.a)(r,{path:"/conversation/:conversationId/:transientId?"});if(!a)return{isConversationPath:!1,conversationId:void 0};var c=s()(a,"params.conversationId"),o=s()(a,"params.transientId");return"survey"===o?{isConversationPath:!0,conversationId:c}:"all"===c?{isConversationPath:!1,conversationId:void 0}:"new"===c?{isConversationPath:!0,conversationId:o||h.e}:"last"===c?{isConversationPath:!0,conversationId:Object(p.b)(n)?Object(p.d)(Object(p.v)(t))||h.e:void 0}:x(c)?{isConversationPath:!0,conversationId:c}:y(c)?{isConversationPath:!0,conversationId:Object(p.i)(n,I(c))}:{isConversationPath:!0,conversationId:c}}},188:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r="CLASSIC",a="MODERN"},193:function(e,t,n){"use strict";var r=n(181);n.d(t,"a",(function(){return r.a}))},20:function(e,t,n){"use strict";n.d(t,"r",(function(){return S})),n.d(t,"i",(function(){return _})),n.d(t,"u",(function(){return A})),n.d(t,"E",(function(){return N})),n.d(t,"F",(function(){return R})),n.d(t,"o",(function(){return P})),n.d(t,"s",(function(){return L})),n.d(t,"w",(function(){return D})),n.d(t,"C",(function(){return B})),n.d(t,"e",(function(){return U})),n.d(t,"D",(function(){return F})),n.d(t,"B",(function(){return G})),n.d(t,"y",(function(){return z})),n.d(t,"d",(function(){return V})),n.d(t,"x",(function(){return W})),n.d(t,"c",(function(){return H})),n.d(t,"a",(function(){return K})),n.d(t,"A",(function(){return Y})),n.d(t,"m",(function(){return $})),n.d(t,"f",(function(){return X})),n.d(t,"j",(function(){return q})),n.d(t,"l",(function(){return J})),n.d(t,"G",(function(){return Q})),n.d(t,"g",(function(){return Z})),n.d(t,"q",(function(){return ee})),n.d(t,"k",(function(){return te})),n.d(t,"n",(function(){return ne})),n.d(t,"h",(function(){return re})),n.d(t,"z",(function(){return ae})),n.d(t,"v",(function(){return ce})),n.d(t,"b",(function(){return oe})),n.d(t,"p",(function(){return ie})),n.d(t,"t",(function(){return se}));var r=n(61),a=n.n(r),c=n(38),o=n.n(c),i=n(692),s=n.n(i),u=n(124),d=n.n(u),l=n(27),f=n(265),b=n(204),p=n(188),O=/^NEW_CONVERSATION$/,v=/^LAST_CONVERSATION$/,h=/^CONVERSATION_(\w+)/,g=/^CASE_(\w+)/,j=n(26),m=n(44),x=[f.b,f.c],y=["CONVERSATION","ALL"],I=[O,v,h,g],w=[b.b,b.a],C=[p.a,p.b],T=function(e){return"true"===e||!0===e},E=function(e){return e&&!!e.match(h)},k=function(e){return e&&!!e.match(g)},S=function(e){var t=e?l.a.getVariant(e)||l.a.getMode(e):void 0;return t&&x.includes(t)?t:f.c},_=function(e){return e&&l.a.getDevice(e)&&w.includes(l.a.getDevice(e))?l.a.getDevice(e):b.a},A=function(){return l.a.getVariant(Object(j.a)())},N=function(){return A()===f.b},R=function(){return A()===f.c},P=function(e){return e&&l.a.getScope(e)&&y.includes(l.a.getScope(e))?l.a.getScope(e):"ALL"},L=function(){return l.a.getScope(Object(j.a)())},D=function(){return"CONVERSATION"===L()},M=function(){return l.a.getDevice(Object(j.a)())},B=function(){return M()===b.b},U=function(){return l.a.getLandingScreen(Object(j.a)())},F=function(){return U()&&!!U().match(O)},G=function(){return U()&&!!U().match(v)},z=function(){return E(U())},V=function(){return e=U(),E(e)?e.match(h)[0].split("_")[1]:void 0;var e},W=function(){return k(U())},H=function(){return e=U(),k(e)?e.match(g)[0].split("_")[1]:void 0;var e},K=function(e){return"".concat(m.a).concat(e)},Y=function(){return!U()},$=function(e){return e&&l.a.getLandingScreen(e)&&-1!==I.findIndex((function(t){return l.a.getLandingScreen(e)&&t.test(l.a.getLandingScreen(e))}))?l.a.getLandingScreen(e):void 0},X=function(e){var t=l.a.getAutoTrigger(e);return s()(t)?t:Number.isNaN(Number(t))?T(t):Number(t)},q=function(e){var t=l.a.getDisableAttachment(e);return T(t)},J=function(e){var t=l.a.getEnableClose(e);return T(t)},Q=function(e){return a()(e,(function(e,t,n){return e[n]=Array.isArray(t)?o()(t,(function(e){return"".concat(e)})):["".concat(t)],e}),{})},Z=function(e){return Q(l.a.getClientContext(e))},ee=function(e){return Q(l.a.getUserContext(e))},te=function(e){if("CONVERSATION"!==P(e))return!1;var t=l.a.getDisableHeader(e);return T(t)},ne=function(e){return l.a.getLocale(e)||navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage},re=function(e){var t=l.a.getContainer(e);return d()(t)?"":t.toString()},ae=function(){return l.a.getDisableHeader(Object(j.a)())},ce=function(){return l.a.getEnableClose(Object(j.a)())},oe=function(){return l.a.getContainer(Object(j.a)())},ie=function(e){return e&&l.a.getSkin(e)&&C.includes(l.a.getSkin(e))?l.a.getSkin(e):p.a},se=function(){return l.a.getSkin(Object(j.a)())}},204:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r="MOBILE",a="DESKTOP"},209:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(50),a=n(2),c=n.n(a),o=n(3),i=c.a.createContext(void 0),s=function(e){return function(t){return Object(o.jsx)(i.Consumer,null,(function(n){return Object(o.jsx)(e,Object(r.a)({},t,{customization:n.otherConfigs}))}))}};t.b=i},21:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return f}));var r=n(124),a=n.n(r),c=[408,423,429,503,504],o=function(e){return!e.request},i=function(e){return!!e.response},s=function(e){return!o(e)&&!i(e)},u=function(e){return!o(e)&&i(e)&&c.includes(e.response.status)},d=function(e){if(!a()(e)){var t=Object.keys(e);return t.includes("request")&&t.includes("response")}return!1},l=function(e){return i(e)&&400===e.response.status},f=function(e){return i(e)&&401===e.response.status}},219:function(e,t,n){"use strict";var r=n(2),a=n(395);t.a=function(){return Object(r.useContext)(a.a)}},22:function(e,t,n){"use strict";n.d(t,"p",(function(){return xe})),n.d(t,"n",(function(){return ye})),n.d(t,"o",(function(){return Ie})),n.d(t,"l",(function(){return we})),n.d(t,"v",(function(){return Te})),n.d(t,"d",(function(){return Ee})),n.d(t,"r",(function(){return ne})),n.d(t,"i",(function(){return re})),n.d(t,"q",(function(){return ae})),n.d(t,"f",(function(){return ce})),n.d(t,"b",(function(){return oe})),n.d(t,"u",(function(){return ie})),n.d(t,"g",(function(){return se})),n.d(t,"B",(function(){return ue})),n.d(t,"e",(function(){return de})),n.d(t,"z",(function(){return le})),n.d(t,"h",(function(){return fe})),n.d(t,"A",(function(){return be})),n.d(t,"y",(function(){return pe})),n.d(t,"w",(function(){return Oe})),n.d(t,"m",(function(){return he})),n.d(t,"s",(function(){return ge})),n.d(t,"k",(function(){return E})),n.d(t,"x",(function(){return k})),n.d(t,"j",(function(){return S})),n.d(t,"t",(function(){return _})),n.d(t,"a",(function(){return A}));var r=n(38),a=n.n(r),c=n(118),o=n(92),i=n.n(o),s=n(9),u=n.n(s),d=n(4),l=n(61),f=n.n(l),b=n(477),p=n.n(b),O=n(315),v=n.n(O),h=n(18),g=n.n(h),j=n(57),m=n(7),x=n(30),y=n(184),I=n(49),w=n(16),C=n(102),T={hasMore:!1,loaded:!1,loading:!0,items:[],failedItemIds:[],hasInitialItems:!1,cursorInfo:{beforeCursor:"",afterCursor:""}},E=function(e){return u()(e,"items")},k=function(e){return u()(e,"hasInitialItems")},S=function(e,t){var n=E(e);return i()(n,(function(e){return e.id===t}))},_=function(e,t){return Object(I.g)(e,t)},A=function(e){return u()(e,"loaded")},N=n(44),R={},P=Object(c.c)({messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.b:return Object(I.e)({loaded:!1,loading:!0});case m.H:var n=t.payload.hasInitialItems;return Object(I.e)({items:t.payload.messages,hasInitialItems:n,loading:!n,loaded:n});case m.u:case m.g:case m.r:case m.s:return Object(I.e)();case m.J:var r=t.payload.conversationResponse;return Object(I.e)({items:r.defaultMessages,loaded:!0});case m.F:var a=t.payload.chatMessage;return Object(I.b)(e,[a]);case m.E:var c=t.payload,o=c.chatMessage,i=c.transientId,s=Object(I.s)(e,i);return Object(I.b)(s,[o]);case m.D:var u=t.payload.transientId;return Object(I.a)(e,u);case m.B:var d=t.payload,l=d.chatMessage,b=d.alternateUserIds,p=Object(I.q)(e,l),O=Object(I.h)(p,b),v=f()(O,(function(e,t){return t&&w.a.getCreationTime(t)<w.a.getCreationTime(l)?Object(I.r)(e,w.a.getSender(t)):e}),p);return Object(I.b)(v,[l]);case m.G:var h=t.payload.chatMessage;return Object(I.u)(e,[h]);case m.C:var E=t.payload.chatMessageId;return Object(I.t)(e,E);case m.l:return g()(e,{$merge:{loading:!0}});case m.n:return g()(e,{$merge:{loading:!1}});case m.m:var k=t.payload;return Object(I.l)(e,k);case m.a:var S=t.payload,_=Object(I.j)(e,S.userId),A=!_||w.a.getCreationTime(_)<S.actionTime;if(A){var N=Object(I.g)(e,S.userId);if(!N)return N=C.a.makeIncoming().makeMessage({conversationId:S.conversationId,userId:S.userId,creationTime:S.actionTime}),Object(I.b)(e,[N]);if(w.a.getCreationTime(N)<S.actionTime)return N=new w.a(N).setCreationTime(S.actionTime).build(),Object(I.u)(e,[N])}return e;case m.b:var R=t.payload.userId;return Object(I.r)(e,R);case x.g:var P=t.payload.status;return P===y.a.DISCONNECTED?Object(I.p)(e):e;case m.j:var L=t.payload.closed;return L?Object(I.p)(e):e;default:return e}}}),L=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case j.b:e=[N.e];break;case m.H:e=[n.payload.conversationId];break;case m.r:case m.u:e=[n.payload.conversationId];break;case m.s:case m.J:e=[n.payload.conversationResponse.id];break;case m.g:var r=n.payload.conversationResponse;e=v()(a()(r.results,p()("id")),Object.keys(t));break;case x.g:var c=n.payload.status;e=c===y.a.DISCONNECTED?Object.keys(t):[];break;case m.j:e=Object.keys(t);break;case m.G:var o=u()(n,"payload.conversationId");e=o&&t[o]?[o]:[];break;default:var i=u()(n,"payload.conversationId");e=i?[i]:[]}return f()(e,(function(e,r){var a=t[r],c=P(a,n);return a!==c?g()(e,Object(d.a)({},r,{$set:c})):e}),t)},D=n(35),M=n(25),B=n.n(M),U=n(243),F=n.n(U),G=n(180),z=n.n(G),V=n(88),W=n.n(V),H=n(87),K=n.n(H),Y=n(130),$=n.n(Y),X=n(74),q=n.n(X),J=n(158),Q=n(141),Z=n(81),ee=n(67),te={byId:{},byCaseId:{},invalidIds:[],ids:[],loaded:!1,loading:!1,size:0,hasMore:!1,totalOpenConversations:0};var ne=function(e){return e.ids},re=function(e,t){return e.byCaseId[t]},ae=function(e){return e.byId},ce=function(e,t){return ae(e)[t]},oe=function(e){return e.loaded},ie=function(e){return e.totalOpenConversations},se=function(e,t){return ce(e,t).startedByContext},ue=function(e,t){return ce(e,t).createCase},de=function(e,t){return ce(e,t).additional},le=function(e,t){return u()(ce(e,t),"deleted")},fe=function(e,t){return u()(ce(e,t),"disclaimerCard")},be=function(e,t){return W()(u()(e,"invalidIds"),t)},pe=function(e){return!e.startsWith(N.a)},Oe=function(e){return f()(e.byId,(function(t,n){return t+(function(e,t){return Q.a.getUnreadCount(ce(e,t))}(e,n.id)||0)}),0)},ve=function(e,t){var n={};return B()(e,(function(e){Object.assign(n,Object(ee.g)(t,Q.a.getParticipants(e)))})),n},he=Object(J.a)([function(e){return e},function(e,t){return t}],(function(e,t){return ve([e],t)})),ge=Object(J.a)([function(e,t){return e},function(e,t){return t}],(function(e,t){return ve(e,t)})),je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.b:var n=t.payload,r=n.handshakeDetails,c=n.clientContext;return Object.assign({},e,{byId:Object(d.a)({},N.e,Object(I.c)(N.e,a()(Z.a.getBotUsers(r),"userId"),c)),totalOpenConversations:Z.a.getNumberOfOpenConversations(r)||0});case m.e:var o=t.payload.context;return g()(e,{byId:Object(d.a)({},N.e,{startedByContext:{$merge:o}})});case m.H:return Object.assign({},e,{byId:Object.assign({},e.byId,Object(d.a)({},t.payload.conversationId,Object(I.c)(t.payload.conversationId,F()(a()(t.payload.messages,"sender")),Object.assign({},e.byId[N.e].startedByContext,t.payload.conversationContext),t.payload.createCase,t.payload.additional)))});case m.r:case m.u:var i=t.payload.caseId?Object.assign({},e.byCaseId,Object(d.a)({},t.payload.caseId,t.payload.conversationId)):e.byCaseId;return Object.assign({},e,{byId:Object.assign({},e.byId,Object(d.a)({},t.payload.conversationId,Object(I.c)(t.payload.conversationId,[],{}))),byCaseId:i});case m.J:return Object(I.o)(e,t.payload.conversationResponse.id,t.payload);case m.f:return g()(e,{loading:{$set:!0}});case m.s:case m.v:var s=t.payload,u=s.conversationResponse,l=s.botUserIds,b=s.chatUserId,p=Object(I.i)([u],e.byId,{botUserIds:l,chatUserId:b}),O=Object.assign({},e.byId,p),v=t.payload.caseId?Object.assign({},e.byCaseId,Object(d.a)({},t.payload.caseId,u.id)):e.byCaseId,h=F()([].concat(Object(D.a)(e.ids),Object(D.a)(Object.keys(p))));return Object.assign({},e,{byId:O,ids:h,byCaseId:v});case m.t:case m.w:var x=t.payload.conversationId;return Object.assign({},e,{invalidIds:[].concat(Object(D.a)(e.invalidIds),[x])});case m.g:var y=t.payload,w=y.conversationResponse,C=y.botUserIds,T=y.chatUserId,E=Object(I.i)(w.results,e.byId,{botUserIds:C,chatUserId:T}),k=Object.assign({},e.byId,E),S=F()([].concat(Object(D.a)(e.ids),Object(D.a)(Object.keys(E))));return Object.assign({},e,{byId:k,hasMore:w.hasMore,ids:S,loaded:!0,loading:!1,size:w.totalCount||0,totalOpenConversations:K()(w.noOfOpenConversations)?e.totalOpenConversations:w.noOfOpenConversations});case m.j:var _=t.payload,A=_.conversationId,R=_.deleted,P=_.closed,L=_.includeAll,M=A&&e.byId[A];if(!M&&!L)return e;var B=R?L?[]:z()(e.ids,(function(e){return e!==A})):e.ids,U=f()(L?$()(q()(e.byId,N.e)):[A],(function(e,t){var n=e[t];return g()(e,Object(d.a)({},t,{$merge:{deleted:n.deleted||R,closed:P}}))}),e.byId);return Object.assign({},e,{byId:U,ids:B,totalOpenConversations:L?0:!M||M.deleted||M.closed||!P&&!R?e.totalOpenConversations:Math.min(e.totalOpenConversations-1,0)});case m.q:var G=t.payload,V=G.conversationId,W=G.disclaimerStatus;return g()(e,{byId:Object(d.a)({},V,{disclaimerCard:{disclaimerStatus:{$set:W}}})});case m.d:var H=t.payload,Y=H.conversationId,X=H.videoCallEnabled,J=H.audioCallEnabled;return g()(e,{byId:Object(d.a)({},Y,{$merge:{videoCallEnabled:X,audioCallEnabled:J}})});case m.m:var ee=t.payload.conversationMessagesResponse,ne=t.payload.conversationId;return Object(I.n)(e,ne,ee.results);case m.E:case m.B:var re=t.payload.chatMessage,ae=t.payload.conversationId,ce=e.byId[ae];if(ae===N.e||!ce)return e;var oe=e;return-1===e.ids.indexOf(ae)&&(oe=g()(e,{byId:{$merge:Object(d.a)({},ae,Object.assign({},ce,{lastMessage:re,lastMessageId:re.id}))},ids:{$set:e.ids.concat(ae)},totalOpenConversations:{$set:e.totalOpenConversations+1}})),Object(I.n)(oe,ae,[re]);case m.a:return Object(I.m)(e,t.payload.conversationId,[t.payload.userId]);case m.K:var ie=t.payload,se=Object(I.f)(e.byId,ie);return g()(e,{byId:{$set:se}});case m.M:var ue=t.payload,de=ue.conversationId,le=ue.count,fe=Q.a.getUnreadCount(e.byId[de])||0;return g()(e,{byId:Object(d.a)({},de,{unreadCount:{$set:fe+(le||1)}})});case m.L:var be=t.payload.conversationId;return g()(e,{byId:Object(d.a)({},be,{unreadCount:{$set:0}})});default:return e}},me=Object(c.c)({conversations:je,conversationParts:L}),xe=function(e){return e.conversations},ye=function(e){return e.conversationParts},Ie=function(e,t){return ye(e)[t]},we=function(e,t){return Ie(e,t).messages},Ce=Object(J.b)((function(e,t){var n=e.byId,r=Object(I.k)(e,t);return Object.assign({},e,{ids:r,data:a()(r,(function(e){return n[e]}))})})),Te=function(e){var t=xe(e),n=ye(e);return Ce(t,n)},Ee=function(e){var t=e.byId;return i()(e.ids,(function(e){return!u()(t,"[".concat(e,"].closed"),!0)}))};t.c=me},226:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(12),a=n(710),c=n(10),o=n(6),i=Object(a.a)(["indices",0]),s=Object(a.a)(["indices",1]),u=Object(c.a)("url"),d=Object(c.a)("phoneNumber"),l=function e(){Object(r.a)(this,e)};l.getStartIndex=Object(o.a)(i),l.getEndIndex=Object(o.a)(s),l.getUrl=Object(o.a)(u),l.getPhoneNumber=Object(o.a)(d)},228:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r=function(){return"en"},a=function(e){return e.toLowerCase().split(/[_-]+/)[0]}},23:function(e,t,n){"use strict";n.d(t,"g",(function(){return m})),n.d(t,"c",(function(){return x})),n.d(t,"e",(function(){return y})),n.d(t,"d",(function(){return I})),n.d(t,"b",(function(){return w})),n.d(t,"f",(function(){return C}));var r=n(118),a=n(233),c=n(22),o=n(18),i=n.n(o),s=n(85),u=n.n(s),d=n(168),l=[];var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.a:return i()(e,{$push:[t.payload]});case d.b:var n=u()(e,(function(e){return e.id===t.payload.promptId}));return-1===n?e:i()(e,{$splice:[[n,1]]})}return e},b=n(67),p=n(138),O=n(51),v=n(149),h={};var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.h:return i()(e,{$set:{sessionState:v.b.INITIATED,messageId:t.payload.messageId,conversationId:t.payload.conversationId,agentId:t.payload.agentId}});case O.l:return i()(e,{$merge:{sessionState:v.b.SETUP}});case O.m:return i()(e,{sessionState:{$set:v.b.STARTED}});case O.f:return i()(e,{$set:h});case O.g:return i()(e,{$merge:{sessionState:v.b.FAILED}});case O.d:return i()(e,{remoteControlState:{$set:v.a.PENDING}});case O.b:return i()(e,{remoteControlState:{$set:v.a.ACTIVE}});case O.e:case O.c:return i()(e,{remoteControlState:{$set:v.a.INACTIVE}});case O.k:return i()(e,{$set:Object.assign({},t.payload.state,{sessionState:v.b.RESUMED})});default:return e}},j=Object(r.c)({chat:a.b,chatProactivePrompts:f,chatConversations:c.c,usersMap:b.a,call:p.a,cobrowse:g}),m=function(e){return e.usersMap},x=function(e){return e.chatConversations},y=function(e){return e.chat},I=function(e){return e.chatProactivePrompts},w=function(e){return e.call},C=function(e){return e.cobrowse};t.a=j},233:function(e,t,n){"use strict";n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return l}));var r=n(18),a=n.n(r),c=n(30),o=n(184),i={connectionStatus:o.a.CONNECTED,lockConversations:{enabled:!1,reason:""},analyticsEvents:[]};var s=function(e){return e.connectionStatus===o.a.CONNECTED},u=function(e){return e.lockConversations.enabled},d=function(e){return e.lockConversations.reason},l=function(e){return e.analyticsEvents};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.g:return a()(e,{connectionStatus:{$set:t.payload.status}});case c.j:return a()(e,{lockConversations:{$merge:{enabled:!0,reason:t.payload.reason}}});case c.n:return a()(e,{lockConversations:{$merge:{enabled:!1,reason:""}}});case c.i:return a()(e,{analyticsEvents:{$push:[t.payload]}});case c.h:return a()(e,{analyticsEvents:{$set:e.analyticsEvents.slice(1)}});default:return e}}},234:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={BOX:"box",BUBBLE:"bubble",CLOUD:"cloud",MIC:"mic",ELLIPSIS:"ellipsis",ELLIPSIS_STROKE:"ellipsis-stroke",CROSS:"cross",CHEVRON:"chevron",MINIMIZE:"minimize"}},24:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(12),a=n(10),c=n(6),o=Object(a.a)("field"),i=Object(a.a)("values"),s=Object(a.a)("filterType"),u=Object(a.a)("filters"),d=Object(a.a)("details"),l=function e(){Object(r.a)(this,e)};l.getField=Object(c.a)(o),l.getValues=Object(c.a)(i),l.getFilterType=Object(c.a)(s),l.getFilters=Object(c.a)(u),l.getDetails=Object(c.a)(d)},245:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r="@conversation/NEW_CONVERSATION_OPEN",a="@conversation/MEDIA_SEND"},246:function(e,t,n){"use strict";var r=n(2),a=n(408);t.a=function(){return Object(r.useContext)(a.a)}},248:function(e,t,n){"use strict";var r=n(2),a=n(379);t.a=function(){return Object(r.useContext)(a.a)}},26:function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"e",(function(){return h})),n.d(t,"a",(function(){return g})),n.d(t,"f",(function(){return j})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return x}));var r=n(4),a=n(13),c=n(33),o=n(61),i=n.n(o),s=n(152),u=n.n(s),d=n(15),l=n.n(d),f=n(56),b=n.n(f),p=n(320),O=n.n(p);function v(){return window.parent}function h(){return v().sprChat}function g(){return window.sprChatSettings}function j(e){window.sprChatSettings=e}function m(){return v().sprChatSettings}function x(){var e=function(){var e=v().location.search.substring(1)||v().location.hash.split("?")[1];return l()(e)?{}:i()(u()(e,"&"),(function(e,t){var n=u()(t,"="),r=Object(c.a)(n,2),a=r[0],o=r[1];if(l()(a)||!O()(a,"spr_"))return e;var i=a.split("spr_")[1],s=e[i],d=decodeURIComponent(o);return e[i]=s?b()(s)?s.concat(d):[s,d]:d,e}),{})}();return i()(e,(function(e,t,n){if(O()(n,"user_")){var c=u()(n,"user_")[1];return e.user=Object(a.a)(Object(a.a)({},e.user),{},Object(r.a)({},c,t)),e}if(O()(n,"context_")){var o=u()(n,"context_")[1];return e.clientContext=Object(a.a)(Object(a.a)({},e.clientContext),{},Object(r.a)({},o,t)),e}if(O()(n,"userContext_")){var i=u()(n,"userContext_")[1];return e.userContext=Object(a.a)(Object(a.a)({},e.userContext),{},Object(r.a)({},i,t)),e}return e[n]=t,e}),{})}},263:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(50),a=n(3),c=n(207),o=n(2),i=n.n(o),s=n(323),u=n.n(s),d=n(17),l=n(115);var f=Object(d.a)("button",{target:"e1hw652w0"})("background-color:transparent;border-radius:4px;border:0;cursor:pointer;height:40px;position:relative;width:40px;:before{content:'';display:block;opacity:0;position:absolute;transition-duration:0.15s;transition-timing-function:cubic-bezier(0.4,0,0.2,1);bottom:0;left:0;right:0;top:0;background:none;border-radius:4px;box-sizing:border-box;transform:scale(0);transition-property:transform,opacity;}&:hover:before,&:focus:before{border:none;opacity:1;transform:scale(1);}",l.h,"{&:hover:before,&:focus:before{opacity:0;transform:scale(0);}&:active:before{border:none;opacity:1;transform:scale(1);}}"),b={name:"1qlyuxe",styles:"position:relative;height:12px;width:12px;flex:0 0 auto;"},p=n(135),O=["iconName","iconCss","Icon","onLoad"],v=i.a.forwardRef((function(e,t){var n=e.iconName,o=e.iconCss,i=e.Icon,s=e.onLoad,d=Object(c.a)(e,O);return Object(a.jsx)(f,Object(r.a)({},d,{ref:t,"aria-label":n,className:u()("center-x-y",e.className)}),Object(a.jsx)(p.b,{alt:i,name:n,css:Object(a.css)([b,o],""),onLoad:s}),e.children)}))},264:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var r=/^https?:\/\//i,a=function(e){return e.match(r)?e:"https://".concat(e)},c=function(e){return e.map((function(e){return"".concat(e.key,"=").concat(e.value)})).join("&")}},265:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return c}));var r="PAGE",a="WIDGET",c="ANY"},266:function(e,t,n){"use strict";t.a={IMAGE:"IMAGE",VIDEO:"VIDEO",DIALOGUE:"DIALOGUE"}},268:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var r=["video/mp4","video/quicktime"],a=["image/jpeg","image/png","image/gif"],c=["application/pdf"]},269:function(e,t,n){"use strict";var r=n(12),a=n(38),c=n.n(a),o=n(62),i=n.n(o),s=function e(t){var n=this;Object(r.a)(this,e),this.matches=function(e,t,r){var a=0;n._currentFilterAction=n._filterActions[a],n._currentFilterAction.matches((function c(){n.clear(),(a+=1)!==n._filterActions.length?(n._currentFilterAction=n._filterActions[a],n._currentFilterAction.matches(c,t,r)):e()}),t,r)},this.clear=function(){n._currentFilterAction&&n._currentFilterAction.clear(),n._currentFilterAction=null},this._filterActions=t,this._currentFilterAction=null},u=n(25),d=n.n(u),l=function e(t){var n=this;Object(r.a)(this,e),this.matches=function(e,t,r){var a=function(){n.clear(),e()};d()(n._filterActions,(function(e){return e.matches(a,t,r)}))},this.clear=function(){d()(n._filterActions,(function(e){return e.clear()})),n._filterActions=[]},this._filterActions=t},f=function e(t){var n=this;Object(r.a)(this,e),this._visibilityChangeHandler=function(){"visible"===document.visibilityState&&n._matches(),"hidden"===document.visibilityState&&n._timeoutId&&window.clearTimeout(n._timeoutId)},this._matches=function(){if(n._clockInstance){var e=0;if(n._from&&((e=n._from-n._clockInstance.time())<0||0===e&&n._includeLower))n._callback&&n._callback();else{if(n._to)return(e=n._to-n._clockInstance.time())>0||0===e&&n._includeUpper?void(n._callback&&n._callback()):void 0;if("visible"===document.visibilityState){var t=e-n._clockInstance.time();n._timeoutId&&window.clearTimeout(n._timeoutId),n._timeoutId=window.setTimeout((function(){n._callback&&n._callback()}),t)}}}},this.matches=function(e,t){n._callback=e,n._clockInstance=t.activeTimeSpentClock,n._matches()},this.clear=function(){document.removeEventListener("visibilitychange",n._visibilityChangeHandler),n._timeoutId&&window.clearTimeout(n._timeoutId)},this._from=t.from?t.from:null,this._to=t.to?t.to:null,this._includeLower=t.includeLower,this._includeUpper=t.includeUpper,this._clockInstance=null,this._callback=null,this._timeoutId=null,document.removeEventListener("visibilitychange",this._visibilityChangeHandler)},b=function e(t){var n=this;Object(r.a)(this,e),this._visibilityChangeHandler=function(){"visible"===document.visibilityState&&n._timeoutId&&window.clearTimeout(n._timeoutId),"hidden"===document.visibilityState&&n._matches()},this._matches=function(){if(n._clockInstance){var e=0;if(n._from&&((e=n._from-n._clockInstance.time())<0||0===e&&n._includeLower))n._callback&&n._callback();else{if(n._to)return(e=n._to-n._clockInstance.time())>0||0===e&&n._includeUpper?void(n._callback&&n._callback()):void 0;if("hidden"===document.visibilityState){var t=e-n._clockInstance.time();n._timeoutId&&window.clearTimeout(n._timeoutId),n._timeoutId=window.setTimeout((function(){n._callback&&n._callback()}),t)}}}},this.matches=function(e,t){n._callback=e,n._clockInstance=t.inactiveTimeSpentClock,n._matches()},this.clear=function(){document.removeEventListener("visibilitychange",n._visibilityChangeHandler),n._timeoutId&&window.clearTimeout(n._timeoutId)},this._from=t.from?t.from:null,this._to=t.to?t.to:null,this._includeLower=t.includeLower,this._includeUpper=t.includeUpper,this._clockInstance=null,this._callback=null,this._timeoutId=null,document.removeEventListener("visibilitychange",this._visibilityChangeHandler)},p=function e(t){var n=this;Object(r.a)(this,e),this.matches=function(e,t){var r=t.totalTimeSpentClock,a=0;if(n._from&&((a=n._from-r.time())<0||0===a&&n._includeLower))e&&e();else{if(n._to)return(a=n._to-r.time())>0||0===a&&n._includeUpper?void(e&&e()):void 0;n.clear(),n._timeoutId=window.setTimeout((function(){e(),n.clear()}),a)}},this.clear=function(){n._timeoutId&&window.clearTimeout(n._timeoutId)},this._from=t.from?t.from:null,this._to=t.to?t.to:null,this._includeLower=t.includeLower,this._includeUpper=t.includeUpper,this._timeoutId=null},O=n(31),v=n(24),h=function(){function e(t,n){Object(r.a)(this,e),this._dependentInterceptID=i()(v.a.getValues(n)),this._from=t.from?t.from:null,this._timeoutId=null}return Object(O.a)(e,[{key:"matches",value:function(e,t){var n=this,r=t.interceptActionDetails;if(this._from&&r){var a=this._from-(Date.now()-r.getActionTime(this._dependentInterceptID));a<=0?e():(this.clear(),this._timeoutId=window.setTimeout((function(){e(),n.clear()}),a))}}},{key:"clear",value:function(){this._timeoutId&&window.clearTimeout(this._timeoutId)}}]),e}(),g=n(98),j=n.n(g),m=n(225),x=n.n(m),y=n(205),I=n.n(y),w=function e(t){var n=this;Object(r.a)(this,e),this._compareValues=function(e,t){return x()(e)&&x()(t)?e-t:j()(e)&&j()(t)?e.localeCompare(t):-1},this.matches=function(e,t,r){if(I()(n._from)||I()(n._to)||0===n._compareValues(r,n._from)){if(!I()(n._from)){var a=n._compareValues(r,n._from);if(a<0||0===a&&!n._includeLower)return}if(!I()(n._to)){var c=n._compareValues(r,n._to);if(c>0||0===c&&!n._includeUpper)return}e()}},this.clear=function(){},this._from=t.from,this._to=t.to,this._includeLower=t.includeLower,this._includeUpper=t.includeUpper},C=n(41),T=function(e,t,n){switch(e){case C.a.TOTAL_TIME_SPENT:return new p(t);case C.a.ACTIVE_TIME_SPENT:return new f(t);case C.a.INACTIVE_TIME_SPENT:return new b(t);case C.a.DEPENDENT_DURATION_KEY:return new h(t,n);default:return new w(t)}},E=function e(t,n,a){var c=this;Object(r.a)(this,e),this.matches=function(e,t,n){var r=v.a.getField(c._filter);c._evaluatorInstance=T(r,c._filterParams,c._parentFilter),c._evaluatorInstance&&c._evaluatorInstance.matches(e,t,n?n[r]:void 0)},this.clear=function(){c._evaluatorInstance&&c._evaluatorInstance.clear()},this._filter=t,this._filterParams=n,this._evaluatorInstance=null,this._parentFilter=a},k=function e(t,n){var a=this;Object(r.a)(this,e),this.matches=function(e,t,n){var r=n?n[a._fieldName]:void 0;r&&new RegExp(a._regex).test(r)&&e()},this.clear=function(){},this._fieldName=t,this._regex=n},S=n(9),_=n.n(S),A=n(87),N=n.n(A),R=function e(t){var n=this;Object(r.a)(this,e),this.matches=function(e,t,r){var a=v.a.getField(n._filter),c=v.a.getValues(n._filter),o=v.a.getDetails(n._filter),i=r?r[a]:void 0;if(i)switch(a){case C.a.BUSINESS_HOURS:var s=_()(o,"timeToBusinessHours"),u=_()(o,"nextValidRangeInBusinessHours");if(!N()(s)&&0===s)break;if(u){var d=u.from,l=u.upto,f=u.includeLower,b=u.includeUpper;(f?i>=d:i>d)&&(b?i<=l:i<l)||e()}break;default:c.includes(i)&&e()}},this.clear=function(){},this._filter=t},P=function e(t){var n=this;Object(r.a)(this,e),this.matches=function(e,t,r){var a=v.a.getField(n._filter),c=v.a.getValues(n._filter),o=r?r[a]:void 0;c.includes(o)||e()},this.clear=function(){},this._filter=t},L=n(15),D=n.n(L),M="CLOSE",B="ENGAGE",U=function(){function e(t){Object(r.a)(this,e),this._filter=t,this._unsubscribeInterceptActionEvent=null,this._dependentFilterAction=void 0}return Object(O.a)(e,[{key:"matches",value:function(e,t){var n=this,r=t.interceptActionDetails,a=i()(v.a.getValues(this._filter));if(r&&a){var c=v.a.getDetails(this._filter),o=function(){c&&!D()(c.dependentFilter)?(n._dependentFilterAction=V.createFilterAction(c.dependentFilter,n._filter),n._dependentFilterAction.matches(e,t)):e()},s=r.getActionState(a);s?s===B&&o():this._unsubscribeInterceptActionEvent=r.setSubscriber(a,(function(e){e===B&&o()}))}}},{key:"clear",value:function(){this._unsubscribeInterceptActionEvent&&this._unsubscribeInterceptActionEvent(),this._dependentFilterAction&&this._dependentFilterAction.clear()}}]),e}(),F=function(){function e(t){Object(r.a)(this,e),this._filter=t,this._unsubscribeInterceptActionEvent=null,this._dependentFilterAction=void 0}return Object(O.a)(e,[{key:"matches",value:function(e,t){var n=this,r=t.interceptActionDetails,a=i()(v.a.getValues(this._filter));if(r&&a){var c=v.a.getDetails(this._filter),o=function(){c&&!D()(c.dependentFilter)?(n._dependentFilterAction=V.createFilterAction(c.dependentFilter,n._filter),n._dependentFilterAction.matches(e,t)):e()},s=r.getActionState(a);s?s===M&&o():this._unsubscribeInterceptActionEvent=r.setSubscriber(a,(function(e){e===M&&o()}))}}},{key:"clear",value:function(){this._unsubscribeInterceptActionEvent&&this._unsubscribeInterceptActionEvent(),this._dependentFilterAction&&this._dependentFilterAction.clear()}}]),e}(),G=n(54),z=function e(){Object(r.a)(this,e)};z.createFilterAction=function(e,t){switch(v.a.getField(e)){case C.a.INTERCEPT_ENGAGED_IN_SESSION_KEY:return new U(e);case C.a.INTERCEPT_CLOSED_IN_SESSION_KEY:return new F(e)}switch(v.a.getFilterType(e)){case G.a.AND:return new s(c()(v.a.getFilters(e),(function(e){return z.createFilterAction(e,t)})));case G.a.OR:return new l(c()(v.a.getFilters(e),(function(e){return z.createFilterAction(e,t)})));case G.a.LT:return z.lt(e,t);case G.a.LTE:return z.lte(e,t);case G.a.GT:return z.gt(e,t);case G.a.GTE:return z.gte(e,t);case G.a.REGEX:return z.regex(v.a.getField(e),i()(v.a.getValues(e)));case G.a.CONTAINS:case G.a.IN:return z.in(e);case G.a.NIN:return z.nin(e);default:return z.equals(e,t)}},z.lt=function(e,t){return new E(e,{from:null,to:i()(v.a.getValues(e)),includeLower:!1,includeUpper:!1},t)},z.lte=function(e,t){return new E(e,{from:null,to:i()(v.a.getValues(e)),includeLower:!1,includeUpper:!0},t)},z.gt=function(e,t){return new E(e,{from:i()(v.a.getValues(e)),to:null,includeLower:!1,includeUpper:!1},t)},z.gte=function(e,t){return new E(e,{from:i()(v.a.getValues(e)),to:null,includeLower:!0,includeUpper:!1},t)},z.equals=function(e,t){var n=i()(v.a.getValues(e));return new E(e,{from:n,to:n,includeLower:!0,includeUpper:!0},t)},z.regex=function(e,t){return new k(e,t)},z.in=function(e){return new R(e)},z.nin=function(e){return new P(e)};var V=t.a=z},27:function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var r=n(12),a=n(10),c=n(6),o=Object(a.a)("appId"),i=Object(a.a)("locale"),s=Object(a.a)("user"),u=Object(a.a)("clientContext"),d=Object(a.a)("userContext"),l=Object(a.a)("sessionStorage"),f=Object(a.a)("autoTrigger"),b=Object(a.a)("disableAttachment"),p=Object(a.a)("enableClose"),O=Object(a.a)("device"),v=Object(a.a)("mode"),h=Object(a.a)("variant"),g=Object(a.a)("scope"),j=Object(a.a)("landingScreen"),m=Object(a.a)("disableHeader"),x=Object(a.a)("container"),y=Object(a.a)("skin"),I=Object(a.a)("meetingId"),w=Object(a.a)("otp"),C=Object(a.a)("sessionOrigin"),T=function e(){Object(r.a)(this,e)};T.getAppId=Object(c.a)(o),T.getLocale=Object(c.a)(i),T.getUserSettings=Object(c.a)(s),T.getClientContext=Object(c.a)(u),T.getUserContext=Object(c.a)(d),T.getSessionStorage=Object(c.a)(l),T.getAutoTrigger=Object(c.a)(f),T.getDisableAttachment=Object(c.a)(b),T.getEnableClose=Object(c.a)(p),T.getDevice=Object(c.a)(O),T.getMode=Object(c.a)(v),T.getVariant=Object(c.a)(h),T.getScope=Object(c.a)(g),T.getLandingScreen=Object(c.a)(j),T.getDisableHeader=Object(c.a)(m),T.getContainer=Object(c.a)(x),T.getSkin=Object(c.a)(y),T.getMeetingId=Object(c.a)(I),T.getOtp=Object(c.a)(w),T.getSessionOrigin=Object(c.a)(C)},270:function(e,t,n){"use strict";var r=n(2),a=n.n(r).a.createContext({height:0,width:0});t.a=a},272:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return f})),n.d(t,"d",(function(){return b}));var r=n(25),a=n.n(r),c=n(85),o=n.n(c),i=n(45),s=n(20);function u(e){Object(s.F)()&&e({type:i.a})}var d=[];function l(e,t){d.push(t)}function f(e,t){var n=o()(d,(function(e){return e===t}));-1!==n&&d.splice(n,1)}function b(){a()(d,(function(e){return e()}))}},30:function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"g",(function(){return a})),n.d(t,"m",(function(){return c})),n.d(t,"l",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return l})),n.d(t,"k",(function(){return f})),n.d(t,"j",(function(){return b})),n.d(t,"n",(function(){return p})),n.d(t,"i",(function(){return O})),n.d(t,"h",(function(){return v}));var r="@chat/CONNECTION_INIT",a="@chat/CONNECTION_STATUS",c="@chat/SESSION_EXPIRED",o="@chat/REFRESH",i="@chat/APP_ACTIVATED",s="@chat/APP_DEACTIVATED",u="@chat/AUTHENTICATION_INIT",d="@chat/AUTHENTICATION_SUCCESS",l="@chat/AUTHENTICATION_ABORT",f="@chat/NOTIFICATION_EVENTS_RECEIVED",b="@chat/LOCK_CONVERSATIONS",p="@chat/UNLOCK_CONVERSATIONS",O="@analyticsEvents/ENQUEUE_ANALYTICS_EVENT",v="@analyticsEvents/DEQUEUE_ANALYTICS_EVENT"},304:function(e,t,n){"use strict";n.d(t,"c",(function(){return y})),n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return T})),n.d(t,"d",(function(){return E}));var r=n(0),a=n.n(r),c=n(19),o=n(200),i=n.n(o),s=n(112),u=n(694),d=n(2),l=n.n(d),f=n(695),b=n.n(f),p=n(323),O=n.n(p),v=n(17),h=n(3),g="".concat("https://prod-video-chat-chat.sprinklr.com","/api"),j={load:i()((function(e){return window.React=l.a,window.classnames=O.a,window["@emotion/styled-base"]=v.a,window["@emotion/styled"]=u.a,window["@emotion/core"]=h,new Promise((function(t){var n;b()((n=e,"".concat(g).concat(n)),(function(){t()}))}))}))},m=n(27),x="/livechat/handshake";function y(e){return I.apply(this,arguments)}function I(){return(I=Object(c.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=m.a.getAppId(t)){e.next=3;break}return e.abrupt("return",Promise.reject(void 0));case 3:return e.next=5,s.a.get("".concat(x,"/application/").concat(n),{headers:{"x-chat-locale":m.a.getLocale(t)}});case 5:return r=e.sent,e.abrupt("return",r.data);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return C.apply(this,arguments)}function C(){return(C=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.appId){e.next=3;break}return e.abrupt("return",Promise.reject(void 0));case 3:return e.next=5,s.a.post("".concat(x,"/appHandshake"),t,{headers:{"x-chat-locale":t.locale}});case 5:return n=e.sent,e.abrupt("return",n.data);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T=i()((function(e,t){return j.load("".concat(x,"/template-preview-config?templateType=").concat(e,"&channelType=").concat(t)).then((function(){var e=window.MySpxComponent;return e?(window.MySpxComponent=void 0,e.default||e):Promise.reject(null)}))})),E=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},306:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="TEXT";t.b={TEXT:r,LOCATION:"LOCATION",PHONE_NUMBER:"PHONE_NUMBER"}},308:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return d}));var r=n(25),a=n.n(r),c=n(85),o=n.n(c),i=[];function s(e,t){i.push(t)}function u(e,t){var n=o()(i,(function(e){return e===t}));-1!==n&&i.splice(n,1)}function d(e){var t=e.count;a()(i,(function(e){return e(t)}))}},309:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return d}));var r=n(25),a=n.n(r),c=n(85),o=n.n(c),i=[];function s(e,t){i.push(t)}function u(e,t){var n=o()(i,(function(e){return e===t}));-1!==n&&i.splice(n,1)}function d(e){a()(i,(function(t){return t(e)}))}},310:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return d}));var r=n(25),a=n.n(r),c=n(85),o=n.n(c),i=[];function s(e,t){i.push(t)}function u(e,t){var n=o()(i,(function(e){return e===t}));-1!==n&&i.splice(n,1)}function d(e){var t=e.error;a()(i,(function(e){return e(t)}))}},311:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return d}));var r=n(25),a=n.n(r),c=n(85),o=n.n(c),i=[];function s(e,t){i.push(t)}function u(e,t){var n=o()(i,(function(e){return e===t}));-1!==n&&i.splice(n,1)}function d(){a()(i,(function(e){return e()}))}},312:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return d}));var r=n(25),a=n.n(r),c=n(85),o=n.n(c),i=[];function s(e,t){i.push(t)}function u(e,t){var n=o()(i,(function(e){return e===t}));-1!==n&&i.splice(n,1)}function d(){a()(i,(function(e){return e()}))}},313:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return d}));var r=n(25),a=n.n(r),c=n(85),o=n.n(c),i=[];function s(e,t){i.push(t)}function u(e,t){var n=o()(i,(function(e){return e===t}));-1!==n&&i.splice(n,1)}function d(e){a()(i,(function(t){return t(e)}))}},314:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return d}));var r=n(25),a=n.n(r),c=n(85),o=n.n(c),i=[];function s(e,t){i.push(t)}function u(e,t){var n=o()(i,(function(e){return e===t}));-1!==n&&i.splice(n,1)}function d(e){a()(i,(function(t){return t(e)}))}},318:function(e,t,n){"use strict";var r=n(2),a=n.n(r),c=n(116),o=n.n(c),i=a.a.createContext({setVisibleModal:o.a});t.a=i},324:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(2),a=n(209);function c(){return Object(r.useContext)(a.b)}},326:function(e,t,n){"use strict";var r=n(2),a=n(92),c=n.n(a),o=n(91),i=n.n(o),s=n(9),u=n.n(s),d=n(170),l=n(228);t.a=function(){var e=Object(d.a)(),t=e.locale,n=e.language;return Object(r.useCallback)((function(e,r){var a=u()(e,"langVsTranslatedFieldValues");if(!i()(a))return u()(e,r);var o=u()(a,t)||u()(a,n);return o||(o=c()(a,(function(e,t){return Object(l.b)(t)===n}))),u()(o,r)||u()(e,r)}),[t])}},327:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(50),o=n(33),i=n(207),s=n(19),u=n(2),d=n(148),l=n.n(d),f=n(232),b=n(9),p=n.n(b),O=n(75),v=n(400),h=n(17),g=n(5),j=Object(h.a)("div",{target:"e1hxxqun0"})("border-radius:20px;background-color:",(function(e){return!e.svgLoaded&&Object(g.a)("azure")(e)}),";"),m=n(3),x=["name","className","theme","window","css","onLoad"];function y(){return(y=Object(s.a)(a.a.mark((function e(t,n,r,c){var o,i,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.document.getElementById(n),e.next=3,Object(v.a)(r);case 3:i=e.sent,(s=i.documentElement.cloneNode(!0)).setAttribute("class","spa full-height full-width"),s.setAttribute("style","top:0px; left:0px"),o&&o.appendChild(s),c();case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var I=function(e){var t=e.name,n=e.className,r=e.theme,a=e.window,s=e.css,d=e.onLoad,f=Object(i.a)(e,x),b=Object(u.useMemo)((function(){return"".concat(t,"_").concat(l()())}),[t]),O=Object(u.useState)(!1),v=Object(o.a)(O,2),h=v[0],g=v[1];return Object(u.useEffect)((function(){h&&d&&d()}),[h,d]),Object(u.useEffect)((function(){var e=p()(r,["icons",t]);!function(e,t,n,r){y.apply(this,arguments)}(a,b,e,(function(){g(!0)}))}),[b,t]),Object(m.jsx)(j,Object(c.a)({className:"spr ".concat(n),css:s,id:b,svgLoaded:h},f))},w=function(e){var t=e.name,n=e.className,r=e.theme,a=e.css,c=e.onClick,o=e.onKeyPress,i=e.alt,s=e.onLoad,d=p()(r,"icons.".concat(t));if(Object(u.useEffect)((function(){!d&&s&&s()}),[d,s]),d)return Object(m.jsx)(I,e);var l=i;return Object(m.jsx)(l,{className:n,css:a,onClick:c,onKeyPress:o})};t.a=Object(u.memo)(Object(O.c)((function(e){return Object(m.jsx)(f.FrameContextConsumer,null,(function(t){var n=t.window;return Object(m.jsx)(w,Object(c.a)({},e,{window:n}))}))})))},330:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={SNACK_BAR:1e3,MODAL_FRAME:999,ACTION_MENU:998,CONNECTION_STATUS_BAR:997,TIME_LINE:1}},331:function(e,t,n){"use strict";var r=n(2),a=n(318);t.a=function(){return Object(r.useContext)(a.a)}},332:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(2),a=n.n(r),c=function(e){var t=a.a.lazy(e);return t.preload=e,t}},333:function(e,t,n){"use strict";n.d(t,"b",(function(){return N})),n.d(t,"a",(function(){return A}));var r=n(50),a=n(13),c=n(33),o=n(2),i=n.n(o),s=n(79),u=n(87),d=n.n(u),l=n(88),f=n.n(l),b={en:function(){return n.e(15).then(n.bind(null,1844))},es:function(){return n.e(16).then(n.bind(null,1845))},ml:function(){return n.e(33).then(n.bind(null,1846))},ar:function(){return n.e(10).then(n.bind(null,1847))},he:function(){return n.e(21).then(n.bind(null,1848))},zh:function(){return n.e(62).then(n.bind(null,1849))},ko:function(){return n.e(28).then(n.bind(null,1850))},ja:function(){return n.e(27).then(n.bind(null,1851))},tr:function(){return n.e(59).then(n.bind(null,1852))},pt:function(){return n.e(39).then(n.bind(null,1853))},de:function(){return n.e(14).then(n.bind(null,1854))},sv:function(){return n.e(57).then(n.bind(null,1855))},da:function(){return n.e(13).then(n.bind(null,1856))},fi:function(){return n.e(18).then(n.bind(null,1857))},et:function(){return n.e(17).then(n.bind(null,1858))},lt:function(){return n.e(29).then(n.bind(null,1859))},lv:function(){return n.e(30).then(n.bind(null,1860))},nb:function(){return n.e(34).then(n.bind(null,1861))},id:function(){return n.e(24).then(n.bind(null,1862))},vi:function(){return n.e(61).then(n.bind(null,1863))},th:function(){return n.e(58).then(n.bind(null,1864))},fr:function(){return n.e(19).then(n.bind(null,1865))},cs:function(){return n.e(12).then(n.bind(null,1866))},sk:function(){return n.e(53).then(n.bind(null,1867))},ro:function(){return n.e(52).then(n.bind(null,1868))},hu:function(){return n.e(23).then(n.bind(null,1869))},it:function(){return n.e(26).then(n.bind(null,1870))},hr:function(){return n.e(22).then(n.bind(null,1871))},sr:function(){return n.e(56).then(n.bind(null,1872))},sl:function(){return n.e(54).then(n.bind(null,1873))},sq:function(){return Promise.all([n.e(1),n.e(55)]).then(n.bind(null,1874))},mk:function(){return Promise.all([n.e(1),n.e(32)]).then(n.bind(null,1875))},bs:function(){return Promise.all([n.e(1),n.e(11)]).then(n.bind(null,1876))},"zh-HK":function(){return n.e(63).then(n.bind(null,1877))},"zh-TW":function(){return n.e(64).then(n.bind(null,1878))},nl:function(){return n.e(35).then(n.bind(null,1879))},pl:function(){return n.e(38).then(n.bind(null,1880))}},p=n(304),O=function(e){var t=e.locale,n=e.language,r=e.defaultLocale,a=e.dataGetter;return[t,n,r].find((function(e){return a[e]}))};function v(e){var t=e.locale,n=e.language,r=e.defaultLocale,a=O({locale:t,language:n,defaultLocale:r,dataGetter:b});return a?b[a]():Promise.reject()}function h(e){var t=e.locale,n=e.language,r=e.defaultLocale,a=e.localeFiles,c=a&&O({locale:t,language:n,defaultLocale:r,dataGetter:a});return c?Object(p.d)(a[c]):Promise.reject()}var g=n(228),j=n(394),m=n(80),x=n(65),y=n(324),I=n(125),w=n(248),C=n(139),T=n(179),E=n(96),k=n(3),S=Object(g.a)(),_=i.a.createContext({locale:S,language:Object(g.b)(S),defaultLocale:S,direction:T.b.LTR}),A=function(e){var t=i.a.useState(),n=Object(c.a)(t,2),r=n[0],u=n[1],l=i.a.useState({messages:{}}),b=Object(c.a)(l,2),p=b[0],O=b[1],A=Object(y.a)(),N=Object(I.a)(C.d),R=Object(w.a)().timeZone,P=m.a.getDefaultLocale(A),L=m.a.getSupportedLocales(A),D=Object(o.useMemo)((function(){var t=P||S,n=d()(L)?e.locale||t:f()(L,e.locale)?e.locale:f()(L,Object(g.b)(e.locale))?Object(g.b)(e.locale):t,r=Object(g.b)(n);return{locale:n,language:r,defaultLocale:t,direction:Object(j.a)(r)?T.b.RTL:T.b.LTR}}),[e.locale]);return Object(o.useEffect)((function(){Promise.allSettled([v(D),h(Object(a.a)(Object(a.a)({},D),{},{localeFiles:x.a.getExternalLocaleData(m.a.getCustomizationConfig(A))}))]).then((function(e){var t=Object(c.a)(e,2),n=t[0],r=t[1],o=n.value||E.a,i=r.value||E.a;"rejected"!==n.status&&Object(s.e)(o.intlData),Intl.DateTimeFormat.__setDefaultTimeZone&&Intl.DateTimeFormat.__setDefaultTimeZone(R),O({locale:o.locale,messages:Object(a.a)(Object(a.a)({},o.messages),i)}),u(!0)}))}),[D,O,u]),Object(o.useEffect)((function(){r&&N(p.messages)}),[r,p,N]),r?Object(k.jsx)(_.Provider,{value:D},Object(k.jsx)(s.d,{locale:p.locale,messages:p.messages,defaultLocale:D.defaultLocale},e.children)):null},N=function(e){return function(t){return Object(k.jsx)(_.Consumer,null,(function(n){return Object(k.jsx)(e,Object(r.a)({},t,{intlContext:n}))}))}};_.Consumer,t.c=_},34:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"C",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"g",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"M",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"B",(function(){return d})),n.d(t,"t",(function(){return l})),n.d(t,"y",(function(){return f})),n.d(t,"q",(function(){return b})),n.d(t,"v",(function(){return p})),n.d(t,"n",(function(){return O})),n.d(t,"H",(function(){return v})),n.d(t,"E",(function(){return h})),n.d(t,"z",(function(){return g})),n.d(t,"r",(function(){return j})),n.d(t,"D",(function(){return m})),n.d(t,"L",(function(){return x})),n.d(t,"K",(function(){return y})),n.d(t,"u",(function(){return I})),n.d(t,"m",(function(){return w})),n.d(t,"j",(function(){return C})),n.d(t,"A",(function(){return T})),n.d(t,"s",(function(){return E})),n.d(t,"w",(function(){return k})),n.d(t,"o",(function(){return S})),n.d(t,"x",(function(){return _})),n.d(t,"p",(function(){return A})),n.d(t,"I",(function(){return N})),n.d(t,"i",(function(){return R})),n.d(t,"a",(function(){return P})),n.d(t,"e",(function(){return L})),n.d(t,"F",(function(){return D})),n.d(t,"l",(function(){return M})),n.d(t,"k",(function(){return B})),n.d(t,"h",(function(){return U})),n.d(t,"J",(function(){return F})),n.d(t,"G",(function(){return G}));var r="boot",a="open",c="close",o="enable",i="disable",s="updateUserContext",u="clearSession",d="onUnreadCountChange",l="offUnreadCountChange",f="onExternalEvent",b="offExternalEvent",p="onClose",O="offClose",v="sendExternalEvent",h="openNewPrompt",g="onPromptAction",j="offPromptAction",m="openNewConversation",x="updateConversationContext",y="updateClientContext",I="onLoad",w="offLoad",C="goBack",T="onShowMedia",E="offShowMedia",k="onCloseMedia",S="offCloseMedia",_="onEvent",A="offEvent",N="unreadCountChange",R="externalEventTriggered",P="loaded",L="closed",D="promptActionTriggered",M="mediaShowed",B="mediaClosed",U="eventTriggered",F="updateCart",G="removeFromCart"},37:function(e,t,n){"use strict";n.d(t,"b",(function(){return l}));var r=n(13),a=n(267),c=n.n(a),o=n(9),i=n.n(o),s=n(23),u=n(97),d=n(57);n.d(t,"e",(function(){return s.e})),n.d(t,"c",(function(){return s.c})),n.d(t,"g",(function(){return s.g})),n.d(t,"d",(function(){return s.d})),n.d(t,"f",(function(){return s.f})),t.a=function(e,t){var n=e;t.type===d.a&&(n=void 0);var a=Object(r.a)(Object(r.a)({},Object(s.a)(n,t)),{},{app:Object(u.a)(i()(e,"app"),t)});return c()(a,(function(e,t){return e!==i()(n,t)}))?a:n};var l=function(e){return e.app}},371:function(e,t,n){"use strict";t.a=[]},372:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={YOUTUBE:"YOUTUBE"}},373:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var r=n(50),a=n(2),c=n(15),o=n.n(c),i=n(59),s=n(99),u=n(125),d=n(402),l=n.n(d),f=n(23),b=n(138),p=n(97),O=n(37),v=n(332),h=n(139),g=n(3),j=function(e){return Object(b.b)(Object(f.b)(e))},m=function(e){return Object(b.d)(Object(f.b)(e))},x=function(e){return Object(p.e)(Object(O.b)(e))},y=function(e){return Object(b.o)(Object(f.b)(e))},I=function(e){return Object(b.e)(Object(f.b)(e))},w=function(e){return Object(b.g)(Object(f.b)(e))},C=Object(v.a)((function(){return Promise.all([n.e(0),n.e(2),n.e(6)]).then(n.bind(null,1258))}));t.b=function(e){var t=Object(s.a)(),n=Object(i.d)(m),c=Object(i.d)(j),d=Object(i.d)(y),f=Object(i.d)(x),b=Object(u.a)(h.g),p=Object(i.d)(I),O=Object(i.d)(w),v=l()(p);return Object(a.useEffect)((function(){t&&f&&p&&p!==v&&b()}),[t,f,p,v,b]),o()(n)&&(d||o()(c))||t&&f&&!O?null:Object(g.jsx)(a.Suspense,{fallback:null},Object(g.jsx)(C,Object(r.a)({},e,{outgoingCallDetails:n,incomingCallDetails:c})))}},378:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));n(2);var r=n(270),a=n(650),c=n(3);var o=function(e){var t=Object(a.a)(e.window);return Object(c.jsx)(r.a.Provider,{value:t},e.children)},i=n(50),s=function(e){return function(t){return Object(c.jsx)(r.a.Consumer,null,(function(n){return Object(c.jsx)(e,Object(i.a)({},t,{viewport:n}))}))}}},379:function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return v}));var r=n(50),a=n(13),c=n(33),o=n(2),i=n.n(o),s=n(116),u=n.n(s),d=n(99),l=n(108),f=n(109),b=n(204),p=n(3),O=i.a.createContext({}),v=function(e){return function(t){return Object(p.jsx)(O.Consumer,null,(function(n){return Object(p.jsx)(e,Object(r.a)({},t,{appContext:n}))}))}};t.c=function(e){var t=Object(o.useState)((function(){return Object(l.a)()})),n=Object(c.a)(t,2),r=n[0],i=n[1],s=Object(d.a)();Object(o.useEffect)((function(){var e=Object(f.a)();if(Object(f.b)(e)){var t=function(){i(Object(l.a)())};return e.addEventListener("popState",t),function(){e.removeEventListener("popState",t)}}return u.a}),[]);var v=Object(o.useMemo)((function(){return Object(a.a)(Object(a.a)({},r),{},{device:s?b.b:b.a})}),[r,s]);return Object(p.jsx)(O.Provider,{value:v},e.children)}},382:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var r=n(245),a=function(e){var t=e.file,n=e.conversationId,a=e.sender;return{type:r.a,payload:{file:t,conversationId:n,chatUserId:a}}},c=function(e){var t=e.initialMessages,n=e.createCase,a=e.conversationContext,c=e.additional;return{type:r.b,payload:{initialMessages:t,createCase:n,conversationContext:a,additional:c}}}},387:function(e,t,n){"use strict";var r=n(12),a=n(220),c=n.n(a),o=n(25),i=n.n(o);t.a=function e(){var t=this;Object(r.a)(this,e),this.emit=function(e){i()(t.subscribers,(function(t){return t(e)}))},this.on=function(e){var n=c()("SUB");return t.subscribers[n]=e,function(){delete t.subscribers[n]}},this.subscribers={}}},388:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(12),a=n(31),c=n(229),o=n.n(c);o.a.defaults.baseURL="".concat("https://prod-video-chat-chat.sprinklr.com","/api"),o.a.defaults.headers.common=Object.assign({},o.a.defaults.headers.common,{"Content-Type":"application/json; charset=utf-8",Accept:"application/json; charset=utf-8"});var i=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,[{key:"get",value:function(e,t){return o.a.get(e,t)}},{key:"post",value:function(e,t,n){return o.a.post(e,t,n)}},{key:"put",value:function(e,t,n){return o.a.put(e,t,n)}},{key:"delete",value:function(e,t){return o.a.delete(e,t)}}]),e}()},393:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return O}));var r,a,c=n(4),o=n(9),i=n.n(o),s=n(11),u=n(150),d=new Set([s.b.FEEDBACK_POST_BACK,s.b.SURVEY_POST_BACK]),l=function(e){return{messageId:e.messageId,buttonId:e.postbackId,payload:i()(Object(u.a)(e.postbackId,e.attachment),"payload"),section:"TEMPLATE"}},f=function(e){var t=e.postbackId,n=Object(u.a)(t,e.attachment);return{text:n?n.title:""}},b=(r={},Object(c.a)(r,s.b.TEXT_POST_BACK,f),Object(c.a)(r,s.b.START_VIDEO_CALL,f),Object(c.a)(r,s.b.ACCEPT_CO_BROWSE,f),Object(c.a)(r,s.b.DENY_CO_BROWSE,f),r),p=(a={},Object(c.a)(a,s.b.CONTACT_DETAILS_FORM,Object(c.a)({},s.b.CONTACT_DETAILS_POST_BACK,(function(e){var t=e.attachment,n=e.values,r=t;return{formId:r.form.formId,formValues:n,formFields:r.form.fields,submit:i()(r,"postSubmit")||i()(r,"submit"),showSubmittedContent:r.showSubmittedContent}}))),Object(c.a)(a,s.b.FORM,Object(c.a)({},s.b.FORM_POST_BACK,(function(e){var t=e.attachment,n=e.values,r=t;return{formId:r.form.formId,formValues:n,formFields:r.form.fields,submit:i()(r,"postSubmit")||i()(r,"submit"),showSubmittedContent:r.showSubmittedContent}}))),Object(c.a)(a,s.b.SECURE_FORM,Object(c.a)({},s.b.SECURE_FORM_POST_BACK,(function(e){var t=e.values;return{formData:t.maskedData,formId:t.secureFormId}}))),Object(c.a)(a,s.b.APPOINTMENT,Object(c.a)({},s.b.APPOINTMENT_POST_BACK,(function(e){var t=e.values;return{selectedSlot:t.selectedSlot,slots:t.slots,selectedDate:t.selectedDate,slotDisplayText:t.displayText}}))),Object(c.a)(a,s.b.FEEDBACK_FORM,Object(c.a)({},s.b.FEEDBACK_POST_BACK,(function(e){var t=e.values,n=e.attachment;return{feedbackRating:t.feedbackRating,feedbackComment:t.feedbackComment,feedbackType:n.feedbackType}}))),Object(c.a)(a,s.b.SURVEY,Object(c.a)({},s.b.SURVEY_POST_BACK,(function(e){return{}}))),Object(c.a)(a,s.b.QUICK_SELECT_CARD,b),Object(c.a)(a,s.b.CARD,b),Object(c.a)(a,s.b.CO_BROWSE_INVITE,b),Object(c.a)(a,s.b.CAROUSEL,b),a);function O(e){var t=e.attachment,n=e.postbackType;if(n){var r=t.type,a=n?i()(p,"[".concat(r,"][").concat(n,"]")):void 0;return{type:n,params:Object.assign({},l(e),a?a(e):void 0)}}}},394:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u}));var r=n(92),a=n.n(r),c=n(9),o=n.n(c),i=n(179),s=function(e,t){return window.requestIdleCallback?window.requestIdleCallback(e,t):window.requestAnimationFrame(e)},u=function(e){var t=a()(i.a,(function(t){return o()(t,"id")===e}));return"rtl"===o()(t,"dir")}},395:function(e,t,n){"use strict";var r=n(2),a=n.n(r).a.createContext(void 0);t.a=a},396:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));n(50);var r=n(33),a=n(2),c=n.n(a),o=n(116),i=n.n(o),s=n(3),u=c.a.createContext({notification:void 0,setNotification:i.a}),d=function(e){var t=Object(a.useState)(void 0),n=Object(r.a)(t,2),c=n[0],o=n[1],i=Object(a.useMemo)((function(){return{notification:c,setNotification:o}}),[c,o]);return Object(s.jsx)(u.Provider,{value:i},e.children)};t.b=u},399:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(200),a=n.n(r),c=n(305),o=a()((function(e){return Object(c.a)({container:e.head})}))},400:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(0),a=n.n(r),c=n(19),o=n(200),i=n.n(o),s=n(112),u=i()(function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get(t);case 2:return n=e.sent,r=n.data,e.abrupt("return",(new DOMParser).parseFromString(r,"image/svg+xml"));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},401:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(33),a=n(2),c=n.n(a),o=n(3),i=c.a.createContext(void 0),s=function(e){var t=Object(a.useState)(void 0),n=Object(r.a)(t,2),c=n[0],s=n[1],u=Object(a.useMemo)((function(){return[c,s]}),[c,s]);return Object(o.jsx)(i.Provider,{value:u},e.children)};t.b=i},404:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(12),a=n(10),c=n(6),o=Object(a.a)("fields"),i=function e(){Object(r.a)(this,e)};i.getFields=Object(c.a)(o)},405:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(31),c=n(10),o=n(6),i=n(133),s=Object(c.a)("form"),u=function(){function e(t){Object(r.a)(this,e);var n=new i.a(t).setType("CONTACT_DETAILS_FORM").build();this.data=n}return Object(a.a)(e,[{key:"build",value:function(){return this.data}}]),e}();u.getForm=Object(o.a)(s)},406:function(e,t,n){"use strict";var r=n(12),a=n(31),c=n(71),o=n(70),i=n(2),s=n.n(i),u=n(3),d=n(13),l={black:"#000",bodyBg:"#fff",bodyColor:"#212529",dtFontWeight:700,fontFamilyBase:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontFamilyMonospace:'SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace',fontSizeBase:"1rem",fontWeightBase:400,lineHeightBase:1.5,linkDecoration:"underline",tableCellPadding:"0.75rem",textMuted:"#6c757d"},f=function(e){var t=Object(d.a)(Object(d.a)({},l),e),n=t.black,r=t.fontFamilyBase,a=t.fontFamilyMonospace,c=t.fontSizeBase,o=t.fontWeightBase,i=t.lineHeightBase,s=t.bodyColor,u=t.bodyBg,f=t.dtFontWeight,b=t.linkColor,p=t.linkDecoration,O=t.tableCellPadding,v=t.textMuted;return"\n    *,\n    *::before,\n    *::after {\n      box-sizing: border-box;\n    }\n    html {\n      font-family: sans-serif;\n      line-height: 1.15;\n      -webkit-text-size-adjust: 100%;\n      -ms-text-size-adjust: 100%;\n      -ms-overflow-style: scrollbar;\n      -webkit-tap-highlight-color: rgba(".concat(n,", 0);\n    }\n    @-ms-viewport {\n      width: device-width;\n    }\n    article,\n    aside,\n    figcaption,\n    figure,\n    footer,\n    header,\n    hgroup,\n    main,\n    nav,\n    section {\n      display: block;\n    }\n    body {\n      margin: 0;\n      font-family: ").concat(r,";\n      font-size: ").concat(c,";\n      font-weight: ").concat(o,";\n      line-height: ").concat(i,";\n      color: ").concat(s,";\n      background-color: ").concat(u,";\n    }\n    [tabindex='-1']:focus {\n      outline: 0 !important;\n    }\n    hr {\n      box-sizing: content-box;\n      height: 0;\n      overflow: visible;\n    }\n    h1,\n    h2,\n    h3,\n    h4,\n    h5,\n    h6 {\n      margin-top: 0;\n      margin-bottom: 0;\n    }\n    p {\n      margin-top: 0;\n      margin-bottom: 0;\n    }\n    abbr[title],\n    abbr[data-original-title] {\n      text-decoration: underline;\n      text-decoration: underline dotted;\n      cursor: help;\n      border-bottom: 0;\n    }\n    address {\n      margin-bottom: 1rem;\n      font-style: normal;\n      line-height: inherit;\n    }\n    ol,\n    ul,\n    dl {\n      margin-top: 0;\n      margin-bottom: 1rem;\n    }\n    ol ol,\n    ul ul,\n    ol ul,\n    ul ol {\n      margin-bottom: 0;\n    }\n    dt {\n      font-weight: ").concat(f,";\n    }\n    dd {\n      margin-bottom: 0.5rem;\n      margin-left: 0;\n    }\n    blockquote {\n      margin: 0 0 1rem;\n    }\n    dfn {\n      font-style: italic;\n    }\n    b,\n    strong {\n      font-weight: bolder;\n    }\n    small {\n      font-size: 80%;\n    }\n    sub,\n    sup {\n      position: relative;\n      font-size: 75%;\n      line-height: 0;\n      vertical-align: baseline;\n    }\n    sub {\n      bottom: -0.25em;\n    }\n    sup {\n      top: -0.5em;\n    }\n    a {\n      color: ").concat(b,";\n      text-decoration: ").concat(p,";\n      background-color: transparent;\n      -webkit-text-decoration-skip: objects;\n    }\n    a:not([href]):not([tabindex]) {\n      color: inherit;\n      text-decoration: none;\n      &:focus,\n      &:hover {\n        color: inherit;\n        text-decoration: none;\n      }\n      &:focus {\n        outline: 0;\n      }\n    }\n    pre,\n    code,\n    kbd,\n    samp {\n      font-family: ").concat(a,";\n      font-size: 1em;\n    }\n    pre {\n      margin-top: 0;\n      margin-bottom: 1rem;\n      overflow: auto;\n      -ms-overflow-style: scrollbar;\n    }\n    figure {\n      margin: 0 0 1rem;\n    }\n    img {\n      vertical-align: middle;\n      border-style: none;\n    }\n    svg {\n      overflow: hidden;\n      vertical-align: middle;\n    }\n    table {\n      border-collapse: collapse;\n    }\n    caption {\n      padding-top: ").concat(O,";\n      padding-bottom: ").concat(O,";\n      color: ").concat(v,";\n      text-align: left;\n      caption-side: bottom;\n    }\n    th {\n      text-align: inherit;\n    }\n    label {\n      display: inline-block;\n      margin-bottom: 0;\n    }\n    button {\n      border-radius: 0;\n    }\n    button:focus {\n      outline: 1px dotted;\n      outline: 5px auto -webkit-focus-ring-color;\n    }\n    input,\n    button,\n    select,\n    optgroup,\n    textarea {\n      margin: 0;\n      font-family: inherit;\n      font-size: inherit;\n      line-height: inherit;\n    }\n    button,\n    input {\n      overflow: visible;\n    }\n    button,\n    select {\n      text-transform: none;\n    }\n    button,\n    html [type='button'],\n    [type='reset'],\n    [type='submit'] {\n      -webkit-appearance: button;\n    }\n    button::-moz-focus-inner,\n    [type='button']::-moz-focus-inner,\n    [type='reset']::-moz-focus-inner,\n    [type='submit']::-moz-focus-inner {\n      padding: 0;\n      border-style: none;\n    }\n    input[type='radio'],\n    input[type='checkbox'] {\n      box-sizing: border-box;\n      padding: 0;\n    }\n    input[type='date'],\n    input[type='time'],\n    input[type='datetime-local'],\n    input[type='month'] {\n      -webkit-appearance: listbox;\n    }\n    textarea {\n      overflow: auto;\n      resize: vertical;\n    }\n    fieldset {\n      min-width: 0;\n      padding: 0;\n      margin: 0;\n      border: 0;\n    }\n    legend {\n      display: block;\n      width: 100%;\n      max-width: 100%;\n      padding: 0;\n      margin-bottom: 0.5rem;\n      font-size: 1.5rem;\n      line-height: inherit;\n      color: inherit;\n      white-space: normal;\n    }\n    progress {\n      vertical-align: baseline;\n    }\n    [type='number']::-webkit-inner-spin-button,\n    [type='number']::-webkit-outer-spin-button {\n      height: auto;\n    }\n    [type='search'] {\n      outline-offset: -2px;\n      -webkit-appearance: none;\n    }\n    [type='search']::-webkit-search-cancel-button,\n    [type='search']::-webkit-search-decoration {\n      -webkit-appearance: none;\n    }\n    ::-webkit-file-upload-button {\n      font: inherit;\n      -webkit-appearance: button;\n    }\n    output {\n      display: inline-block;\n    }\n    summary {\n      display: list-item;\n      cursor: pointer;\n    }\n    template {\n      display: none;\n    }\n    [hidden] {\n      display: none !important;\n    }\n  ")},b=n(15),p=n.n(b),O=n(61),v=n.n(O);var h=[{key:0,value:0},{key:1,value:4},{key:2,value:8},{key:3,value:12},{key:4,value:16},{key:5,value:20},{key:6,value:24}].map((function(e){return"\n    .m-a-".concat(e.key,"{\n      margin: ").concat(e.value,"px;\n    }\n    .m-y-").concat(e.key,"{\n      margin-top: ").concat(e.value,"px;\n      margin-bottom: ").concat(e.value,"px;\n    }\n    .m-x-").concat(e.key,"{\n      margin-left: ").concat(e.value,"px;\n      margin-right: ").concat(e.value,"px;\n    }\n    .m-t-").concat(e.key,"{\n      margin-top: ").concat(e.value,"px;\n    }\n    .m-r-").concat(e.key,"{\n      margin-right: ").concat(e.value,"px;\n    }\n    .m-b-").concat(e.key,"{\n      margin-bottom: ").concat(e.value,"px;\n    }\n    .m-l-").concat(e.key,"{\n      margin-left: ").concat(e.value,"px;\n    }\n    .p-a-").concat(e.key,"{\n      padding: ").concat(e.value,"px;\n    }\n    .p-x-").concat(e.key,"{\n      padding-left: ").concat(e.value,"px;\n      padding-right: ").concat(e.value,"px;\n    }\n    .p-y-").concat(e.key,"{\n      padding-top: ").concat(e.value,"px;\n      padding-bottom: ").concat(e.value,"px;\n    }\n    .p-t-").concat(e.key,"{\n      padding-top: ").concat(e.value,"px;\n    }\n    .p-r-").concat(e.key,"{\n      padding-right: ").concat(e.value,"px;\n    }\n    .p-b-").concat(e.key,"{\n      padding-bottom: ").concat(e.value,"px;\n    }\n    .p-l-").concat(e.key,"{\n      padding-left: ").concat(e.value,"px;\n    }\n  ")})).join(""),g="rgba(10,10,20,0.8)",j="\n  .tooltip {\n    position:relative;\n  }\n  .tooltip-twisty {\n    position: absolute;\n    top:-".concat(4,"px;\n    left:50%;\n    transform: translateX(-50%);\n    border-width: ").concat(4,"px ").concat(4,"px 0 ").concat(4,"px;\n    border-style: solid;\n    border-color: ").concat(g," transparent transparent transparent;\n    z-index: 100;\n    opacity:0;\n    transition: ").concat("opacity",";\n    transition-delay: ").concat("0.3s",";\n    z-index: ").concat(1,";\n  }\n\n  .tooltip-box {\n    width: 100%;\n    max-width: 180px;\n    position: absolute;\n    left:50%;\n    top:-").concat(4,"px;\n    transform: translateX(-50%)   translateY(-100%);\n    text-align: center;\n    font-size: 12px;\n    border-radius: 2px;\n    pointer-events: none;\n    opacity:0;\n    transition: ").concat("opacity",";\n    transition-delay: ").concat("0.3s",";\n    z-index: ").concat(1,";\n   }\n   \n   .tooltip-item {\n      background: ").concat(g,";\n      padding:12px;\n      color: #fff;\n   }\n   \n   .tooltip:hover .tooltip-box,.tooltip:hover .tooltip-twisty {\n     opacity:1;\n   }\n  \n  .tooltip.tooltip-left .tooltip-twisty{\n    left:0%;\n    top:50%;\n    margin-left:-").concat(8,"px;\n    transform:translatey(-50%) translatex(-25%) rotate(-90deg);\n  }\n  \n  .tooltip.tooltip-left .tooltip-box{\n    left:0%;\n    top:50%;\n    margin-left:-").concat(8,"px;\n    transform: translateX(-100%) translateY(-50%);\n  }\n  \n  .tooltip.tooltip-right .tooltip-twisty{\n    left:100%;\n    top:50%;\n    transform:translatey(-50%) translatex(25%) rotate(90deg);\n  }\n  \n  .tooltip.tooltip-right .tooltip-box{\n    left:100%;\n    top:50%;\n    margin-left:").concat(8,"px;\n    transform: translateX(0%) translateY(-50%);\n  }\n  \n  .tooltip.tooltip-top .tooltip-twisty{\n    left:50%;\n  }\n  \n  .tooltip.tooltip-top .tooltip-box{\n    left:50%;\n  }\n  \n  .tooltip.tooltip-bottom .tooltip-twisty{\n    top:100%;\n    margin-top:").concat(8,"px;\n    transform: translateX(-50%) translatey(-100%) rotate(-180deg);\n  }\n  \n  .tooltip.tooltip-bottom .tooltip-box{\n    top:100%;\n    margin-top:").concat(8,"px;\n    transform: translateX(-50%) translateY(0%);\n  }\n"),m="\n  ".concat("\n  .flex-row-container {\n    display: flex;\n    flex-direction: row;\n  }\n  \n  .flex-column-container {\n    display: flex;\n    flex-direction: column;\n  }\n  \n  .flex-item-1 {\n    flex: 1;\n    min-height: 0;\n    min-width: 0;\n  }\n  \n  .flex-item-auto {\n    flex: 0 0 auto;\n  }\n  \n  .center-x {\n    display: flex;\n    justify-content: center;\n  }\n  \n  .center-y {\n    display: flex;\n    align-items: center;\n  }\n  \n  .center-x-y {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n","\n  ").concat(h,"\n  ").concat("\n  .spr {\n    position:relative;\n  }\n  .spa{\n    position: absolute;\n  }\n","\n  ").concat("\n  .text-overflow {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  \n  .ovf-hidden {\n    overflow: hidden;\n  }\n  \n  .ovf-y-auto {\n    overflow-y: auto;\n  }\n  \n  .full-height{\n    height: 100%;\n  }\n  \n  .full-width{\n    width: 100%;\n  }\n  \n  .scp{\n    cursor: pointer;\n  }\n  \n  .text-wrap {\n    white-space: pre-wrap;\n    word-break: break-word;\n    word-wrap: break-word;\n  }\n  \n  .pointer-events-none{\n    pointer-events: none;\n  }\n\n  .sr-only {\n    width: 0;\n    height: 0;\n    margin: 0;\n    padding: 0;\n    overflow: hidden;\n    visibility: hidden;\n  }\n","\n  ").concat(j,"\n"),x=function(e){var t=e.styles,n=t.body,r=t.link,a={bodyBg:n.backgroundColor,bodyColor:n.color,fontFamilyBase:n.fontFamily,fontSizeBase:n.fontSize,lineHeightBase:n.lineHeight,linkColor:r.color},c=e.typography,o=c.htmlFontSize,i=c.clientFontSize,s=f(a),u=function(e){var t=e.typography.fontFamilies;return p()(t)?"":v()(t,(function(e,t){var n=t.name,r=t.src;if(p()(r))return e;var a=e;return r.light&&(a=a.concat("\n          @font-face {\n              font-family: ".concat(n,";\n              font-style: normal;\n              font-weight: 100;\n              font-display:swap;\n              src: ").concat(r.light,";\n          }\n        "))),r.regular&&(a=a.concat("\n          @font-face {\n              font-family: ".concat(n,";\n              font-style: normal;\n              font-weight: 400;\n              font-display:swap;\n              src: ").concat(r.regular,";\n          }\n        "))),r.bold&&(a=a.concat("\n          @font-face {\n              font-family: ".concat(n,";\n              font-style: normal;\n              font-weight: 700;\n              font-display:swap;\n              src: ").concat(r.bold,";\n          }\n        "))),a}),"")}(e);return"\n    ".concat(u,"\n    ").concat(s,"\n\n    html,\n    body {\n      height: 100%;\n    }\n  \n    html {\n      font-size: ").concat(function(e,t){return Math.min(100*e/t,100)}(o,i),"%;\n      letter-spacing: -0.12px;\n      text-rendering: optimizeLegibility;\n      -webkit-font-smoothing: antialiased;\n      -moz-osx-font-smoothing: grayscale;\n    }\n\n    body *:focus {\n      outline: none;\n    }\n    \n    ").concat(m,"\n  ")},y=function(e){Object(c.a)(n,e);var t=Object(o.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=x(this.props.theme);return Object(u.jsx)(u.Global,{styles:Object(u.css)(e,";")})}}]),n}(s.a.Component);t.a=y},408:function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var r=n(13),a=n(33),c=n(2),o=n.n(c),i=n(15),s=n.n(i),u=n(25),d=n.n(u),l=n(131),f=n.n(l),b=n(116),p=n.n(b),O=n(59),v=n(143),h=n(34),g=function(){return function(e){var t={eventId:e.label,eventType:e.action.id,additional:Object(r.a)(Object(r.a)({},e.additional),{},{conversationId:e.conversationId})};Object(v.a)({type:h.h,payload:t})}},j=n(112),m=n(193),x=new Set([m.a.AGENT_ASSIGNED.id,m.a.VIDEO_CALL_OUTGOING_STARTING.id,m.a.AUDIO_CALL_OUTGOING_STARTING.id]),y=function(){return function(e){x.has(e.action.id)||j.a.post("/livechat/prompt/browse/event",{page:e.page,userAgent:e.userAgent,device:e.device,timeZone:e.timeZone,eventType:e.action.label,eventId:e.label,conversationId:e.conversationId,sourceType:"LIVE_CHAT"})}},I=n(248),w=n(136),C=n(125),T=n(93),E=n(23),k=n(233),S=n(65),_=n(20),A=n(394),N=n(3),R=o.a.createContext(p.a),P=function(e){return Object(k.c)(Object(E.e)(e))};t.b=o.a.memo((function(e){var t=Object(I.a)(),o=Object(w.a)(),i=Object(c.useRef)([]),u=Object(c.useState)(!1),l=Object(a.a)(u,2),b=l[0],p=l[1],v=Object(C.a)(T.c),h=Object(C.a)(T.b),j=Object(O.d)(P);return Object(c.useEffect)((function(){if(b&&j.length){var e=Object(r.a)(Object(r.a)({},j[0]),{},{category:"Sprinklr Widget",device:t.device,page:t.pageUrl,userAgent:t.userAgent,timeZone:t.timeZone});!function(e,t){Object(A.b)((function(){d()(e,(function(e){e(t)}))}))}(i.current,e),h()}}),[j,b]),Object(c.useEffect)((function(){(function(e){var t=[],r=S.a.getGoogleTrackerId(e),a=S.a.isSprinklrAnalyticsEnabled(e);return s()(r)||t.push(n.e(20).then(n.bind(null,1886)).then((function(e){return e.default.createTracker({trackerId:r},{canAccessParent:Object(_.F)()})})).catch((function(){}))),a&&t.push(y()),t.push(g()),Promise.all(t)})(o).then((function(e){i.current=f()(e),p(!0)}))}),[]),Object(N.jsx)(R.Provider,{value:v},e.children)}))},41:function(e,t,n){"use strict";t.a={TOTAL_TIME_SPENT:"browsingSession.timeSpentOnSite",ACTIVE_TIME_SPENT:"browsingSession.timeFocusedOnSite",INACTIVE_TIME_SPENT:"",DEVICE_TYPE:"userInfo.deviceType",USER_AGENT:"userInfo.userAgent",CURRENT_URL:"browsingSession.currentURL",INTERCEPT_ENGAGED_IN_SESSION_KEY:"intercept.engaged.in.session.key",INTERCEPT_CLOSED_IN_SESSION_KEY:"intercept.closed.in.session.key",DEPENDENT_DURATION_KEY:"dependant.duration.key",PAGE_REFERRER:"browsingSession.pageReferrer",BUSINESS_HOURS:"BUSINESS_HOURS",AVAILABLE_AGENTS:"AVAILABLE_AGENTS",AGENT_OUT_OF_CAPACITY:"AGENT_OUT_OF_CAPACITY",IS_CONVERSATION_OPEN:"IS_CONVERSATION_OPEN"}},410:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(12),a=n(31),c=n(0),o=n.n(c),i=n(33),s=n(40),u=n(388),d=n(21);var l=function(e){return function e(t,n){return function(e,t){return new Promise((function(n,r){setTimeout((function(){e().then(n,r)}),t)}))}(t,function(e){return 1e3*(e?Math.pow(2,Math.min(e-1,5)):0)}(n)).catch((function(r){if(Object(d.c)(r)||Object(d.b)(r)||!Object(d.d)(r)||5===n)throw r;return e(t,n+1)}))}(e,0)},f=function(e,t){return function(e){return e&&e.backoff}(t)?l(e):e()},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s.__awaiter(void 0,void 0,void 0,o.a.mark((function n(){var r,a,c,s,u,d;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([e.getSessionToken(),e.getUserId(),e.getCurrentPage(),e.getCurrentPageTitle()]);case 2:return r=n.sent,a=Object(i.a)(r,4),c=a[0],s=a[1],u=a[2],d=a[3],t.headers=Object.assign({},t.headers,{"X-CHAT-TOKEN":c,"X-USER-ID":s,"X-CHAT-REFERER":u,"X-CHAT-PAGE-TITLE":d,"X-CHAT-VERSION":"SuDc0ELUt"}),n.abrupt("return",t);case 10:case"end":return n.stop()}}),n)})))},p=function(){function e(t){Object(r.a)(this,e),this.baseRestClient=new u.a,this.globalHeaders=t}return Object(a.a)(e,[{key:"clone",value:function(e){this.globalHeaders=Object.assign({},e.globalHeaders)}},{key:"updateHeaders",value:function(e){this.globalHeaders=Object.assign({},this.globalHeaders,e)}},{key:"get",value:function(e,t){return s.__awaiter(this,void 0,void 0,o.a.mark((function n(){var r,a=this;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b(this.globalHeaders,t);case 2:return r=n.sent,n.abrupt("return",f((function(){return a.baseRestClient.get(e,r)}),r));case 4:case"end":return n.stop()}}),n,this)})))}},{key:"post",value:function(e,t,n){return s.__awaiter(this,void 0,void 0,o.a.mark((function r(){var a,c=this;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,b(this.globalHeaders,n);case 2:return a=r.sent,r.abrupt("return",f((function(){return c.baseRestClient.post(e,t,a)}),a));case 4:case"end":return r.stop()}}),r,this)})))}},{key:"put",value:function(e,t,n){return s.__awaiter(this,void 0,void 0,o.a.mark((function r(){var a,c=this;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,b(this.globalHeaders,n);case 2:return a=r.sent,r.abrupt("return",f((function(){return c.baseRestClient.put(e,t,a)}),a));case 4:case"end":return r.stop()}}),r,this)})))}},{key:"delete",value:function(e,t){return s.__awaiter(this,void 0,void 0,o.a.mark((function n(){var r,a=this;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b(this.globalHeaders,t);case 2:return r=n.sent,n.abrupt("return",f((function(){return a.baseRestClient.delete(e,r)}),r));case 4:case"end":return n.stop()}}),n,this)})))}}]),e}()},415:function(e,t,n){"use strict";var r=n(655);t.a=r.a},416:function(e,t,n){"use strict";var r=n(698),a=n.n(r);t.a=function(e){if(!e)return"";if("undefined"!==typeof document){var t=document.createElement("span");return t.innerHTML=e,t.innerText}var n=e.replace(/<(?:.|\n)*?>/gm,"");return a()(n)}},43:function(e,t,n){"use strict";n.d(t,"c",(function(){return j})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return O}));var r=n(50),a=n(13),c=n(2),o=n.n(c),i=n(75),s=n(17),u=n(3),d=n(115);var l="\n    border: 1px solid transparent;\n    cursor: pointer;\n    &:disabled {\n      cursor: not-allowed;\n      opacity: 0.6;\n    };\n    \n   &:focus {\n      ".concat(d.e,";\n   }\n   \n   &:active {\n      ").concat(d.d,";\n   }\n   \n   ").concat(d.h," {\n      &:focus {\n        ").concat(d.d,";\n      }\n   \n     &:active {\n        ").concat(d.e,";\n     }\n   }\n"),f=Object(s.a)("button",{target:"eq65yq90"})(l,";",(function(e){return Object(u.css)(e.buttonStyles,"")}),";"),b=n(5),p={LARGE:"lg",MEDIUM:"md"},O={PRIMARY:"primary",SECONDARY:"secondary",TERTIARY:"tertiary"},v="standard",h=n(96),g=function(e){var t=Object(i.b)(),n=e.size,c=e.variant,o=e.selected,s=e.shape,d=e.overrideStyles,l=Object(b.e)("button.".concat(s||v))({theme:t})||h.a,p=Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)({},l.default),l[c]),l[n]),d);return Object(u.jsx)(f,Object(r.a)({},e,{className:"text-wrap ".concat(e.className),buttonStyles:p,"data-selected":o}),e.label||e.children)};g.defaultProps={shape:v,size:p.LARGE,variant:O.PRIMARY};var j=o.a.memo(g)},44:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"f",(function(){return s}));var r="__NEW_CONVERSATION__",a="__CASE__",c="__NEW_DEFAULT_MESSAGE__",o="__NEW_CONTACT_MESSAGE__",i="P_-200",s="TRANSIENT_ID"},45:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"i",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return u})),n.d(t,"k",(function(){return d})),n.d(t,"m",(function(){return l})),n.d(t,"n",(function(){return f})),n.d(t,"h",(function(){return b})),n.d(t,"g",(function(){return p})),n.d(t,"l",(function(){return O})),n.d(t,"j",(function(){return v}));var r="@chat/CHATBOX_OPEN",a="@chat/CHATBOX_OPENED",c="@chat/CHATBOX_CLOSE",o="@chat/CHATBOX_CLOSED",i="@chat/HIDE_CHAT_TRIGGER",s="@chat/CLEAR_SESSION",u="@chat/CLOSE_APP",d="@chat/MEDIA_PREVIEW_TOGGLED",l="@chat/USER_PREFERENCE_CHANGE",f="@chat/USER_PREFERENCE_CHANGED",b="@chat/ENABLE_LIVE_CHAT",p="@chat/DISABLE_LIVE_CHAT",O="@chat/TOGGLE_CHAT_TRIGGER_DISPLAY",v="@chat/LOCALE_DATA_LOADED"},487:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(50),a=n(2),c=n(3),o=function(e){var t=e.onClick,n=e.ariaLabel,o=e.component,i=Object(a.useCallback)((function(e){["Enter"].includes(e.key)&&t(e)}),[t]),s=Object(a.useCallback)((function(e){var n=e.currentTarget;n&&n.blur(),t(e)}),[t]);return Object(c.jsx)(o,Object(r.a)({role:"button"},e,{tabIndex:0,onClick:s,onKeyPress:i,"aria-label":n}),e.children)}},488:function(e,t,n){"use strict";var r=n(2),a=n.n(r),c=n(326),o=n(3);t.a=function(e){var t=e.messageId,n=e.src,r=e.children,i=Object(c.a)()(n,t);return r?r(i):Object(o.jsx)(a.a.Fragment,null,i)}},49:function(e,t,n){"use strict";n.d(t,"f",(function(){return se})),n.d(t,"i",(function(){return ue})),n.d(t,"c",(function(){return de})),n.d(t,"e",(function(){return le})),n.d(t,"k",(function(){return fe})),n.d(t,"q",(function(){return ge})),n.d(t,"b",(function(){return xe})),n.d(t,"s",(function(){return ye})),n.d(t,"g",(function(){return we})),n.d(t,"h",(function(){return Ce})),n.d(t,"j",(function(){return Ee})),n.d(t,"r",(function(){return ke})),n.d(t,"t",(function(){return Se})),n.d(t,"a",(function(){return _e})),n.d(t,"p",(function(){return Ae})),n.d(t,"u",(function(){return Ne})),n.d(t,"l",(function(){return Re})),n.d(t,"n",(function(){return De})),n.d(t,"m",(function(){return Me})),n.d(t,"o",(function(){return Be})),n.d(t,"d",(function(){return Ue}));var r=n(35),a=n(4),c=n(88),o=n.n(c),i=n(9),s=n.n(i),u=n(85),d=n.n(u),l=n(483),f=n.n(l),b=n(92),p=n.n(b),O=n(315),v=n.n(O),h=n(38),g=n.n(h),j=n(243),m=n.n(j),x=n(696),y=n.n(x),I=n(697),w=n.n(I),C=n(61),T=n.n(C),E=n(279),k=n.n(E),S=n(15),_=n.n(S),A=n(25),N=n.n(A),R=n(202),P=n.n(R),L=n(275),D=n.n(L),M=n(180),B=n.n(M),U=n(244),F=n.n(U),G=n(412),z=n.n(G),V=n(18),W=n.n(V),H=n(158),K=n(16),Y=n(12),$=n(31),X=n(1262),q=n(6),J=n(10),Q=n(1259),Z=n(39),ee=Object(X.a)("_"),te=Object(q.a)(Object(J.a)("0")),ne=Object(q.a)(Object(J.a)("1")),re=Object(q.a)(Object(J.a)("2")),ae=function(){function e(t){Object(Y.a)(this,e),this.cursorInfo=t?ee(t):Object(Q.a)(String,3)}return Object($.a)(e,[{key:"build",value:function(){return this.cursorInfo.join("_")}},{key:"setDirection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.cursorInfo[0]=e,this}},{key:"setMessageCreationTime",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.cursorInfo[1]="".concat(e),this}},{key:"setMessageId",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.cursorInfo[2]=e,this}}]),e}();ae.getDirection=Object(Z.a)(te,ee),ae.getMessageCreationTime=Object(Z.a)(ne,ee),ae.getMessageId=Object(Z.a)(re,ee);var ce=n(141),oe=n(122),ie=n(67),se=function(e,t){return T()(t,(function(e,t){var n=t.conversationId,r=t.count;return W()(e,Object(a.a)({},n,{unreadCount:{$set:r}}))}),e)},ue=function(e,t,n){var a=n.botUserIds,c=(n.chatUserId,{});return N()(e,(function(e){var n=ce.a.getParticipants(s()(t,e.id)),o=ce.a.getParticipants(e),i=m()([].concat(Object(r.a)(a),Object(r.a)(v()(n,o))));Array.prototype.push.apply(o,i);var u=s()(t[e.id],"unreadCount");c[e.id]=Object.assign({},e,{unreadCount:u})})),c},de=function(e,t,n,r,a){return{appId:"",conversationType:"",id:e,lastMessage:void 0,lastMessageId:void 0,readStatusList:[],startedByContext:n,participants:t,createCase:r,unreadCount:0,additional:a}},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.hasInitialItems,n=e.items,r=e.loaded,a=e.loading;return{hasMore:!1,loaded:!!r,loading:!!a,items:n||[],failedItemIds:[],hasInitialItems:!!t,cursorInfo:{beforeCursor:void 0,afterCursor:void 0}}},fe=Object(H.b)((function(e,t){var n=e.byId;return w()(y()(e.ids,(function(e){var r=s()(t[e],"messages.items");if(r&&r.length)return K.a.getCreationTime(k()(r));var a=ce.a.getLastMessage(n[e]);return a?K.a.getCreationTime(a):-1})))}));function be(e,t){var n=K.a.getCreationTime(t);if(Object(oe.f)(t))return e.length;var r=e,a=function(e){var t=-1;return f()(e,(function(e,n){return!!Object(oe.f)(e)&&(t=n,null)})),t}(e);return-1!==a&&(r=e.slice(0,a)),Object(oe.g)(t)?r.length:D()(r,(function(e){return K.a.getCreationTime(e)<=n}))+1}var pe=function(e){var t=e.items;if(_()(t))return e;var n=e.cursorInfo,r=(n.beforeCursor,n.afterCursor,F()(t,oe.h)),a=p()(t,oe.h);return W()(e,{cursorInfo:{$set:{beforeCursor:a?(new ae).setDirection("B").setMessageCreationTime(K.a.getCreationTime(a)).setMessageId(a.id).build():void 0,afterCursor:r?(new ae).setDirection("A").setMessageCreationTime(K.a.getCreationTime(r)).setMessageId(r.id).build():void 0}}})};function Oe(e,t){return _()(e)?t:T()(t,(function(e,t){if(F()(e,(function(e){return e.id===t.id})))return e;var n=be(e,t);return W()(e,{$splice:[[n,0,t]]})}),e)}var ve=function(e,t){var n=t(e.items);return-1===n?e:W()(e,{items:{$splice:[[n,1]]}})};function he(e,t,n){var a,c,o=(a=e,(c=n)?D()(a,(function(e){return e.id===c})):-1),i=e.slice(o+1);return Object(r.a)(Oe([].concat(Object(r.a)(e.slice(0,o+1)),Object(r.a)(t)),i))}var ge=function(e,t){return ve(e,(function(n){var r=-1;return N()(n,(function(n,a){if(K.a.getClientMessageId(n)===K.a.getClientMessageId(t)&&(o()(e.failedItemIds,K.a.getId(n))||Object(oe.g)(n)))return r=a,!1})),r}))},je=z()((function(e,t,n){var r=e.results;if(_()(r))return n;var a,c=T()(r,(function(e,t){return ge(e,t)}),n),o=c.items,i="B"===ae.getDirection(t)?(a=o,r.concat(a)):he(o,r,ae.getMessageId(t));return W()(c,{items:{$set:i}})})),me=z()((function(e,t){return W()(t,{loading:{$set:!1},hasMore:{$set:e.hasMore},loaded:{$set:!0}})}));function xe(e,t){if(_()(t))return e;var n=Oe(e.items,t),r=W()(e,{items:{$set:n},hasInitialItems:{$set:!0}});return pe(r)}var ye=function(e,t){return ve(e,(function(e){return D()(e,["id",t])}))},Ie=function(e){return function(t){var n=-1;return f()(t,(function(t,r){return!!Object(oe.f)(t)&&(K.a.getSender(t)===e?(n=r,!1):null)})),n}},we=function(e,t){var n=Ie(t)(e.items);if(-1!==n)return e.items[n]},Ce=function(e,t){return T()(t,(function(t,n){var a=we(e,n);return a?[].concat(Object(r.a)(t),[a]):t}),[])},Te=z()((function(e,t){return Object(oe.h)(t)&&K.a.getSender(t)===e})),Ee=function(e,t){return F()(e.items,Te(t))},ke=function(e,t){return ve(e,Ie(t))},Se=function(e,t){return ve(e,(function(e){return d()(e,["id",t])}))},_e=function(e,t){return W()(e,{failedItemIds:{$splice:[[e.failedItemIds.length-1,0,t]]}})},Ae=function(e){var t=B()(e.items,(function(e){return!Object(oe.f)(e)}));return W()(e,{items:{$set:t}})};function Ne(e,t){return _()(t)?e:t.reduce((function(e,t){var n=t.id,r=D()(e.items,["id",n]);return-1===r?e:W()(e,{items:{$splice:[[r,1,t]]}})}),e)}var Re=function(e,t){var n=t.conversationMessagesResponse,r=t.cursor,a=void 0===r?"":r;return P()(je(n,a),pe,me(n))(e)},Pe=function(e,t){if(!e)return e;var n=ce.a.getParticipants(e);n||(console.error("Existing participants don't exist in conversation ".concat(e.id," and New participants are ").concat(t)),n=[]);var a=m()([].concat(Object(r.a)(n),Object(r.a)(t)));return a.length===n.length?e:W()(e,{participants:{$set:a}})},Le=function(e){return function(t,n){for(var r=t.byId[n],c=arguments.length,o=new Array(c>2?c-2:0),i=2;i<c;i++)o[i-2]=arguments[i];var s=e.apply(void 0,[r].concat(o));return r===s?t:W()(t,{byId:Object(a.a)({},n,{$set:s})})}},De=Le((function(e,t){if(!e||_()(t))return e;var n=g()(t,(function(e){return K.a.getSender(e)}));return Pe(e,n)})),Me=Le(Pe),Be=(Le((function(e,t){if(!e)return e;var n=ce.a.getParticipants(e),r=v()(n,t);return r.length===n.length?e:W()(e,{participants:{$set:r}})})),Le((function(e,t){var n=t.conversationResponse,r=t.botUserIds;return W()(Pe(n,r),{closed:{$set:!1},unreadCount:{$set:0}})}))),Ue=function(e,t){return Object(ie.h)(t,e)?Object(ie.b)(e):[t]}},491:function(e,t,n){"use strict";var r=n(136),a=n(59),c=n(326),o=n(185),i=function(e){return e};t.a=function(){var e=Object(c.a)(),t=Object(r.a)(),n=Object(a.d)(i);return Object(o.d)(n,t,e)}},492:function(e,t,n){"use strict";var r=n(33),a=n(2),c=n.n(a),o=n(59),i=n(319),s=n.n(i),u=n(402),d=n.n(u),l=n(87),f=n.n(l),b=n(9),p=n.n(b),O=n(136),v=n(37),h=n(97),g=n(65),j=n(3),m=function(e){return Object(h.c)(Object(v.b)(e))};t.a=c.a.memo((function(e){var t=e.shouldPlay,n=e.unreadCount,i=e.children,u=Object(o.d)(m),l=Object(O.a)(),b=u.enableSoundNotification.enabled,v=!!p()(g.a.getUserPreferences(l),"enableSoundNotification"),h=b&&v,x=s()({src:h?"https://sprcdn-assets.sprinklr.com/738/notification-4de93778-e7e2-403b-9035-46fddfe6df16-1610394477.mp3":""}),y=Object(r.a)(x,3),I=y[0],w=y[2],C=d()(n);return Object(a.useEffect)((function(){f()(C)||w&&h&&t&&n>C&&w.play()}),[n,w,C,h,t]),Object(j.jsx)(c.a.Fragment,null,I,i)}))},493:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(50),a=n(2),c=n.n(a),o=n(160),i=n(3),s=c.a.createContext((function(){return o.c})),u=function(e){return function(t){return Object(i.jsx)(s.Consumer,null,(function(n){return Object(i.jsx)(e,Object(r.a)({},t,{getUserType:n}))}))}};t.b=s},494:function(e,t,n){"use strict";n.d(t,"a",(function(){return I})),n.d(t,"c",(function(){return x}));var r=n(4),a=n(2),c=n.n(a),o=n(17);var i="\n  max-width: 100%;\n  max-height: 100%;\n  margin: auto;\n",s=Object(o.a)("video",{target:"eeyht910"})("max-height:100%;max-width:100%;&:-webkit-full-screen{",i,";}&:fullscreen{",i,";}&:-ms-fullscreen{",i,";}"),u=Object(o.a)("div",{target:"eeyht911"})({name:"ci28pu",styles:"width:100%;position:relative;padding-bottom:56.25%;overflow:hidden;iframe{position:absolute;top:0;left:0;width:100%;height:100%;}"}),d=n(3),l=c.a.memo((function(e){var t=e.onClick,n=e.url,r=e.autoPlay,a=e.className;return Object(d.jsx)(s,{className:a,src:n,controls:!0,autoPlay:r,onClick:t})})),f=n(701),b=n.n(f),p=c.a.memo((function(e){var t=e.autoPlay,n=e.url,r=e.onClick,c=Object(a.useRef)(null),o=Object(a.useCallback)((function(){c.current&&r({target:c.current})}),[r,c.current]);return Object(d.jsx)(u,{ref:c},Object(d.jsx)(b.a,{url:n,playing:t,onPlay:o,height:"100%",width:"100%",controls:!0}))})),O=n(13),v=n(130),h=n.n(v),g="YOUTUBE",j=Object(r.a)({},g,/(?:youtu\.be\/|youtube(?:-nocookie)?\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//),m=Object(r.a)({},g,(function(e){var t=e.match(j[g]);return t&&t.length?{videoId:t[1]}:null})),x=function(e){var t;return h()(m).forEach((function(n){var r=m[n](e);r&&(t=Object(O.a)(Object(O.a)({},r),{},{channel:n}))})),t},y=/\.(mp4|og[gv]|webm|mov|m4v)($|\?)/i,I=function(e){return function(e){return y.test(e)}(e)||function(e){return!!x(e)}(e)},w=n(505),C=n(372),T=Object(r.a)({},C.a.YOUTUBE,p);t.b=function(e){if(!I(e.url))return null;var t=Object(w.a)(e.url),n=t?T[t]:l;return Object(d.jsx)(n,e)}},495:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(2),a=n(98),c=n.n(a),o=n(79),i=n(162),s=n(687),u=n(689),d=n(157),l=n(75),f=n(331),b=n(135),p=n(3),O=function(e){var t=Object(f.a)().setVisibleModal,n=Object(l.b)(),a=e.confirmationLabel,O=e.cancelLabel,v=e.title,h=e.message,g=e.containerStyles,j=e.onCancel,m=Object(r.useCallback)((function(e){t(void 0),j&&j(e)}),[t,j]),x=Object(r.useCallback)((function(e){e.stopPropagation()}),[]);return Object(p.jsx)(s.a,{onBlur:m},(function(t){return Object(p.jsx)(i.b,{css:g,ref:t,onClick:x},Object(p.jsx)("div",{className:"flex-column-container"},Object(p.jsx)(i.e,{className:"flex-row-container center-y"},Object(p.jsx)(i.d,{role:"heading","aria-level":1,className:"text-wrap"},c()(v)?v:Object(p.jsx)(o.b,v)),Object(p.jsx)(i.f,{Icon:d.a,iconName:b.a.CLOSE,onClick:m,iconCss:Object(i.j)(n),css:Object(i.i)(n)})),Object(p.jsx)(i.c,{className:"text-wrap"},c()(h)?h:Object(p.jsx)(o.b,h)),Object(p.jsx)(u.a,{confirmationLabel:a,cancelLabel:O,onCancel:m,onConfirm:e.onConfirm,disabled:e.disabled,theme:n})))}))}},497:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r,a=n(2),c=n.n(a),o=["svgRef","title"];function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var u=function(e){var t=e.svgRef,n=e.title,a=s(e,o);return c.a.createElement("svg",i({id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 12 14",enableBackground:"new 0 0 12 14",xmlSpace:"preserve",ref:t},a),n?c.a.createElement("title",null,n):null,r||(r=c.a.createElement("g",{id:"engagement-score"},c.a.createElement("g",{id:"Smart-asset-recommendation_01-Copy-34",transform:"translate(-411.000000, -423.000000)"},c.a.createElement("g",{id:"sid-attachment",transform:"translate(411.000000, 423.000000)"},c.a.createElement("path",{id:"Path",d:"M4.198631,14c-0.795512,0-1.522396-0.264849-1.975732-0.533564 c-0.935669-0.604609-1.488565-1.349375-1.661586-2.226082c-0.269682-1.364355,0.514231-2.51606,0.548062-2.56439 L6.67506,0.873082c1.065194-1.312643,2.615621-0.865591,3.290308-0.449953 c1.521429,1.023147,1.054561,2.670234,0.598326,3.400017L6.271988,10.15873 c-0.629257,1.008649-1.688651,0.968534-2.244446,0.690638c-0.036731-0.018849-0.072495-0.04108-0.105359-0.067179 c-0.939536-0.751049-0.665021-1.85394-0.25035-2.41167l3.49426-5.083352C7.351682,3.016519,7.721889,2.94789,7.99157,3.133961 c0.270648,0.186071,0.339277,0.555795,0.152723,0.82596L4.637467,9.060672 C4.509876,9.241426,4.356186,9.554121,4.612336,9.807854C4.772792,9.864884,5.048273,9.876,5.27639,9.511591l4.291706-6.33655 c0.103426-0.170605,0.640856-1.156538-0.245517-1.753897c-0.086994-0.050747-1.072927-0.605092-1.70315,0.171571 l-5.53862,7.766636l0,0c0,0-0.52873,0.794545-0.352809,1.660136c0.111159,0.545162,0.488133,1.028462,1.12029,1.437335 c0.171088,0.09956,1.90517,1.040545,3.079589-0.574644l4.485993-6.424994c0.18752-0.269198,0.557729-0.335411,0.827411-0.14644 c0.268715,0.187521,0.334443,0.557728,0.146922,0.826927l-4.492759,6.433692C6.1096,13.653474,5.108202,14,4.198631,14z"}))))))},d=c.a.forwardRef((function(e,t){return c.a.createElement(u,i({svgRef:t},e))}));n.p},498:function(e,t,n){"use strict";var r=n(17),a=(n(2),n(5)),c=n(163),o=n(510),i=n(3),s=Object(r.a)("div",{target:"e1bo82op0"})("background:",Object(a.e)("notification.backgroundColor"),";color:",Object(a.e)("notification.color"),";font-size:",Object(a.d)("xs"),";font-weight:600;box-shadow:0px 2px 4px 0px rgba(0,0,0,0.2);border-radius:50%;");t.a=function(e){return Object(i.jsx)(s,{"aria-live":"polite",className:"center-x-y ".concat(e.className)},Object(i.jsx)(o.a,{message:1===e.count?c.a.newNotification:c.a.newNotifications}),(t=e.count)>=10?"9+":t);var t}},499:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(79),a=Object(r.f)({agentViewingYourScreen:{id:"agentViewingYourScreen",defaultMessage:"{agentName} is viewing your screen"},agentControllingYourScreen:{id:"agentControllingYourScreen",defaultMessage:"{agentName} is controlling your screen"},screenSharing:{id:"screenSharing",defaultMessage:"Screen Sharing"},screenInControl:{id:"screenInControl",defaultMessage:"Screen in Control"},stopScreenControl:{id:"stopScreenControl",defaultMessage:"Stop Screen Control"},stopCobrowsing:{id:"stopCobrowsing",defaultMessage:"Stop Co-browsing"},allowScreenControl:{id:"allowScreenControl",defaultMessage:"Allow Screen Control"},cobrowseRemoteControlConfirmationMessage:{id:"cobrowseRemoteControlConfirmationMessage",defaultMessage:"{agentName} is requesting permission to control your screen. Clicking \u2018Accept\u2019 will allow {agentName} to interact with your screen."},accept:{id:"accept",defaultMessage:"Accept"},deny:{id:"deny",defaultMessage:"Deny"},settingUpCobrowsing:{id:"settingUpCobrowsing",defaultMessage:"Setting up Co-browsing with {agentName}"},cobrowsingFailed:{id:"cobrowsingFailed",defaultMessage:"Co-browsing Failed"},settingUpWentWrong:{id:"settingUpWentWrong",defaultMessage:"Sorry, something went wrong while setting up. Please try again in sometime."}})},5:function(e,t,n){"use strict";n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return b})),n.d(t,"b",(function(){return p})),n.d(t,"f",(function(){return O})),n.d(t,"c",(function(){return v}));var r=n(9),a=n.n(r),c=n(225),o=n.n(c),i=n(98),s=n.n(i),u=n(88),d=n.n(u),l=function(e,t){return function(n){return a()(n,"theme.styles.".concat(e),t)}},f=function(e,t){return function(n){return a()(n,"theme.colors.".concat(e),t)}},b=function(e,t){return function(n){return a()(n,"theme.typography.fontSizes.".concat(e),t)}},p=function(e){return o()(e)||s()(e)&&!d()(e,"px")?"".concat(e,"px"):e},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return function(c){var o=l("".concat(e,"Top"),t)(c),i=l("".concat(e,"Right"),n)(c),s=l("".concat(e,"Bottom"),r)(c),u=l("".concat(e,"Left"),a)(c);return"".concat(p(o)," ").concat(p(i)," ").concat(p(s)," ").concat(p(u))}},v=function(e){return function(t){return"".concat(l(e)(t),", ").concat(a()(t,"theme.typography.fontFamily"))}}},500:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return p}));var r,a=n(33),c=n(4),o=n(2),i=n.n(o),s=n(319),u=n.n(s),d=n(3),l=i.a.createContext({}),f={MESSAGE:"MESSAGE",CALL:"CALL"},b=(r={},Object(c.a)(r,f.MESSAGE,"https://sprcdn-assets.sprinklr.com/738/notification-4de93778-e7e2-403b-9035-46fddfe6df16-1610394477.mp3"),Object(c.a)(r,f.CALL,"https://sprcdn-assets.sprinklr.com/787/6279cf0d-c15c-4f6b-8889-d1be2f9c0264-2132784780.wav"),r),p=function(e){var t=e.children,n=u()({src:b.MESSAGE}),r=Object(a.a)(n,3),c=r[0],i=r[2],s=u()({src:b.CALL}),p=Object(a.a)(s,3),O=p[0],v=p[2],h=Object(o.useCallback)((function(e){switch(e){case f.MESSAGE:return i.play();case f.CALL:return v.play()}}),[i,v]),g=Object(o.useMemo)((function(){return{play:h}}),[h]);return Object(d.jsx)(l.Provider,{value:g},c,O,t)};t.c=l},501:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return O}));n(50);var r=n(33),a=n(2),c=n(331),o=n(318),i=n(17),s=n(53),u=n(5),d=n(330),l=Object(i.a)("div",{target:"e1r2xr2p0"})("top:0;left:0;margin:0;padding:0;overflow:hidden;z-index:",d.a.MODAL_FRAME,";position:absolute;width:100%;height:100%;background-color:",(function(e){return Object(s.l)(.48,Object(u.a)("charcoal")(e))}),";"),f=n(3),b=function(e){var t=e.children;return t?Object(f.jsx)(l,null,t):null},p=function(e){var t=Object(a.useState)(void 0),n=Object(r.a)(t,2),c=n[0],i=n[1],s=Object(a.useMemo)((function(){return{visibleModal:c,setVisibleModal:i}}),[c,i]);return Object(f.jsx)(o.a.Provider,{value:s},e.children)},O=function(e){var t=e.id,n=e.children;return Object(c.a)().visibleModal!==t?null:Object(f.jsx)(b,null,n)}},504:function(e,t,n){"use strict";var r=n(2),a=n(396);t.a=function(){return Object(r.useContext)(a.b)}},505:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),a=n(702),c=n.n(a),o=n(372),i=Object(r.a)({},o.a.YOUTUBE,/(?:youtu\.be\/|youtube(?:-nocookie)?\.com\/)/),s=function(e){return c()(i,(function(t){return t.test(e)}))}},506:function(e,t,n){"use strict";var r=n(2),a=n(401);t.a=function(){return Object(r.useContext)(a.b)}},507:function(e,t,n){"use strict";var r=n(12);t.a=function e(){var t=this;Object(r.a)(this,e),this._startTime=void 0,this._endTime=void 0,this.start=function(){return t._startTime=t.getCurrentTime(),t._startTime},this.stop=function(){return t._endTime=t.getCurrentTime(),t._endTime},this.getCurrentTime=function(){return Date.now()},this.getStartTime=function(){return t._startTime},this.getEndTime=function(){return t._endTime},this._startTime=0,this._endTime=0}},509:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(7),a=function(e,t){var n={conversationId:t};return e?{type:r.W,payload:n}:{type:r.X,payload:n}}},51:function(e,t,n){"use strict";n.d(t,"h",(function(){return r})),n.d(t,"l",(function(){return a})),n.d(t,"m",(function(){return c})),n.d(t,"g",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"n",(function(){return u})),n.d(t,"o",(function(){return d})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return f})),n.d(t,"e",(function(){return b})),n.d(t,"c",(function(){return p})),n.d(t,"j",(function(){return O})),n.d(t,"k",(function(){return v})),n.d(t,"i",(function(){return h}));var r="@cobrowse/COBROWSE_SESSION_INITIATED",a="@cobrowse/COBROWSE_SESSION_SETTING_UP",c="@cobrowse/COBROWSE_SESSION_STARTED",o="@cobrowse/COBROWSE_SESSION_FAILED",i="@cobrowse/COBROWSE_SESSION_ENDED",s="@cobrowse/COBROWSE_EVENT_PUBLISH",u="@cobrowse/COBROWSE_SESSION_STARTING",d="@cobrowse/COBROWSE_SESSION_START_FAILED",l="@cobrowse/COBROWSE_REMOTE_CONTROL_PENDING",f="@cobrowse/COBROWSE_REMOTE_CONTROL_ACCEPT",b="@cobrowse/COBROWSE_REMOTE_CONTROL_REJECT",p="@cobrowse/COBROWSE_REMOTE_CONTROL_END",O="@cobrowse/COBROWSE_SESSION_RESUME",v="@cobrowse/COBROWSE_SESSION_RESUME_SUCCEEDED",h="@cobrowse/COBROWSE_SESSION_PERSIST"},510:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n(2);var r=n(79),a=n(3),c=function(e){return Object(a.jsx)("div",{className:"sr-only"},Object(a.jsx)(r.b,e.message))}},53:function(e,t,n){"use strict";n.d(t,"h",(function(){return c})),n.d(t,"a",(function(){return o})),n.d(t,"j",(function(){return i})),n.d(t,"k",(function(){return s})),n.d(t,"l",(function(){return u})),n.d(t,"i",(function(){return d})),n.d(t,"g",(function(){return l})),n.d(t,"f",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"d",(function(){return O})),n.d(t,"c",(function(){return v})),n.d(t,"b",(function(){return h}));var r=n(190),a=n(182),c=function(e){var t;try{t=Object(r.d)(e)}catch(n){t=Object(r.d)("rgba(255, 255, 255, 0)")}return t},o=function(e,t){var n;try{n=Object(r.a)(e,t)}catch(a){n=t}return n},i=function(e,t){var n;try{n=Object(r.f)(e,t)}catch(a){n=t}return n},s=function(e,t){var n;try{n=Object(r.g)(e,t)}catch(a){n=t}return n},u=function(e,t){var n;try{n=Object(r.h)(e,t)}catch(a){n=t}return n},d=function(e,t,n,a){var c;try{c=Object(r.e)(e,t,n,a)}catch(o){c="rgba(255, 255, 255, 0)"}return c},l=function(e,t,n){var a;try{a=Object(r.c)(e,t,n)}catch(c){a=t}return a},f=function(e,t){var n;try{n=Object(r.b)(e,t)}catch(a){n=t}return n};function b(e){return.299*parseInt(e.slice(1,3),16)+.587*parseInt(e.slice(3,5),16)+.114*parseInt(e.slice(5,7),16)}function p(e){if(!e||7!==e.length)return!0;var t=b(e);return t>=186&&t<220}function O(e){return e&&7===e.length?b(e)<186:a.b.charcoal}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.b.white,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.b.charcoal;return O(e)?t:n}function h(e){return c(e).lightness<.1?s(.15,e):o(O(e)?.15:.08,e)}},54:function(e,t,n){"use strict";t.a={AND:"AND",OR:"OR",LT:"LT",LTE:"LTE",GT:"GT",GTE:"GTE",EQUALS:"EQUALS",NOT_EQUALS:"NOT_EQUALS",REGEX:"REGEX",IN:"IN",CONTAINS:"CONTAINS",NIN:"NIN"}},55:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return a})),n.d(t,"g",(function(){return c})),n.d(t,"f",(function(){return o})),n.d(t,"h",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"i",(function(){return d})),n.d(t,"l",(function(){return l})),n.d(t,"n",(function(){return f})),n.d(t,"p",(function(){return b})),n.d(t,"o",(function(){return p})),n.d(t,"k",(function(){return O})),n.d(t,"j",(function(){return v})),n.d(t,"m",(function(){return h})),n.d(t,"a",(function(){return g}));var r="@call/CALL_INCOMING",a="@call/CALL_INCOMING_ACCEPTED",c="@call/CALL_INCOMING_SETUP",o="@call/CALL_INCOMING_CONNECTING",i="@call/CALL_INCOMING_START",s="@call/CALL_END",u="@call/CALL_END_AND_SEND_TEXT",d="@call/CALL_OUTGOING",l="@call/CALL_OUTGOING_SETUP",f="@call/CALL_OUTGOING_WAITING",b="@call/CALL_OUTGOING_WAITING_UPDATE",p="@call/CALL_OUTGOING_WAITING_FAILED",O="@call/CALL_OUTGOING_FAILED",v="@call/CALL_OUTGOING_CONNECTING",h="@call/CALL_OUTGOING_START",g="@call/CALL_CONTROLS_UPDATE"},57:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return c}));var r="@@init",a="@CLEAR_STORE",c="@REBOOT"},58:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r=n(12),a=n(31),c=n(10),o=n(321),i=n(1241),s=n(1240),u=n(486),d=n(6),l=Object(c.a)("messageType"),f=Object(c.a)("text"),b=Object(c.a)("events"),p=Object(c.a)("textEntities"),O=Object(c.a)("richText"),v=Object(c.a)("attachment"),h=Object(c.a)("quickReplies"),g=Object(c.a)("previewUrls"),j=Object(c.a)("disableManualResponse"),m=function(e){return!Object(o.a)(e)},x=function(){function e(t){Object(r.a)(this,e),this.data=Object(i.a)(t||{})}return Object(a.a)(e,[{key:"build",value:function(){return Object(s.a)(m,this.data)}},{key:"set",value:function(e,t){return this.data=Object(u.a)(e,t,this.data),this}},{key:"setMessageType",value:function(e){return this.set(l,e)}},{key:"setMessageText",value:function(e){return this.set(f,e)}},{key:"setTextEntities",value:function(e){return this.set(p,e)}},{key:"setAttachment",value:function(e){return this.set(v,e)}}],[{key:"clone",value:function(t){return new e(t).build()}}]),e}();x.getMessageType=Object(d.a)(l),x.getMessageText=Object(d.a)(f),x.getTextEntities=Object(d.a)(p),x.getIsRichText=Object(d.a)(O),x.getAttachment=Object(d.a)(v),x.getEvents=Object(d.a)(b),x.getQuickReplies=Object(d.a)(h),x.getPreviewUrls=Object(d.a)(g),x.shouldDisableManualResponse=Object(d.a)(j),x.isEmpty=function(e){return!!e&&!x.getMessageText(e)&&!x.getAttachment(e)&&!x.getEvents(e)}},63:function(e,t,n){"use strict";n.d(t,"c",(function(){return x})),n.d(t,"b",(function(){return I})),n.d(t,"a",(function(){return w})),n.d(t,"i",(function(){return C})),n.d(t,"g",(function(){return T})),n.d(t,"f",(function(){return E})),n.d(t,"e",(function(){return k})),n.d(t,"k",(function(){return _})),n.d(t,"j",(function(){return N})),n.d(t,"d",(function(){return P})),n.d(t,"h",(function(){return D}));var r=n(4),a=n(13),c=n(0),o=n.n(c),i=n(19),s=n(9),u=n.n(s),d=n(74),l=n.n(d),f=n(89),b=n(27),p=n(26),O=function(e){return e?"".concat("spr-chat-token","-").concat(e):"spr-chat-token"},v=function(e){return"".concat("spr-chat-user","-").concat(e)},h=O();function g(){return!!b.a.getSessionOrigin(Object(p.a)())?f.c:f.d}var j=function(){var e=Object(i.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.d.setItem(O(t),n);case 2:return e.next=4,f.d.removeItem(h);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.d.getItem(h);case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,j(t,n);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function x(e){return y.apply(this,arguments)}function y(){return(y=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.d.getItem(O(t));case 2:if(n=e.sent){e.next=7;break}return e.next=6,m(t);case 6:n=e.sent;case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e,t){return t.getItem(O(e))}function w(e){return!!b.a.getSessionOrigin(Object(p.a)())?f.c.getItem(O(e)):x(e)}function C(e,t){return g().setItem(O(e),t)}function T(e,t){return Promise.all([t.removeItem(O(e)),f.d.removeItem(h)])}function E(e){return T(e,g())}function k(e){return S.apply(this,arguments)}function S(){return(S=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.d.getItem(v(t));case 2:return n=e.sent,e.abrupt("return",n||{});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e,t){return f.d.setItem(v(e),t)}function A(){return"spr-session-".concat(b.a.getAppId(Object(p.a)()))}function N(e,t,n){return R.apply(this,arguments)}function R(){return(R=Object(i.a)(o.a.mark((function e(t,n,c){var i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.d.getItem(A());case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:return i=e.t0,e.abrupt("return",f.d.setItem(A(),Object(a.a)(Object(a.a)({},i),{},Object(r.a)({},t,{context:n,messageIds:c}))));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){return L.apply(this,arguments)}function L(){return(L=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.d.getItem(A());case 2:return n=e.sent,e.abrupt("return",u()(n,t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e){return M.apply(this,arguments)}function M(){return(M=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.d.getItem(A());case 2:return n=e.sent,e.abrupt("return",f.d.setItem(A(),l()(n,t)));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},644:function(e,t,n){var r={"./classic/pages":[1256,0,4,36],"./modern/pages":[1257,0,4,37]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id=644,e.exports=a},649:function(e,t,n){"use strict";var r=n(50),a=(n(2),n(246)),c=n(3);t.a=function(e){return function(t){var n=Object(a.a)();return Object(c.jsx)(e,Object(r.a)({},t,{onEvent:n}))}}},65:function(e,t,n){"use strict";n.d(t,"a",(function(){return ce}));var r=n(12),a=n(10),c=n(39),o=n(6),i=Object(a.a)("conversationScreen"),s=Object(a.a)("surveyScreen"),u=Object(a.a)("videoCall"),d=Object(a.a)("audioCall"),l=Object(a.a)("allScreens"),f=Object(a.a)("settings"),b=Object(a.a)("trigger"),p=Object(a.a)("proactivePrompt"),O=Object(a.a)("minimizeChatBoxOnCloseInPhone"),v=Object(a.a)("header"),h=Object(a.a)("label"),g=Object(a.a)("label"),j=Object(a.a)("defaultHidden"),m=Object(a.a)("initiallyHidden"),x=Object(a.a)("hideWhenOpen"),y=Object(a.a)("canManuallyRemove"),I=Object(a.a)("invisibilityCriteria"),w=Object(a.a)("lastMessage"),C=Object(a.a)("contactDetailsMessage"),T=Object(a.a)("actionsToShowByVariant"),E=Object(a.a)("hideActionIcon"),k=Object(a.a)("hideActionDialogTwisty"),S=Object(a.a)("actionOnPageCloseByScope"),_=Object(a.a)("reverseHeaderIconsOrder"),A=Object(a.a)("enableSoundNotification"),N=Object(a.a)("maximumOpenConversations"),R=Object(a.a)("disableManualNewConversation"),P=Object(a.a)("autoLoginSSOId"),L=Object(a.a)("analyticsSettings"),D=Object(a.a)("hour12"),M=Object(a.a)("conversationTagsEnabled"),B=Object(a.a)("googleAnalytics"),U=Object(a.a)("trackerId"),F=Object(a.a)("sprinklrAnalytics"),G=Object(a.a)("enabled"),z=Object(a.a)("enableWatermark"),V=Object(a.a)("externalLocaleData"),W=Object(a.a)("homeScreen"),H=Object(a.a)("conversationCard"),K=Object(a.a)("hideWavingHandIcon"),Y=Object(a.a)("shouldShow"),$=Object(a.a)("agents"),X=Object(a.a)("footer"),q=Object(a.a)("actionsToShow"),J=Object(a.a)("chatMessageComposer"),Q=Object(a.a)("maxCharacters"),Z=Object(a.a)("button"),ee=Object(a.a)("enableIndividualMessageDismissal"),te=Object(a.a)("hideOnDisableManualResponse"),ne=Object(a.a)("infoCard"),re=Object(a.a)("existingConversationCard"),ae=Object(a.a)("showHeader"),ce=function e(){Object(r.a)(this,e)};ce.getDefaultMessages=Object(c.a)(Object(o.a)(w),Object(o.a)(i)),ce.getSurveyActionsToShowByVariant=Object(c.a)(Object(o.a)(T),Object(o.a)(s)),ce.getActionsToShowByVariant=Object(c.a)(Object(o.a)(T),Object(o.a)(i)),ce.getConversationActionOnPageCloseByScope=Object(c.a)(Object(o.a)(S),Object(o.a)(i)),ce.shouldHideActionIconInAllScreen=Object(c.a)(Object(o.a)(E),Object(o.a)(l)),ce.shouldHideActionIconInConversationScreen=Object(c.a)(Object(o.a)(E),Object(o.a)(i)),ce.shouldHideActionIconInHomeScreen=Object(c.a)(Object(o.a)(E),Object(o.a)(W)),ce.shouldHideActionDialogTwistyInAllScreen=Object(c.a)(Object(o.a)(k),Object(o.a)(l)),ce.shouldHideActionDialogTwistyInConversationScreen=Object(c.a)(Object(o.a)(k),Object(o.a)(i)),ce.shouldHideActionDialogTwistyInHomeScreen=Object(c.a)(Object(o.a)(k),Object(o.a)(W)),ce.getFooterActionsToShow=Object(c.a)(Object(o.a)(q),Object(o.a)(X),Object(o.a)(i)),ce.getActionOnPageCloseByScope=Object(c.a)(Object(o.a)(S),Object(o.a)(l)),ce.shouldReverseHeaderIconsOrder=Object(c.a)(Object(o.a)(_),Object(o.a)(l)),ce.getAnalyticsSettings=Object(c.a)(Object(o.a)(L),Object(o.a)(f)),ce.hour12Enabled=Object(c.a)(Object(o.a)(D),Object(o.a)(f)),ce.conversationTagsEnabled=Object(c.a)(Object(o.a)(M),Object(o.a)(l)),ce.getGoogleTrackerId=Object(c.a)(Object(o.a)(U),Object(o.a)(B),Object(o.a)(L),Object(o.a)(f)),ce.isSprinklrAnalyticsEnabled=Object(c.a)(Object(o.a)(G),Object(o.a)(F),Object(o.a)(L),Object(o.a)(f)),ce.getEnableSoundNotification=Object(c.a)(Object(o.a)(A),Object(o.a)(f)),ce.getMaximumOpenConversations=Object(c.a)(Object(o.a)(N),Object(o.a)(f)),ce.getDisableManualNewConversation=Object(c.a)(Object(o.a)(R),Object(o.a)(i)),ce.getUserPreferences=Object(o.a)(f),ce.getContactDetailsMessage=Object(c.a)(Object(o.a)(C),Object(o.a)(i)),ce.getTriggerConfig=Object(o.a)(b),ce.getInvisibilityCriteriaOfTrigger=Object(c.a)(Object(o.a)(I),ce.getTriggerConfig),ce.getTriggerLabel=Object(c.a)(Object(o.a)(g),ce.getTriggerConfig),ce.isChatTriggerHidden=Object(c.a)(Object(o.a)(j),Object(o.a)(b)),ce.isChatTriggerInitiallyHidden=Object(c.a)(Object(o.a)(m),Object(o.a)(b)),ce.isTriggerHiddenWhenMaximised=Object(c.a)(Object(o.a)(x),Object(o.a)(b)),ce.canTriggerBeManuallyRemoved=Object(c.a)(Object(o.a)(y),Object(o.a)(b)),ce.getAutoLoginSSOId=Object(c.a)(Object(o.a)(P),Object(o.a)(f)),ce.isWatermarkEnabled=Object(c.a)(Object(o.a)(z),Object(o.a)(f)),ce.getExternalLocaleData=Object(c.a)(Object(o.a)(V),Object(o.a)(f)),ce.shouldHideWavingHandIcon=Object(c.a)(Object(o.a)(K),Object(o.a)(H),Object(o.a)(W)),ce.shouldShowAgents=Object(c.a)(Object(o.a)(Y),Object(o.a)($),Object(o.a)(H),Object(o.a)(W)),ce.shouldShowHeaderInExistingConversationCard=Object(c.a)(Object(o.a)(ae),Object(o.a)(re),Object(o.a)(W)),ce.isMinimizeOnCloseInPhoneForVideoCall=Object(c.a)(Object(o.a)(O),Object(o.a)(u)),ce.getNewConversationButton=Object(c.a)(Object(o.a)(Z),Object(o.a)(H),Object(o.a)(W)),ce.isMinimizeOnCloseInPhoneForAudioCall=Object(c.a)(Object(o.a)(O),Object(o.a)(d)),ce.getVideoCallHeaderLabel=Object(c.a)(Object(o.a)(h),Object(o.a)(v),Object(o.a)(u)),ce.getAudioCallHeaderLabel=Object(c.a)(Object(o.a)(h),Object(o.a)(v),Object(o.a)(d)),ce.getPromptEnableIndividualMessageDismissal=Object(c.a)(Object(o.a)(ee),Object(o.a)(p)),ce.getChatMessageComposerMaxCharacters=Object(c.a)(Object(o.a)(Q),Object(o.a)(J),Object(o.a)(X),Object(o.a)(i)),ce.shouldHideOnDisableManualResponse=Object(c.a)(Object(o.a)(te),Object(o.a)(J),Object(o.a)(X),Object(o.a)(i)),ce.getInfoCard=Object(c.a)(Object(o.a)(ne),Object(o.a)(i))},650:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(33),a=n(496),c=n.n(a),o=n(2);function i(e){var t=Object(o.useState)({height:e.innerHeight,width:e.innerWidth}),n=Object(r.a)(t,2),a=n[0],i=n[1];return Object(o.useEffect)((function(){var t=c()((function(){i({height:e.innerHeight,width:e.innerWidth})}),200);return e.addEventListener("resize",t),e.addEventListener("orientationchange",t),t(),function(){e.removeEventListener("resize",t),e.removeEventListener("orientationchange",t)}}),[]),a}},651:function(e,t,n){"use strict";var r=n(12),a=n(507);t.a=function e(){var t=this;Object(r.a)(this,e),this._clockInstance=void 0,this._totalTime=void 0,this.time=function(){return t._totalTime=t._clockInstance.getCurrentTime()-t._clockInstance.getStartTime(),t._totalTime},this._clockInstance=new a.a,this._totalTime=0,this._clockInstance.start()}},653:function(e,t,n){"use strict";n(2);var r=n(654),a=n(226),c=n(415),o=n(3);t.a=function(e){var t=e.text,n=e.textEntities;if(!n||!n.length)return Object(o.jsx)(c.a,{text:t});var i=n.reduce((function(e,c,o){var i=n[o+1],s=a.a.getEndIndex(c),u=t.substring(s,i?i.indices[0]:void 0),d="".concat(Object(r.a)(t,c)).concat(u);return"".concat(e).concat(d)}),t.substring(0,n[0].indices[0]));return Object(o.jsx)(c.a,{text:i})}},654:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(264),a=n(226),c=function(e,t){var n=a.a.getStartIndex(t),c=a.a.getEndIndex(t),o=e.substring(n,c);if(a.a.getPhoneNumber(t)){var i="tel:".concat(a.a.getPhoneNumber(t));return"<a href=".concat(i,' target="_blank" rel="noopener noreferrer">').concat(o,"</a>")}return"<a href=".concat(Object(r.a)(a.a.getUrl(t)),' target="_blank" rel="noopener noreferrer">').concat(o,"</a>")}},655:function(e,t,n){"use strict";var r=n(2),a=n.n(r),c=n(3);t.a=a.a.memo((function(e){var t=e.text;return Object(c.jsx)("div",{dangerouslySetInnerHTML:{__html:t}})}))},67:function(e,t,n){"use strict";n.d(t,"g",(function(){return I})),n.d(t,"b",(function(){return w})),n.d(t,"f",(function(){return C})),n.d(t,"d",(function(){return T})),n.d(t,"c",(function(){return E})),n.d(t,"e",(function(){return k})),n.d(t,"h",(function(){return S}));var r=n(35),a=n(217),c=n.n(a),o=n(221),i=n.n(o),s=n(38),u=n.n(s),d=n(484),l=n.n(d),f=n(18),b=n.n(f),p=n(158),O=n(151),v=n(57),h=n(160),g=n(171),j=n(81),m=n(110),x={chatUserId:void 0,botUserIds:[],allUsers:{}},y=function(e,t){return b()(t,{allUsers:{$merge:Object.assign({},e)}})};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.b:var n=t.payload.handshakeDetails;if(n){var a=j.a.getChatUser(n),c=j.a.getBotUsers(n),o=b()(e,{chatUserId:{$set:m.a.getId(a)},botUserIds:{$set:u()(c,(function(e){return m.a.getId(e)}))}});return y(l()([a].concat(Object(r.a)(c)),"userId"),o)}return e;case O.a:var i=t.payload.userId;return b()(e,{chatUserId:{$set:i}});case O.c:var s=t.payload.users;return y(l()(s,"userId"),e);default:return e}};var I=function(e,t){return i()(e.allUsers,t)},w=function(e){return e.botUserIds},C=function(e,t){return e.allUsers[t]},T=function(e){return e.chatUserId},E=Object(p.a)([function(e){return C(e,T(e))}],c.a);function k(e,t){return Object(g.b)(t)?w(e).includes(t)?h.b:h.a:h.c}function S(e,t){return k(t,e)===h.b}},681:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(4),a=n(133),c=n(404),o=n(405),i=n(110),s=n(11),u=Object(r.a)({},s.b.CONTACT_DETAILS_FORM,{NAME:function(e){var t=e.user;return i.a.getName(t)},FIRST_NAME:function(e){var t=e.user;return i.a.getFirstName(t)},LAST_NAME:function(e){var t=e.user;return i.a.getLastName(t)},EMAIL:function(e){var t=e.user;return i.a.getEmail(t)},PHONE_NO:function(e){var t=e.user;return i.a.getPhoneNo(t)}}),d=Object(r.a)({},s.b.CONTACT_DETAILS_FORM,(function(e,t){var n=c.a.getFields(o.a.getForm(e)),r=u[s.b.CONTACT_DETAILS_FORM];return n.reduce((function(e,n){var a=n.id,c=r[a];return c&&(e[a]=c(t)),e}),{})})),l=function(e,t){var n=d[a.a.getType(e)];return n?n(e,t):{}}},683:function(e,t,n){"use strict";t.a={PDF:"PDF",EXCEL:"EXCEL",DOCUMENT:"DOCUMENT",WORD_DOCUMENT:"DOC",PRESENTATION:"PRESENTATION"}},685:function(e,t,n){"use strict";var r=n(13),a=n(33),c=n(18),o=n.n(c),i=n(2),s=n(194),u=n.n(s),d=n(56),l=n.n(d),f=n(15),b=n.n(f),p=n(38),O=n.n(p),v=n(105),h=n.n(v),g=n(12),j=n(124),m=n.n(j),x=n(98),y=n.n(x),I=n(225),w=n.n(I),C=function(e,t){return w()(e)&&w()(t)?e-t:y()(e)&&y()(t)?e.localeCompare(t):-1},T=function(e,t){return!m()(t)&&C(t,e)<=-1},E=function(e,t){return!m()(t)&&C(t,e)>=1},k=function(e,t){return!m()(t)&&0===C(t,e)},S=n(62),_=n.n(S),A=n(24),N=n(54),R=function e(t){var n=this;Object(g.a)(this,e),this._filter=void 0,this.matches=function(e,t){var r,a=t.logOnSuccess,c=t.logOnFailure,o=A.a.getField(n._filter),i=_()(A.a.getValues(n._filter)),s=e?e[o]:void 0;switch(A.a.getFilterType(n._filter)){case N.a.LT:r=T(i,s);break;case N.a.LTE:r=T(i,s)||k(i,s);break;case N.a.GT:r=E(i,s);break;case N.a.GTE:r=E(i,s)||k(i,s);break;case N.a.EQUALS:r=k(i,s);break;case N.a.NOT_EQUALS:r=!k(i,s);break;default:r=!1}return r&&a&&console.warn("Range Filter succeed for ".concat(o," with value ").concat(s)),!r&&c&&console.warn("Range Filter failed for ".concat(o," with value ").concat(s)),r},this.clear=function(){},this._filter=t},P=function(e,t){if(m()(t))return!1;try{return!!new RegExp(e).test(t)}catch(n){return console.log("Wrong regex in filter"),!1}},L=function e(t){var n=this;Object(g.a)(this,e),this._filter=void 0,this.matches=function(e,t){var r=t.logOnSuccess,a=t.logOnFailure,c=A.a.getField(n._filter),o=_()(A.a.getValues(n._filter)),i=e?e[c]:void 0,s=P(o,i);return s&&r&&console.warn("Regex Filter succeed for ".concat(c," with value ").concat(i)),!s&&a&&console.warn("Regex Filter failed for ".concat(c," with value ").concat(i)),s},this.clear=function(){},this._filter=t},D=function(e,t){return!m()(t)&&!!e.includes(t)},M=function e(t){var n=this;Object(g.a)(this,e),this._filter=void 0,this.matches=function(e,t){var r=t.logOnSuccess,a=t.logOnFailure,c=A.a.getField(n._filter),o=A.a.getValues(n._filter),i=e?e[c]:void 0,s=D(o,i);return s&&r&&console.warn("In Filter succeed for ".concat(c," with value ").concat(i)),!s&&a&&console.warn("In Filter failed for ".concat(c," with value ").concat(i)),s},this.clear=function(){},this._filter=t},B=function(e,t){return!m()(t)&&!e.includes(t)},U=function e(t){var n=this;Object(g.a)(this,e),this._filter=void 0,this.matches=function(e,t){var r=t.logOnSuccess,a=t.logOnFailure,c=A.a.getField(n._filter),o=A.a.getValues(n._filter),i=e?e[c]:void 0,s=B(o,i);return s&&r&&console.warn("NotIn Filter succeed for ".concat(c," with value ").concat(i)),!s&&a&&console.warn("NotIn Filter failed for ".concat(c," with value ").concat(i)),s},this.clear=function(){},this._filter=t},F=function e(){Object(g.a)(this,e)};F.createFilterAction=function(e){switch(A.a.getFilterType(e)){case N.a.LTE:case N.a.LT:case N.a.GT:case N.a.GTE:case N.a.NOT_EQUALS:return new R(e);case N.a.REGEX:return new L(e);case N.a.CONTAINS:case N.a.IN:return new M(e);case N.a.NIN:return new U(e);default:return new R(e)}};var G=F,z=function e(t,n){var r=this;Object(g.a)(this,e),this._filter=void 0,this._unSubscribeFn=void 0,this._filterAction=void 0,this.matches=function(e,t){return r._filterAction.matches(e,t)},this.clear=function(){r._unSubscribeFn&&r._unSubscribeFn(),r._filterAction.clear(),r._unSubscribeFn=null},this._filter=t,this._unSubscribeFn=n(t),this._filterAction=G.createFilterAction(this._filter)},V=n(4),W=n(87),H=n.n(W),K=n(41),Y=function e(t,n){var r=this;Object(g.a)(this,e),this._filter=void 0,this._unSubscribeFn=void 0,this._filterAction=void 0,this.matches=function(e,t){var n=A.a.getDetails(r._filter),a=e;return n&&!H()(n.noOfAgentsAvailable)&&(a=Object(V.a)({},K.a.AVAILABLE_AGENTS,n.noOfAgentsAvailable)),r._filterAction.matches(a,t)},this.clear=function(){r._unSubscribeFn&&r._unSubscribeFn(),r._filterAction.clear(),r._unSubscribeFn=null},this._filter=t,this._unSubscribeFn=n?n(t):null,this._filterAction=G.createFilterAction(t)},$=function e(t,n){var a=this;Object(g.a)(this,e),this._filter=void 0,this._unSubscribeFn=void 0,this._filterAction=void 0,this.matches=function(e,t){var n=A.a.getDetails(a._filter),r=e;return b()(n)||H()(n.timeToBusinessHours)||(r=Object(V.a)({},K.a.BUSINESS_HOURS,n.timeToBusinessHours)),a._filterAction.matches(r,t)},this.clear=function(){a._unSubscribeFn&&a._unSubscribeFn(),a._filterAction.clear(),a._unSubscribeFn=null};var c=function(e){switch(A.a.getFilterType(e)){case N.a.IN:return _()(A.a.getValues(e))?Object(r.a)(Object(r.a)({},e),{},{filterType:N.a.LTE,values:[0]}):Object(r.a)(Object(r.a)({},e),{},{filterType:N.a.GT,values:[0]});default:return e}}(t);this._filter=c,this._unSubscribeFn=n?n(c):null,this._filterAction=G.createFilterAction(c)},X=function e(t,n){var a=this;Object(g.a)(this,e),this._filter=void 0,this._unSubscribeFn=void 0,this._filterAction=void 0,this.matches=function(e,t){return a._filterAction.matches(e,t)},this.clear=function(){a._unSubscribeFn&&a._unSubscribeFn(),a._filterAction.clear(),a._unSubscribeFn=null};var c=function(e){switch(A.a.getFilterType(e)){case N.a.IN:return _()(A.a.getValues(e))?Object(r.a)(Object(r.a)({},e),{},{filterType:N.a.GTE,values:[1]}):Object(r.a)(Object(r.a)({},e),{},{filterType:N.a.LTE,values:[0]});default:return e}}(t);this._filter=c,this._unSubscribeFn=n?n(c):null,this._filterAction=G.createFilterAction(c)},q=function e(){Object(g.a)(this,e)};q.createFilterAction=function(e,t){switch(A.a.getField(e)){case K.a.AVAILABLE_AGENTS:return new Y(e,t);case K.a.BUSINESS_HOURS:return new $(e,t);case K.a.IS_CONVERSATION_OPEN:return new X(e,t);case K.a.CURRENT_URL:case K.a.TOTAL_TIME_SPENT:case K.a.ACTIVE_TIME_SPENT:case K.a.INACTIVE_TIME_SPENT:case K.a.AGENT_OUT_OF_CAPACITY:return new z(e,t);default:return}};var J=q,Q=n(25),Z=n.n(Q),ee=function e(t){var n=this;Object(g.a)(this,e),this._filterActions=void 0,this.matches=function(e,t){var r=!0;return Z()(n._filterActions,(function(n){return!!n.matches(e,t)||(r=!1,!1)})),r},this.clear=function(){Z()(n._filterActions,(function(e){return e.clear()})),n._filterActions=[]},this._filterActions=t},te=function e(t){var n=this;Object(g.a)(this,e),this._filterActions=void 0,this.matches=function(e,t){var r=!1;return Z()(n._filterActions,(function(n){return!n.matches(e,t)||(r=!0,!1)})),r},this.clear=function(){Z()(n._filterActions,(function(e){return e.clear()})),n._filterActions=[]},this._filterActions=t},ne=0,re=function e(){Object(g.a)(this,e)};re.createFilterAction=function(e,t){var n=function(e){return ne+=1,Object(r.a)(Object(r.a)({},e),{},{id:ne})}(e),a=J.createFilterAction(n,t);if(a)return a;switch(A.a.getFilterType(n)){case N.a.AND:return new ee(O()(A.a.getFilters(n),(function(e){return re.createFilterAction(e,t)})));case N.a.OR:return new te(O()(A.a.getFilters(n),(function(e){return re.createFilterAction(e,t)})));default:return G.createFilterAction(n)}};var ae=re,ce=n(691),oe=n(9),ie=n.n(oe),se=function(e){return ie()(e,"id")},ue=function(){var e=Object(ce.a)(),t=e.subscribe,n=e.getValue;return{subscribe:Object(i.useCallback)((function(e,n){var r=se(e);return t(r,n)}),[t]),getValue:n}},de=n(74),le=n.n(de),fe=n(651),be=function(){var e=Object(i.useRef)();e.current=Object(i.useMemo)((function(){return new fe.a}),[]);var t=Object(i.useRef)({});return{subscribe:Object(i.useCallback)((function(n,a){var c,o=se(n),i=_()(A.a.getValues(n))-e.current.time();return i>0&&(c=window.setTimeout((function(){a()}),i),t.current=Object(r.a)(Object(r.a)({},t.current),{},Object(V.a)({},o,{timeoutId:c}))),function(){clearTimeout(ie()(t.current,"".concat(o,".timeoutId"))),t.current=le()(t.current,o)}}),[]),getValue:Object(i.useCallback)((function(){return e.current.time()}),[])}},pe=n(59),Oe=n(183),ve=n.n(Oe),he=n(22),ge=n(37),je=function(e){return Object(he.u)(Object(he.p)(Object(ge.c)(e)))},me=function(){var e=Object(i.useRef)(0),t=Object(i.useRef)({});return e.current=Object(pe.d)(je),ve()((function(){O()(t.current,(function(e){e()}))}),[e.current]),{subscribe:Object(i.useCallback)((function(e,n){var a=se(e);return t.current=Object(r.a)(Object(r.a)({},t.current),{},Object(V.a)({},a,n)),function(){t.current=le()(t.current,a)}}),[]),getValue:Object(i.useCallback)((function(){return e.current}),[])}},xe=n(219),ye=n(81),Ie=function(){var e=Object(i.useRef)(0),t=Object(xe.a)();e.current=ye.a.getTimeToAvailability(t);var n=Object(i.useRef)({}),a=Object(i.useCallback)((function(){return e.current}),[]);return{subscribe:Object(i.useCallback)((function(t,a){var c,o=se(t),i=ie()(t,"details.timeToBusinessHours"),s=-1;return!H()(i)&&i>0?s=i:!H()(e.current)&&e.current>0&&(s=e.current),s>=0&&(c=window.setTimeout(a,s)),n.current=Object(r.a)(Object(r.a)({},n.current),{},Object(V.a)({},o,c)),function(){clearTimeout(ie()(n.current,"".concat(o,".timeoutId"))),n.current=le()(n.current,o)}}),[]),getValue:a}},we=function(){var e=Object(i.useRef)(0),t=Object(xe.a)();e.current=ye.a.getNoOfAgentsAvailable(t);var n=Object(i.useRef)({});return ve()((function(){O()(n.current,(function(e){e()}))}),[e.current]),{subscribe:Object(i.useCallback)((function(e,t){var a=se(e);return n.current=Object(r.a)(Object(r.a)({},n.current),{},Object(V.a)({},a,t)),function(){n.current=le()(n.current,a)}}),[]),getValue:Object(i.useCallback)((function(){return e.current}),[])}},Ce=function(){var e=Object(i.useRef)(0),t=Object(xe.a)();e.current=ye.a.getNoOfAgentsAvailable(t);var n=Object(i.useRef)({});return ve()((function(){O()(n.current,(function(e){e()}))}),[e.current]),{subscribe:Object(i.useCallback)((function(e,t){var a=se(e);return n.current=Object(r.a)(Object(r.a)({},n.current),{},Object(V.a)({},a,t)),function(){n.current=le()(n.current,a)}}),[]),getValue:Object(i.useCallback)((function(){return e.current}),[])}},Te=function(){var e=ue(),t=e.getValue,n=e.subscribe,r=be(),a=r.getValue,c=r.subscribe,o=me(),s=o.getValue,u=o.subscribe,d=Ie(),l=d.getValue,f=d.subscribe,b=we(),p=b.getValue,O=b.subscribe,v=Ce(),h=v.getValue,g=v.subscribe;return{getValue:Object(i.useCallback)((function(){var e;return e={},Object(V.a)(e,K.a.CURRENT_URL,t()),Object(V.a)(e,K.a.TOTAL_TIME_SPENT,a()),Object(V.a)(e,K.a.IS_CONVERSATION_OPEN,s()),Object(V.a)(e,K.a.AVAILABLE_AGENTS,p()),Object(V.a)(e,K.a.AGENT_OUT_OF_CAPACITY,h()),Object(V.a)(e,K.a.BUSINESS_HOURS,l()),e}),[t,a,s,l,p,h]),subscribe:Object(i.useCallback)((function(e,t){switch(A.a.getField(e)){case K.a.TOTAL_TIME_SPENT:return c(e,t);case K.a.CURRENT_URL:return n(e,t);case K.a.IS_CONVERSATION_OPEN:return u(e,t);case K.a.AVAILABLE_AGENTS:return O(e,t);case K.a.AGENT_OUT_OF_CAPACITY:return g(e,t);case K.a.BUSINESS_HOURS:return f(e,t);default:return null}}),[n,c,u,f,O,g])}};t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{defaultValue:!0,logOnFailure:!1,logOnSuccess:!1},n=Object(i.useRef)(!1);n.current=l()(e);var c=t.staticValueMap,s=t.defaultValue,d=t.logOnFailure,f=t.logOnSuccess,p=Te(),v=p.getValue,g=p.subscribe,j=Object(i.useState)((function(){return b()(e)?{}:v()})),m=Object(a.a)(j,2),x=m[0],y=m[1],I=Object(i.useState)([]),w=Object(a.a)(I,2),C=w[0],T=w[1],E=Object(i.useRef)(null);Object(i.useEffect)((function(){return function(){E.current&&O()(E.current,(function(e){return e&&e.clear()}))}}),[e]),E.current=Object(i.useMemo)((function(){return b()(e)?null:(E.current&&O()(E.current,(function(e){return e&&e.clear()})),O()(h()(e),(function(e,t){if(b()(e))return null;var n=function(e){y(v()),T((function(n){return o()(n,{$splice:[[t,1,A.a.getField(e)]]})}))};return ae.createFilterAction(e,(function(e){return g(e,u()(n,e))}))})))}),[e,v,y,T]);var k=Object(i.useMemo)((function(){return E.current?O()(E.current,(function(e,t){return e?(console.warn("--- Filter ".concat(t," match start ---"),Date.now()),e.matches(Object(r.a)(Object(r.a)({},x),c),{logOnFailure:d,logOnSuccess:f})):s})):[s]}),[e,c,x,s,d,f]);return Object(i.useMemo)((function(){return n.current?O()(k,(function(e,t){return{hasPassed:e,changeSource:C[t]}})):{hasPassed:k[0],changeSource:C[0]}}),[k,C])}},686:function(e,t,n){"use strict";var r,a=n(2),c=n.n(a),o=(n(192),n(79)),i=n(17),s=["svgRef","title"];function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=function(e){var t=e.svgRef,n=e.title,a=d(e,s);return c.a.createElement("svg",u({"data-spaceweb":"icon",viewBox:"0 0 14 14","data-icon-name":"SolidCobrowsing",className:"sw--bx sw--by sw--mw sw--mx",ref:t},a),n?c.a.createElement("title",null,n):null,r||(r=c.a.createElement("path",{d:"M12.752 0H1.248A1.328 1.328 0 00.024 1.416v8.66a1.328 1.328 0 001.224 1.416h11.504a1.328 1.328 0 001.224-1.416v-8.66A1.328 1.328 0 0012.752 0zM5.648 5.19a.362.362 0 01-.11-.263c0-.005-.006-.01-.006-.015v-.525h-1.05a.896.896 0 00-.895.895v.928a.889.889 0 00.262.633.918.918 0 00.632.263.5.5 0 010 1 1.914 1.914 0 01-1.34-.556 1.882 1.882 0 01-.554-1.34v-.928A1.896 1.896 0 014.48 3.387h1.051v-.52c0-.005.006-.01.006-.016a.343.343 0 01.11-.268.361.361 0 01.517.01l.996 1.038c.005.01.015.016.02.027a.369.369 0 01.08.179.2.2 0 010 .079.34.34 0 01-.095.221v.005H7.16L6.165 5.18a.361.361 0 01-.517.01zm5.765 1.02A1.897 1.897 0 019.52 8.106h-.88v.519c0 .005-.005.01-.005.016a.343.343 0 01-.111.268.361.361 0 01-.516-.01l-.996-1.038c-.005-.01-.016-.016-.021-.026a.369.369 0 01-.08-.18.2.2 0 010-.079.34.34 0 01.096-.22V7.35h.005l.996-1.038a.364.364 0 01.627.253c0 .005.005.01.005.016v.525h.879a.896.896 0 00.894-.896v-.928a.891.891 0 00-.263-.634.918.918 0 00-.631-.26.5.5 0 010-1 1.914 1.914 0 011.34.554 1.885 1.885 0 01.554 1.34zM10.3 12.584H3.597a.7.7 0 000 1.4H10.3a.7.7 0 100-1.4z"})))},f=c.a.forwardRef((function(e,t){return c.a.createElement(l,u({svgRef:t},e))}));n.p;var b=Object(i.a)(f,{target:"e1s9shjt0"})({name:"1utgq19",styles:"width:48px;height:48px;margin-bottom:18px;"}),p=n(688),O=n(499),v=n(110),h=n(3);var g={name:"19cy8uy",styles:"max-width:218px;"},j=c.a.memo(Object(o.g)((function(e){var t=e.onStopSession,n=e.brandUser,r=e.intl,c=Object(a.useMemo)((function(){return{agentName:v.a.getName(n)}}),[n]),o=Object(a.useMemo)((function(){return r.formatMessage(O.a.settingUpCobrowsing,c)}),[c,r]),i=Object(a.useMemo)((function(){return g}),[]);return Object(h.jsx)(p.a,{onClose:t,Icon:b,description:o,descriptionStyles:i})}))),m=n(149);t.a=function(e){var t=e.sessionState;return t!==m.b.INITIATED&&t!==m.b.SETUP&&t!==m.b.RESUMED?null:Object(h.jsx)(j,e)}},687:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(2),a=n(703),c=n.n(a),o=n(279),i=n.n(o),s=n(232),u=9,d=27,l=function(e){var t=Object(r.useRef)(null),n=Object(r.useContext)(s.FrameContext).document;return Object(r.useEffect)((function(){var r=t.current;if(r){var a=r.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, [tabindex="0"], [contenteditable]');if(0!==a.length){var o=c()(a),s=i()(a),l=function(t){switch(t.keyCode){case u:return void(t.shiftKey&&n.activeElement===o?(t.preventDefault(),s&&s.focus()):t.shiftKey||n.activeElement!==s||(t.preventDefault(),o&&o.focus()));case d:return e()}};return o&&o.focus(),r.addEventListener("keydown",l),function(){r.removeEventListener("keydown",l)}}}}),[e]),t},f=function(e){var t=l(e.onBlur);return e.children(t)}},688:function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));n(2);var r=n(17),a=n(3),c=n(5),o=n(115),i=n(142),s=n(263);var u=Object(r.a)("div",{target:"e1exikj40"})("position:fixed;top:0px;left:0px;width:100%;height:100%;z-index:",(function(e){return Object(c.e)("frame.zIndex")(e)}),";transform:translateZ(",(function(e){return Object(c.e)("frame.translateZ")(e)}),"px);"),d=Object(r.a)(i.a,{target:"e1exikj41"})({name:"1l2nfdo",styles:"border:0 none;height:100%;width:100%;"}),l={name:"1egabj8",styles:".frame-content{width:100%;height:100%;}.frame-root{height:100%;width:100%;}body{background-color:transparent;}"},f=Object(r.a)("div",{target:"e1exikj42"})("width:100%;height:100%;position:relative;",(function(e){return e.isPhone&&"backdrop-filter: blur(2px);"}),""),b=Object(r.a)("div",{target:"e1exikj43"})("position:absolute;padding:",(function(e){var t=+Object(c.e)("confirmationBox.paddingTop")(e),n=+Object(c.e)("confirmationBox.paddingRight")(e),r=+Object(c.e)("confirmationBox.paddingLeft")(e),a=+Object(c.e)("confirmationBox.paddingBottom")(e);return"".concat(t,"px ").concat(n,"px ").concat(a,"px ").concat(r,"px")}),";",(function(e){return e.isPhone?"\n      top: 0;\n      left: 0;\n      height: 100%;\n      width: 100%;\n      opacity: 0.95;\n      ":"\n      box-shadow: 0 4px 10px 0 rgba(49, 39, 39, 0.2);\n      border-radius: ".concat(Object(c.e)("frame.borderRadius")(e),";\n      left: 50%;\n      top: 50%;\n      transform: translate(-50%, -50%);\n      max-width: 312px;\n      width: 85%;\n  ")})," color:",Object(c.a)("charcoal"),";background-color:",Object(c.e)("confirmationBox.backgroundColor"),";"),p=Object(r.a)("div",{target:"e1exikj44"})("font-size:",Object(c.e)("confirmationBox.header.title.fontSize"),"px;font-family:",Object(c.c)("confirmationBox.header.title.fontFamily"),";font-weight:",Object(c.e)("confirmationBox.header.title.fontWeight"),";padding-bottom:",Object(c.e)("confirmationBox.header.paddingBottom"),"px;"),O=Object(r.a)("div",{target:"e1exikj45"})("font-size:",Object(c.e)("confirmationBox.description.fontSize"),"px;font-weight:normal;color:",Object(c.a)("charcoal"),";text-align:center;"),v=Object(r.a)(s.a,{target:"e1exikj46"})("position:absolute;top:env(safe-area-inset-top);",Object(o.c)("right: env(safe-area-inset-right);","left: env(safe-area-inset-left);"),""),h=function(e){return Object(a.css)({height:"".concat(Object(c.e)("confirmationBox.header.iconButton.icon.height")({theme:e}),"px"),width:"".concat(Object(c.e)("confirmationBox.header.iconButton.icon.width")({theme:e}),"px")},"")},g=function(e){return Object(a.css)({height:"".concat(Object(c.e)("confirmationBox.header.iconButton.button.height")({theme:e}),"px"),width:"".concat(Object(c.e)("confirmationBox.header.iconButton.button.width")({theme:e}),"px")},"")},j=n(157),m=n(99),x=n(170),y=n(75),I=function(e){var t=e.onClose,n=e.title,r=e.description,c=e.descriptionStyles,o=e.Icon,i=Object(y.b)(),s=Object(m.a)(),I=Object(x.a)().direction;return Object(a.jsx)(u,{className:"spr-chat__cobrowseInfo-box spr-live-chat-frame __cbio_ignored"},Object(a.jsx)(d,{name:"spr-chat__cobrowseInfo-frame"},Object(a.jsx)(a.Global,{styles:l}),Object(a.jsx)(f,{isPhone:s},Object(a.jsx)(b,{isPhone:s},Object(a.jsx)("div",{className:"flex-column-container center-x-y spr full-width full-height"},Object(a.jsx)(v,{direction:I,iconName:"closeIcon",Icon:j.a,onClick:t,iconCss:h(i),css:g(i)}),Object(a.jsx)(o,null),n&&Object(a.jsx)(p,null,n),r&&Object(a.jsx)(O,{css:c},r))))))}},689:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n(2);var r=n(98),a=n.n(r),c=n(79),o=n(43),i=n(162),s=n(5),u=function(e){return"lg"===Object(s.e)("confirmationBox.buttonGroup.size")({theme:e})?o.a.LARGE:o.a.MEDIUM},d=n(3),l=function(e){var t=e.confirmationLabel,n=e.cancelLabel,r=e.onCancel,s=e.onConfirm,l=e.disabled,f=e.theme,b=e.isFullPage,p=void 0!==b&&b,O=e.confirmationButtonStyles;return Object(d.jsx)(i.a,{className:"flex-row-container",isOnlyButton:!t||!n,isFullPage:p,css:O},n&&Object(d.jsx)(o.c,{size:u(f),variant:o.b.TERTIARY,onClick:r,css:Object(i.h)(f,!t)},a()(e.cancelLabel)?e.cancelLabel:Object(d.jsx)(c.b,e.cancelLabel)),t&&Object(d.jsx)(o.c,{size:u(f),variant:o.b.PRIMARY,onClick:s,disabled:l,css:Object(i.h)(f,!n)},a()(t)?t:Object(d.jsx)(c.b,t)))}},690:function(e,t,n){"use strict";var r=n(4),a=n(12),c=n(31),o=n(35),i=n(15),s=n.n(i),u=n(706),d=n.n(u);function l(e){var t=this;return s()(e)?Promise.reject():new Promise((function(n,r){t.client.subscribe(e,(function(e,t){e?r(e):n(t)}))}))}function f(e){var t=this;return s()(e)?Promise.reject():new Promise((function(n,r){t.client.unsubscribe(e,(function(e,t){e?r(e):n(t)}))}))}function b(e,t,n){var r=this;return new Promise((function(a,c){r.client.publish(e,JSON.stringify(t),n,(function(e){e?c(e):a()}))}))}function p(){this.pendingActions=[],this.client.end(!0)}function O(e,t){return this.client.on(e,t),Promise.resolve()}var v={publish:b,subscribe:l,unsubscribe:f,on:O};function h(e,t){return function(){for(var n=this,r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return this.isConnected()?t.call.apply(t,[this].concat(a)):new Promise((function(t,r){n.pendingActions.push({action:e,payload:a,promise:{resolve:t,reject:r}})}))}}function g(){var e=this,t=this.pendingActions;s()(t)||(t.forEach((function(t){var n,r=t.action,a=t.payload,c=t.promise;(n=v[r]).call.apply(n,[e].concat(Object(o.a)(a))).then((function(){c&&c.resolve()})).catch((function(e){c&&c.reject(e)}))})),this.pendingActions=[])}var j=function(){function e(){Object(a.a)(this,e),this.subscribe=h("subscribe",l),this.unsubscribe=h("unsubscribe",f),this.publish=h("publish",b),this.on=h("on",O),this.client=null,this.pendingActions=[]}return Object(c.a)(e,[{key:"isInitialized",value:function(){return!!this.client}},{key:"isConnected",value:function(){return this.isInitialized()&&this.client.connected}},{key:"connect",value:function(e,t){var n=this;return new Promise((function(r,a){n.client=d.a.connect(e,t),n.client.on("connect",(function(){g.call(n),r()})),n.client.on("error",(function(){a()}))}))}},{key:"disconnect",value:function(){var e=this;return new Promise((function(t,n){return e.isConnected()||e.isInitialized()?(p.call(e),void t()):void n()}))}}]),e}(),m={clean:!0,connectTimeout:1e4,keepalive:20},x=function(){function e(t){Object(a.a)(this,e),this._userName=t.userName,this._clientId=t.clientId,this._inboxServerUrl=t.inboxServerUrl,this._userInbox=t.userInbox,this._client=new j}return Object(c.a)(e,[{key:"connect",value:function(){var e=this._userName,t=this._clientId,n=this._inboxServerUrl,r=Object.assign({username:e,password:e,clientId:t},m);return this._client.connect(n,r)}},{key:"disconnect",value:function(){return this._client.disconnect()}},{key:"subscribe",value:function(){return this._client.subscribe(Object(r.a)({},this._userInbox,1))}},{key:"unsubscribe",value:function(){return this._client.unsubscribe(this._userInbox)}},{key:"on",value:function(e,t){this._client.on(e,t)}}]),e}();t.a=x},691:function(e,t,n){"use strict";var r=n(4),a=n(13),c=n(2),o=n(74),i=n.n(o),s=n(38),u=n.n(s),d=n(130),l=n.n(d),f=n(180),b=n.n(f),p=n(201),O=n.n(p),v=n(25),h=n.n(v),g=n(109),j=[],m=!1,x=function(){return Object(g.a)().history},y=function(){j.length>0&&setTimeout((function(){try{h()(j,(function(e){return e()}))}catch(e){console.error(e)}}),0)},I=function(){var e=Object(g.a)();Object(g.b)(e)&&!m&&(!function(){if(!m){m=!0;var e=Object(g.a)(),t=x().pushState,n=x().replaceState;e.history.pushState=function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var c=t.call.apply(t,[e.history].concat(r));return y(),c},e.history.replaceState=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var c=n.call.apply(n,[e.history].concat(r));return y(),c}}}(),e.addEventListener("popstate",y),e.addEventListener("hashchange",y))},w=function(){return Object(c.useCallback)((function(e){return function(e){O()(e)&&(j.push(e),I())}(e),function(){!function(e){O()(e)&&(j=b()(j,(function(t){return t!==e})))}(e)}}),[])},C=n(108);t.a=function(){var e=w(),t=Object(c.useRef)(Object(C.b)()),n=Object(c.useRef)({}),o=Object(c.useCallback)((function(){t.current=Object(C.b)(),u()(n.current,(function(e){e()}))}),[]);return{subscribe:Object(c.useCallback)((function(t,c){n.current=Object(a.a)(Object(a.a)({},n.current),{},Object(r.a)({},t,c));var s=null;return 1===l()(n.current).length&&(s=e(o)),function(){n.current=i()(n.current,t),0===l()(n.current).length&&null!==s&&s()}}),[]),getValue:Object(c.useCallback)((function(){return t.current}),[])}}},699:function(e,t){},7:function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"g",(function(){return a})),n.d(t,"H",(function(){return c})),n.d(t,"I",(function(){return o})),n.d(t,"J",(function(){return i})),n.d(t,"l",(function(){return s})),n.d(t,"m",(function(){return u})),n.d(t,"n",(function(){return d})),n.d(t,"i",(function(){return l})),n.d(t,"h",(function(){return f})),n.d(t,"j",(function(){return b})),n.d(t,"o",(function(){return p})),n.d(t,"k",(function(){return O})),n.d(t,"e",(function(){return v})),n.d(t,"u",(function(){return h})),n.d(t,"w",(function(){return g})),n.d(t,"v",(function(){return j})),n.d(t,"r",(function(){return m})),n.d(t,"s",(function(){return x})),n.d(t,"t",(function(){return y})),n.d(t,"z",(function(){return I})),n.d(t,"V",(function(){return w})),n.d(t,"A",(function(){return C})),n.d(t,"U",(function(){return T})),n.d(t,"O",(function(){return E})),n.d(t,"c",(function(){return k})),n.d(t,"p",(function(){return S})),n.d(t,"q",(function(){return _})),n.d(t,"N",(function(){return A})),n.d(t,"d",(function(){return N})),n.d(t,"Q",(function(){return R})),n.d(t,"R",(function(){return P})),n.d(t,"S",(function(){return L})),n.d(t,"T",(function(){return D})),n.d(t,"P",(function(){return M})),n.d(t,"M",(function(){return B})),n.d(t,"K",(function(){return U})),n.d(t,"L",(function(){return F})),n.d(t,"y",(function(){return G})),n.d(t,"x",(function(){return z})),n.d(t,"B",(function(){return V})),n.d(t,"G",(function(){return W})),n.d(t,"F",(function(){return H})),n.d(t,"E",(function(){return K})),n.d(t,"D",(function(){return Y})),n.d(t,"C",(function(){return $})),n.d(t,"W",(function(){return X})),n.d(t,"X",(function(){return q})),n.d(t,"a",(function(){return J})),n.d(t,"b",(function(){return Q}));var r="@conversation/COLLECTION_LOAD",a="@conversation/COLLECTION_LOADED",c="@conversation/NEW_CONVERSATION_ADD",o="@conversation/NEW_CONVERSATION_INITIATE",i="@conversation/NEW_CONVERSATION_INITIATED",s="@conversation/CONVERSATION_LOAD",u="@conversation/CONVERSATION_LOADED",d="@conversation/CONVERSATION_LOAD_FAILED",l="@conversation/CONVERSATIONS_DELETE",f="@conversation/CONVERSATIONS_CLOSE",b="@conversation/CONVERSATIONS_UPDATED",p="@conversation/CONVERSATION_SAVE",O="@conversation/CONVERSATION_CONTEXT_UPDATE",v="@conversation/CLIENT_CONTEXT_UPDATE",h="@conversation/EXISTING_CONVERSATION_ADD",g="@conversation/EXISTING_CONVERSATION_ADD_FAILED",j="@conversation/EXISTING_CONVERSATION_ADDED",m="@conversation/EXISTING_CASE_ADD",x="@conversation/EXISTING_CASE_ADDED",y="@conversation/EXISTING_CASE_ADD_FAILED",I="@conversation/FAQ_LOAD",w="@conversation/TEXT_SEND",C="@conversation/MEDIA_SEND",T="@conversation/TEMPLATE_POSTBACK_SEND",E="@conversation/QUICK_REPLY_SEND",k="@conversation/ATTACHMENT_ACTION_TRIGGERED",S="@conversation/DISCLAIMER_STATUS_CHANGE",_="@conversation/DISCLAIMER_STATUS_CHANGED",A="@conversation/OPEN_URL",N="@conversation/CALL_ENABLE_TOGGLE",R="@conversation/SURVEY_OPEN",P="@conversation/SURVEY_OPENED",L="@conversation/SURVEY_SUBMITTED",D="@conversation/SURVEY_SUBMIT_FAILED",M="@conversation/SURVEY_CANCELED",B="@chat/NOTIFICATION_RECEIVED",U="@chat/NOTIFICATIONS_RECEIVED",F="@chat/NOTIFICATION_READ",G="@conversation/EXTERNAL_EVENT_SEND",z="@conversation/EXTERNAL_EVENT_RECEIVED",V="@chat/MESSAGE_RECEIVED",W="@chat/MESSAGE_UPDATED",H="@chat/MESSAGE_SEND_TRANSIENT",K="@chat/MESSAGE_SEND_SUCCESS",Y="@chat/MESSAGE_SEND_FAILURE",$="@chat/MESSAGE_REMOVED",X="@user/USER_START_TYPING",q="@user/USER_STOP_TYPING",J="@user/AGENT_START_TYPING",Q="@user/AGENT_STOP_TYPING"},721:function(e,t,n){e.exports=n(1239)},77:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o}));var r={WAITING:"WAITING",SETUP:"SETUP",FAILED:"FAILED",JOINING:"JOINING",JOINED:"JOINED"},a={INITIATING:"INITIATING",SETUP:"SETUP",JOINING:"JOINING",JOINED:"JOINED"},c={INCOMING:"INCOMING",OUTGOING:"OUTGOING"},o={AUDIO:"AUDIO",VIDEO:"VIDEO"}},78:function(e,t,n){"use strict";t.a={TEXT_POST_BACK:"TEXT_POST_BACK",START_VIDEO_CALL:"START_VIDEO_CALL",START_AUDIO_CALL:"START_AUDIO_CALL",ACCEPT_CO_BROWSE:"ACCEPT_CO_BROWSE",DENY_CO_BROWSE:"DENY_CO_BROWSE",FORM_POST_BACK:"FORM_POST_BACK",SECURE_FORM_POST_BACK:"SECURE_FORM_POST_BACK",APPOINTMENT_POST_BACK:"APPOINTMENT_POST_BACK",FETCH_APPOINTMENT_TIME_SLOTS:"FETCH_APPOINTMENT_TIME_SLOTS",RESERVE_APPOINTMENT_TIME_SLOT:"RESERVE_APPOINTMENT_TIME_SLOT",LOCATION_POST_BACK:"LOCATION_POST_BACK",CONTACT_DETAILS_POST_BACK:"CONTACT_DETAILS_POST_BACK",FEEDBACK_POST_BACK:"FEEDBACK_POST_BACK",SURVEY_POST_BACK:"SURVEY_POST_BACK",EXTERNAL:"EXTERNAL",OPEN_URL:"OPEN_URL",ACCOUNT_LINK:"ACCOUNT_LINK"}},80:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(12),a=n(9),c=n.n(a),o=n(10),i=n(6),s=n(39),u=Object(o.a)("otherConfigs"),d=Object(o.a)("workQueueId"),l=Object(o.a)("cards"),f=Object(o.a)("partnerId"),b=Object(o.a)("name"),p=Object(o.a)("id"),O=Object(o.a)("accountUserId"),v=Object(o.a)("filter"),h=Object(o.a)("visibilityConfig"),g=Object(o.a)("noDisplayConfig"),j=Object(o.a)("defaultLocale"),m=Object(o.a)("supportedLocales"),x=Object(o.a)("callConfiguration"),y=function e(){Object(r.a)(this,e)};y.getCustomizationConfig=Object(i.a)(u),y.getWorkQueueId=Object(i.a)(d),y.getCards=Object(i.a)(l),y.getParnterId=Object(i.a)(f),y.getAppId=Object(i.a)(p),y.getAccountUserId=Object(i.a)(O),y.getVisibilityConfigFilter=Object(s.a)(Object(i.a)(v),Object(i.a)(h)),y.getNoDisplayConfigFilter=Object(s.a)(Object(i.a)(v),Object(i.a)(g)),y.getDefaultLocale=Object(i.a)(j),y.getSupportedLocales=Object(i.a)(m),y.getAccountDisplayName=Object(i.a)(b),y.getCallConfiguration=Object(i.a)(x),y.getAudioCallConfiguration=function(e){var t=y.getCallConfiguration(e);return c()(t,"audioConfig")||e.audioChatConfiguration},y.getVideoCallConfiguration=function(e){var t=y.getCallConfiguration(e);return c()(t,"videoConfig")||e.videoChatConfiguration},y.getCallAccountId=function(e){var t=y.getCallConfiguration(e);return c()(t,"accountId")||e.videoChatProviderAccountId}},81:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(12),a=n(6),c=n(10),o=n(39),i=function e(){Object(r.a)(this,e)};i.getAnonymousId=Object(a.a)(Object(c.a)("anonymousId")),i.getAnonymousInbox=Object(a.a)(Object(c.a)("anonymousInbox")),i.getChatSessionToken=Object(a.a)(Object(c.a)("chatSessionToken")),i.getChatUser=Object(a.a)(Object(c.a)("chatUser")),i.getBotUsers=Object(a.a)(Object(c.a)("botUsers")),i.getInboxServerUrl=Object(a.a)(Object(c.a)("inboxServerUrl")),i.getUserInbox=Object(a.a)(Object(c.a)("userInbox")),i.getProactiveInboxServerUrl=Object(a.a)(Object(c.a)("proactivePromptInboxServerUrl")),i.getProactiveUserInbox=Object(a.a)(Object(c.a)("proactiveUserInbox")),i.getAgentAvailabilityDetails=Object(a.a)(Object(c.a)("agentAvailabilityDetails")),i.getNoOfAgentsAvailable=Object(o.a)(Object(a.a)(Object(c.a)("noOfAgentsAvailable")),Object(a.a)(Object(c.a)("agentAvailabilityDetails"))),i.getNumberOfPendingCases=Object(o.a)(Object(a.a)(Object(c.a)("numberOfPendingCases")),Object(a.a)(Object(c.a)("agentAvailabilityDetails"))),i.getTimeToAvailability=Object(a.a)(Object(c.a)("timeToAvailability")),i.getNumberOfOpenConversations=Object(o.a)(Object(a.a)(Object(c.a)("noOfOpenConversations")),Object(a.a)(Object(c.a)("filterStats"))),i.getUserPreferences=Object(a.a)(Object(c.a)("userPreferences")),i.getCobrowsingDetails=Object(a.a)(Object(c.a)("coBrowsingDetails"))},86:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"g",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return l}));var r="ACTION_START",a="ACTION_STOP",c="MSG_PUBLISHED",o="PROGRESS_PUBLISHED",i="MSG_PUBLISH",s="EVENT_PUBLISH",u="PROGRESS_PUBLISH",d="SESSION_PROCESS_START",l="SESSION_PROCESS_STOP"},89:function(e,t,n){"use strict";n.d(t,"c",(function(){return X})),n.d(t,"d",(function(){return ie})),n.d(t,"b",(function(){return _})),n.d(t,"a",(function(){return B}));var r=n(0),a=n.n(r),c=n(19),o=n(33),i=n(152),s=n.n(i),u=n(92),d=n.n(u),l=n(27),f=n(26),b=n(91),p=n.n(b),O=n(116),v=n.n(O);function h(e){var t=e();return p()(t)&&t.then?new Promise((function(e,n){try{t.then((function(t){e(t)}),(function(e){n(e)})),t.catch&&t.catch((function(e){n(e)}))}catch(r){n(r)}})):Promise.resolve(t)}function g(e){return{getItem:function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.abrupt("return",h((function(){return e.getItem(n)})).then((function(e){return e?JSON.parse(e):void 0})).catch((function(e){return console.warn("Can't get item for ".concat(n," due to ").concat(e))})));case 4:return t.prev=4,t.t0=t.catch(0),console.warn("Can't get item for ".concat(n," due to ").concat(t.t0)),t.abrupt("return",Promise.reject(t.t0));case 8:case"end":return t.stop()}}),t,null,[[0,4]])})));return function(e){return t.apply(this,arguments)}}(),setItem:function(){var t=Object(c.a)(a.a.mark((function t(n,r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.abrupt("return",h((function(){return e.setItem(n,JSON.stringify(r))})).then(v.a).catch((function(e){return console.warn("Can't set item (".concat(n,", ").concat(r,") due to ").concat(e))})));case 4:return t.prev=4,t.t0=t.catch(0),console.warn("Can't set item (".concat(n,", ").concat(r,") due to ").concat(t.t0)),t.abrupt("return",Promise.reject(t.t0));case 8:case"end":return t.stop()}}),t,null,[[0,4]])})));return function(e,n){return t.apply(this,arguments)}}(),removeItem:function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.abrupt("return",h((function(){return e.removeItem(n)})).then(v.a).catch((function(e){return console.warn("Can't remove item for ".concat(n," due to ").concat(e))})));case 4:return t.prev=4,t.t0=t.catch(0),console.warn("Can't remove item for ".concat(n," due to ").concat(t.t0)),t.abrupt("return",Promise.reject(t.t0));case 8:case"end":return t.stop()}}),t,null,[[0,4]])})));return function(e){return t.apply(this,arguments)}}()}}var j,m,x="Cookie access is blocked",y="Not a subdomain site";function I(e){return s()(d()(s()(document.cookie,"; "),(function(t){return t.startsWith("".concat(e,"="))})),"=")[1]}function w(){var e=Object(f.b)().location.hostname.split("."),t=Object(o.a)(e,3),n=t[1],r=t[2];return{origin:l.a.getSessionOrigin(Object(f.a)())||"".concat(n,".").concat(r),domains:e}}function C(){return j||(j=new Promise((function(e,t){navigator.cookieEnabled||t(new Error(x));var n=w(),r=n.origin,a=n.domains;!r&&a.length<3&&t(new Error(y)),e(!0)})))}function T(){return E.apply(this,arguments)}function E(){return(E=Object(c.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:t=w(),n=t.origin,m=g({getItem:function(e){try{return Promise.resolve(I(e))}catch(t){return Promise.reject(t)}},setItem:function(e,t){try{return document.cookie="".concat(e,"=").concat(t,";path=/;domain=").concat(n,";SameSite=Strict;").concat("Secure"),Promise.resolve()}catch(r){return Promise.reject(r)}},removeItem:function(e){try{return document.cookie="".concat(e,"=;path=/;domain=").concat(n,";SameSite=Strict;").concat("Secure"),Promise.resolve()}catch(t){return Promise.reject(t)}}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k,S,_={getItem:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m){e.next=3;break}return e.next=3,T();case 3:return e.abrupt("return",m.getItem(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),setItem:function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m){e.next=3;break}return e.next=3,T();case 3:return e.abrupt("return",m.setItem(t,n));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),removeItem:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m){e.next=3;break}return e.next=3,T();case 3:return e.abrupt("return",m.removeItem(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},A="Cross origin storage iframe is not defined",N="iframe contentWindow is not defined";function R(e){var t=Object(f.b)().document.getElementById("spr-live-chat-session-storage");return new Promise((function(n,r){t||r(new Error(A));t.contentWindow?(window.addEventListener("message",(function e(t){"DATA"===t.data.action&&(window.removeEventListener("message",e),n(t.data.value)),"ERROR"===t.data.action&&(window.removeEventListener("message",e),r(new Error(t.data.value)))}),!1),t.contentWindow.postMessage(e,"*")):r(new Error(N))}))}function P(){if(k)return k;var e=document.createElement("iframe");return e.setAttribute("id","spr-live-chat-session-storage"),e.setAttribute("src","https://live-chat-static.sprinklr.com/chat/session/index.html"),e.setAttribute("style","visibility:hidden"),Object(f.b)().document.body.appendChild(e),k=new Promise((function(t,n){e.onload=function(){try{if(e.contentWindow){window.addEventListener("message",(function e(r){"INIT_SUCCESS"===r.data.action&&(window.removeEventListener("message",e),t(!0)),"INIT_FAILURE"===r.data.action&&(window.removeEventListener("message",e),n(r.data.message))}),!1),e.contentWindow.postMessage({action:"SPR_INIT"},"*")}}catch(r){n(r)}}}))}function L(){return D.apply(this,arguments)}function D(){return(D=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:S=g({getItem:function(e){return R({action:"SPR_GET",key:e})},setItem:function(e,t){return R({action:"SPR_SET",key:e,value:t})},removeItem:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R({action:"SPR_REMOVE",key:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var M,B={getItem:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S){e.next=3;break}return e.next=3,L();case 3:return e.abrupt("return",S.getItem(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),setItem:function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S){e.next=3;break}return e.next=3,L();case 3:return e.abrupt("return",S.setItem(t,n));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),removeItem:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S){e.next=3;break}return e.next=3,L();case 3:return e.abrupt("return",S.removeItem(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};function U(){try{return window.localStorage?Promise.resolve(!0):Promise.reject(new Error("window.localStorage is undefined"))}catch(e){return Promise.reject(e)}}function F(){return G.apply(this,arguments)}function G(){return(G=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:M=g(window.localStorage);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var z={getItem:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M){e.next=3;break}return e.next=3,F();case 3:return e.abrupt("return",M.getItem(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),setItem:function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M){e.next=3;break}return e.next=3,F();case 3:return e.abrupt("return",M.setItem(t,n));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),removeItem:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M){e.next=3;break}return e.next=3,F();case 3:return e.abrupt("return",M.removeItem(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};var V,W=function(){var e={};return{getItem:function(t){return e[t]},setItem:function(t,n){e[t]=n},removeItem:function(t){delete e[t]}}}();function H(){return K.apply(this,arguments)}function K(){return(K=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P();case 3:V=B,e.next=28;break;case 6:return e.prev=6,e.t0=e.catch(0),console.warn(e.t0),e.prev=9,e.next=12,C();case 12:V=_,e.next=28;break;case 15:return e.prev=15,e.t1=e.catch(9),console.warn(e.t0),e.prev=18,e.next=21,U();case 21:V=z,e.next=28;break;case 24:e.prev=24,e.t2=e.catch(18),console.warn(e.t2),V=W;case 28:case"end":return e.stop()}}),e,null,[[0,6],[9,15],[18,24]])})))).apply(this,arguments)}var Y,$,X={getItem:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(V){e.next=3;break}return e.next=3,H();case 3:return e.abrupt("return",V.getItem(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),setItem:function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(V){e.next=3;break}return e.next=3,H();case 3:return e.abrupt("return",V.setItem(t,n));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),removeItem:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(V){e.next=3;break}return e.next=3,H();case 3:return e.abrupt("return",V.removeItem(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},q=n(46),J=n.n(q),Q={presence:!0,type:"function"},Z={getItem:Q,setItem:Q,removeItem:Q};function ee(){if(Y)return Y;var e=Object(f.a)().sessionStorage;return Y=new Promise((function(t,n){var r;e&&(r=e,J()(r,Z)||t(!0),n(new Error("Not a valid external storage"))),n()}))}function te(){return ne.apply(this,arguments)}function ne(){return(ne=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee();case 2:$=g(Object(f.a)().sessionStorage);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var re,ae={getItem:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($){e.next=3;break}return e.next=3,te();case 3:return e.abrupt("return",$.getItem(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),setItem:function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($){e.next=3;break}return e.next=3,te();case 3:return e.abrupt("return",$.setItem(t,n));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),removeItem:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($){e.next=3;break}return e.next=3,te();case 3:return e.abrupt("return",$.removeItem(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};function ce(){return oe.apply(this,arguments)}function oe(){return(oe=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee();case 3:re=ae,e.next=19;break;case 6:return e.prev=6,e.t0=e.catch(0),e.t0&&console.warn(e.t0),e.prev=9,e.next=12,U();case 12:re=z,e.next=19;break;case 15:e.prev=15,e.t1=e.catch(9),console.warn(e.t1),re=W;case 19:case"end":return e.stop()}}),e,null,[[0,6],[9,15]])})))).apply(this,arguments)}var ie={getItem:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(re){e.next=3;break}return e.next=3,ce();case 3:return e.abrupt("return",re.getItem(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),setItem:function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(re){e.next=3;break}return e.next=3,ce();case 3:return e.abrupt("return",re.setItem(t,n));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),removeItem:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(re){e.next=3;break}return e.next=3,ce();case 3:return e.abrupt("return",re.removeItem(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},93:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"g",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return l}));var r=n(30),a=n(184),c=function(e){var t=e.ssoId,n=e.conversationId,a=e.messageId;return function(e){return{type:r.d,payload:{ssoId:t,conversationId:n,messageId:a},promise:e}}};function o(){return{type:r.f}}function i(e){return{type:r.g,payload:{status:e?a.a.CONNECTED:a.a.DISCONNECTED}}}function s(e){var t=e.waitTime,n=e.reason;return{type:r.j,payload:{waitTime:t,reason:n}}}function u(){return{type:r.n,payload:{}}}function d(e){return{type:r.i,payload:e}}function l(){return{type:r.h,payload:{}}}},94:function(e,t,n){"use strict";var r=n(117);n.d(t,"a",(function(){return r.f})),n.d(t,"b",(function(){return r.g})),n.d(t,"c",(function(){return r.h})),n.d(t,"d",(function(){return r.l})),n.d(t,"e",(function(){return r.m})),n.d(t,"f",(function(){return r.o})),n.d(t,"g",(function(){return r.p})),n.d(t,"h",(function(){return r.r})),n.d(t,"i",(function(){return r.s})),n.d(t,"j",(function(){return r.t})),n.d(t,"k",(function(){return r.u})),n.d(t,"l",(function(){return r.v})),n.d(t,"m",(function(){return r.w})),n.d(t,"n",(function(){return r.x})),n.d(t,"o",(function(){return r.z})),n.d(t,"p",(function(){return r.A})),n.d(t,"q",(function(){return r.B})),n.d(t,"r",(function(){return r.C}));n(509)},96:function(e,t,n){"use strict";t.a={}},97:function(e,t,n){"use strict";n.d(t,"e",(function(){return E})),n.d(t,"c",(function(){return k})),n.d(t,"d",(function(){return S})),n.d(t,"b",(function(){return _}));var r=n(4),a=n(13),c=n(18),o=n.n(c),i=n(15),s=n.n(i),u=n(20),d=n(87),l=n.n(d),f=n(25),b=n.n(f),p=n(9),O=n.n(p),v=n(65),h=n(80),g=n(81),j=n(96),m={enableSoundNotification:{id:"enableSoundNotification",defaultValue:!0}},x=function(e,t){var n=v.a.getUserPreferences(h.a.getCustomizationConfig(t))||j.a,c=g.a.getUserPreferences(e),o={};return b()(m,(function(e){var t=e.id,i=!!O()(n,t),s=l()(O()(c,t))?e.defaultValue:O()(c,t),u=!i||t===m.enableSoundNotification.id&&n.hideSoundNotificationPreference;o=Object(a.a)(Object(a.a)({},o),{},Object(r.a)({},t,{enabled:i&&s,hidden:u}))})),o},y=n(57),I=n(45),w=n(168),C=n(7),T={isMinimized:!0,isHidden:!1,enableLiveChat:!0,meta:{isTriggerHiddenWhenMinimised:!1,isTriggerInitiallyHidden:!1,isTriggerHiddenWhenMaximised:!1,isTriggerHiddenDueToDisplayConfig:!1,promptsCount:0},userPreferences:{}};var E=function(e){return e.isMinimized},k=function(e){return e.userPreferences},S=function(e){return e.isHidden},_=function(e){return e.enableLiveChat};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y.b:var n=t.payload,c=n.applicationConfig,i=n.handshakeDetails,d=h.a.getCustomizationConfig(c),l=!!v.a.isChatTriggerInitiallyHidden(d),f=v.a.isChatTriggerHidden(d),b=!s()(h.a.getNoDisplayConfigFilter(c)),p=Object(u.F)(),O=(l||f||b)&&p,g=x(i,c);return o()(e,{meta:{isTriggerHiddenWhenMinimised:{$set:f},isTriggerInitiallyHidden:{$set:l},isTriggerHiddenWhenMaximised:{$set:!!v.a.isTriggerHiddenWhenMaximised(d)},isTriggerHiddenDueToDisplayConfig:{$set:b}},isHidden:{$set:O},isMinimized:{$set:p},userPreferences:{$set:g}});case I.d:var j=e.meta.isTriggerHiddenWhenMaximised;return o()(e,{isMinimized:{$set:!1},isHidden:{$set:j}});case I.b:var m=e.meta,E=m.isTriggerHiddenWhenMinimised,k=m.isTriggerHiddenDueToDisplayConfig;return o()(e,{isMinimized:{$set:!0},isHidden:{$set:E||k}});case I.n:var S=t.payload.userPreferenceKey,_=Object(a.a)(Object(a.a)({},e.userPreferences[S]),{},{enabled:t.payload.value});return o()(e,{userPreferences:Object(r.a)({},S,{$set:_})});case I.i:return o()(e,{isHidden:{$set:!0}});case w.a:var A=e.meta,N=A.promptsCount,R=A.isTriggerHiddenWhenMinimised,P=A.isTriggerInitiallyHidden,L=e.isHidden,D=N+1;return o()(e,{meta:{promptsCount:{$set:D}},isHidden:{$set:!R&&!P&&L}});case w.b:var M=e.meta,B=M.isTriggerHiddenWhenMinimised,U=M.promptsCount,F=M.isTriggerHiddenDueToDisplayConfig,G=e.isMinimized,z=e.isHidden,V=Math.max(0,U-1),W=z;return V>0?W=!1:(B||F)&&G&&(W=!0),o()(e,{meta:{promptsCount:{$set:V}},isHidden:{$set:W}});case C.K:case C.M:var H=e.meta,K=H.isTriggerHiddenWhenMinimised,Y=H.isTriggerHiddenDueToDisplayConfig,$=e.isMinimized,X=e.isHidden,q=X;return K||Y||!$||(q=!1),o()(e,{isHidden:{$set:q}});case I.l:var J=e.meta.isTriggerHiddenWhenMinimised,Q=e.isMinimized,Z=t.payload.value;return o()(e,{meta:{isTriggerHiddenDueToDisplayConfig:{$set:Z}},isMinimized:{$set:Z||Q},isHidden:{$set:J||Z}});case I.h:return o()(e,{enableLiveChat:{$set:!0}});case I.g:return o()(e,{enableLiveChat:{$set:!1}});default:return e}}},99:function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));var r=n(2),a=n(270);var c=function(){return Object(r.useContext)(a.a)},o=n(20),i=n(109),s=n(167);function u(e){return!!Object(o.C)()||(e.width<=s.c||e.height<=s.c)&&!Object(i.c)()}t.a=function(){var e=c();return Object(r.useMemo)((function(){return u(e)}),[e])}}});
//# sourceMappingURL=main.8589c4da.js.map